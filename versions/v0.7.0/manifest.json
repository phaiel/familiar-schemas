{
  "version": {
    "version": "0.7.0",
    "commit_hash": null,
    "tag": null,
    "created_at": "2025-12-18T18:59:43.158928Z",
    "created_by": null,
    "notes": null,
    "previous_version": null
  },
  "schemas": [
    {
      "schema": {
        "name": "ThreadId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A conversation thread's unique identifier",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "ThreadId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/ThreadId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "45607a2b9e1e107a0731664a13c22832ce777c92633d836eed3211ddb5959928",
      "created_at": "2025-12-18T18:59:43.159101Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SessionId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A session's unique identifier",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "SessionId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/SessionId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "06221d82b672f059892ff7b97e9f99a6bd8a049158ec477fae45790f466bfaed",
      "created_at": "2025-12-18T18:59:43.159346Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MagicLinkId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A unique identifier for magic links",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "MagicLinkId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/MagicLinkId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "cb14124d3183105c46b097d1fe32d426b4db0ab1573efe73540fd3ea4ba19241",
      "created_at": "2025-12-18T18:59:43.159436Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DeletionRequestId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A unique identifier for data deletion requests",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "DeletionRequestId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/DeletionRequestId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "bdb19d9fcaea8c16316a4bad09d1ffc72a8b65fd3465f0c7b6d8a9f03eb55e49",
      "created_at": "2025-12-18T18:59:43.159521Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CourseId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A course (workflow instance) unique identifier",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "CourseId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/CourseId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4f3dff0cd6d2c74ab7aa970970290cd4f617904ae0ab01df91e3468d4353f9d9",
      "created_at": "2025-12-18T18:59:43.159623Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ShuttleId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A unique identifier for shuttles (response containers)",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "ShuttleId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/ShuttleId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "1d617555455524d3d2c515d6bce4c7886e2ad6a318269e3f6b11c889238ddf90",
      "created_at": "2025-12-18T18:59:43.159706Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "InvitationId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A unique identifier for family invitations",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "InvitationId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/InvitationId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "c8f13c2903e405138e316fe074d75837bdccbf69ea92ead96c54a6ecb95a02c7",
      "created_at": "2025-12-18T18:59:43.159787Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ExportRequestId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A unique identifier for data export requests",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "ExportRequestId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/ExportRequestId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "13f1d739dd82c8affb14f2faa384baf22c3b58e02cb67b320706f43b0fa5e928",
      "created_at": "2025-12-18T18:59:43.159862Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A unique identifier for entities",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "EntityId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/EntityId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f05210be48f9816ac48188bfad81e84e7dedc621ab09a6deb45a415456e0d86d",
      "created_at": "2025-12-18T18:59:43.159952Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "JoinRequestId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A unique identifier for join requests",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "JoinRequestId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/JoinRequestId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "a8feffbec9aa98f51d956eab8fc096cfebf8e13fa0d8b0a6b755757417274b60",
      "created_at": "2025-12-18T18:59:43.160031Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TenantId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A tenant (family) unique identifier",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "TenantId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/TenantId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2c932032442d7979c66192cec06d94f4b04869bdabed8bca76ebb2f79e12654c",
      "created_at": "2025-12-18T18:59:43.160114Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UserId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A user's unique identifier",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "UserId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/UserId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "c0d83237a74a9a83682b843c0891756882153a46507512073a195c9049ef6385",
      "created_at": "2025-12-18T18:59:43.160196Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AuditLogId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A unique identifier for audit log entries",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "AuditLogId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/AuditLogId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6bee9ff3536060d5d180d601968668f629ad29bc045f4b66031f55f8dcabd745",
      "created_at": "2025-12-18T18:59:43.160278Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ConsentRecordId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A unique identifier for consent records",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "ConsentRecordId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/ConsentRecordId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "3c636a2791b6afa35e0a533722bfe4898796a7ac8111b6e656531da79e10d5fa",
      "created_at": "2025-12-18T18:59:43.160359Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ChannelId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A channel's unique identifier",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "ChannelId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/ChannelId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "0e68c516a0839257c3d4c365f8d3f626248d8cd7fceeaeac0b81747c82043762",
      "created_at": "2025-12-18T18:59:43.160441Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TaskId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A unique identifier for async tasks",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "TaskId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/TaskId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "c3fe72c6ddfe8521a41f48b6f2e5103a6521b00a74f96684759254445e3a34be",
      "created_at": "2025-12-18T18:59:43.160534Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MessageId",
        "schema_type": "json_schema",
        "content": {
          "$schema": "https://json-schema.org/draft/2020-12/schema",
          "description": "A message's unique identifier",
          "examples": [
            "550e8400-e29b-41d4-a716-446655440000"
          ],
          "format": "uuid",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "title": "MessageId",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-primitives",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-primitives/generated/schemas/MessageId.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "69fdfddf1ed88c37953a62cf2b7b233214ce129dcb67c92ec6633e0e522c1f56",
      "created_at": "2025-12-18T18:59:43.160617Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Payload",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "RequestContext": {
              "description": "Request context for audit logging",
              "properties": {
                "ip_address": {
                  "description": "Client IP address (may be behind proxy)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "request_id": {
                  "description": "Request ID for correlation",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "user_agent": {
                  "description": "User agent string",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "SignupConsents": {
              "description": "User consent flags for signup",
              "properties": {
                "privacy": {
                  "description": "User accepted privacy policy",
                  "type": "boolean"
                },
                "terms": {
                  "description": "User accepted terms of service",
                  "type": "boolean"
                }
              },
              "required": [
                "privacy",
                "terms"
              ],
              "type": "object"
            },
            "TraceKind": {
              "description": "Type of trace event",
              "oneOf": [
                {
                  "description": "Overall workflow step",
                  "enum": [
                    "step"
                  ],
                  "type": "string"
                },
                {
                  "description": "Agent thinking/reasoning",
                  "enum": [
                    "thought"
                  ],
                  "type": "string"
                },
                {
                  "description": "Tool invocation",
                  "enum": [
                    "tool"
                  ],
                  "type": "string"
                },
                {
                  "description": "Response token stream",
                  "enum": [
                    "token"
                  ],
                  "type": "string"
                },
                {
                  "description": "Error occurred",
                  "enum": [
                    "error"
                  ],
                  "type": "string"
                },
                {
                  "description": "Metric/timing data",
                  "enum": [
                    "metric"
                  ],
                  "type": "string"
                }
              ]
            },
            "TraceStatus": {
              "description": "Status of a trace unit",
              "oneOf": [
                {
                  "description": "Step started",
                  "enum": [
                    "started"
                  ],
                  "type": "string"
                },
                {
                  "description": "Step in progress (for long-running)",
                  "enum": [
                    "in_progress"
                  ],
                  "type": "string"
                },
                {
                  "description": "Step completed successfully",
                  "enum": [
                    "completed"
                  ],
                  "type": "string"
                },
                {
                  "description": "Step failed",
                  "enum": [
                    "failed"
                  ],
                  "type": "string"
                },
                {
                  "description": "Step was cancelled",
                  "enum": [
                    "cancelled"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Discriminated union of all payload types\n\nThis enum contains ALL message types in the system. The `type` tag distinguishes between different payloads, enabling routing without deserializing the full message.\n\n## Naming Convention\n\n- Commands: verb form (e.g., `CourseStart`, `Signup`) - Events: past tense (e.g., `CourseStarted`, `SignupCompleted`) - Traces: special `Trace` variant with sub-typing",
          "oneOf": [
            {
              "description": "Start a new course from a weave",
              "properties": {
                "blocks": {
                  "description": "Multimodal blocks (images, audio, etc.)",
                  "items": true,
                  "type": [
                    "array",
                    "null"
                  ]
                },
                "content": {
                  "description": "Raw text content",
                  "type": "string"
                },
                "context": {
                  "description": "Optional context",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "conversation_history": {
                  "default": [],
                  "description": "Prior conversation for context",
                  "items": true,
                  "type": "array"
                },
                "type": {
                  "enum": [
                    "course_start"
                  ],
                  "type": "string"
                },
                "weave_id": {
                  "description": "The weave (user input) ID",
                  "format": "uuid",
                  "type": "string"
                }
              },
              "required": [
                "content",
                "type",
                "weave_id"
              ],
              "type": "object"
            },
            {
              "description": "Continue an existing course with additional user input",
              "properties": {
                "blocks": {
                  "description": "Optional multimodal blocks",
                  "items": true,
                  "type": [
                    "array",
                    "null"
                  ]
                },
                "type": {
                  "enum": [
                    "course_continue"
                  ],
                  "type": "string"
                },
                "user_message": {
                  "description": "The new user message",
                  "type": "string"
                }
              },
              "required": [
                "type",
                "user_message"
              ],
              "type": "object"
            },
            {
              "description": "Cancel a running course",
              "properties": {
                "reason": {
                  "description": "Reason for cancellation",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "type": {
                  "enum": [
                    "course_cancel"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Retry a failed course",
              "properties": {
                "original_command_id": {
                  "description": "Original command to retry",
                  "format": "uuid",
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "course_retry"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "original_command_id",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Course has started processing",
              "properties": {
                "type": {
                  "enum": [
                    "course_started"
                  ],
                  "type": "string"
                },
                "weave_id": {
                  "description": "The weave that started this course",
                  "format": "uuid",
                  "type": "string"
                }
              },
              "required": [
                "type",
                "weave_id"
              ],
              "type": "object"
            },
            {
              "description": "Segmentation phase completed",
              "properties": {
                "type": {
                  "enum": [
                    "course_segmented"
                  ],
                  "type": "string"
                },
                "unit_count": {
                  "description": "Number of segments/units identified",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "type",
                "unit_count"
              ],
              "type": "object"
            },
            {
              "description": "Classification phase completed",
              "properties": {
                "entity_types": {
                  "description": "Entity types identified",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "physics_summary": {
                  "description": "Physics hints computed (optional)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "type": {
                  "enum": [
                    "course_classified"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "entity_types",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Course completed successfully",
              "properties": {
                "duration_ms": {
                  "description": "Duration in milliseconds",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "response": {
                  "description": "The final response to send to user",
                  "type": "string"
                },
                "tokens_used": {
                  "description": "Token usage (if tracked)",
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "type": {
                  "enum": [
                    "course_completed"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "duration_ms",
                "response",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Course failed",
              "properties": {
                "error": {
                  "description": "Error message (sanitized for storage)",
                  "type": "string"
                },
                "error_code": {
                  "description": "Error code for programmatic handling",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "retryable": {
                  "default": false,
                  "description": "Whether this is retryable",
                  "type": "boolean"
                },
                "type": {
                  "enum": [
                    "course_failed"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "error",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Course was cancelled",
              "properties": {
                "cancelled_by": {
                  "description": "Who cancelled (user, system, timeout)",
                  "type": "string"
                },
                "reason": {
                  "description": "Reason for cancellation",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "type": {
                  "enum": [
                    "course_cancelled"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "cancelled_by",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Course is being retried",
              "properties": {
                "attempt": {
                  "description": "Retry attempt number",
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "original_error": {
                  "description": "Original error that triggered retry",
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "course_retrying"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "attempt",
                "original_error",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "User signup request",
              "properties": {
                "consents": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SignupConsents"
                    }
                  ],
                  "description": "User consent flags"
                },
                "email": {
                  "description": "User's email address",
                  "type": "string"
                },
                "invite_code": {
                  "description": "Invite code if signing up via invitation",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "name": {
                  "description": "User's display name",
                  "type": "string"
                },
                "password": {
                  "description": "User's password (will be hashed by worker)",
                  "type": "string"
                },
                "request_context": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/RequestContext"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "description": "Request context for audit"
                },
                "type": {
                  "enum": [
                    "signup"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "consents",
                "email",
                "name",
                "password",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Create a new family/tenant",
              "properties": {
                "family_name": {
                  "description": "Name for the new family",
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "create_family"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "family_name",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Accept an invitation to join a family",
              "properties": {
                "invitation_code": {
                  "description": "The invitation code to accept",
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "accept_invitation"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "invitation_code",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Signup completed successfully",
              "properties": {
                "needs_family": {
                  "description": "Whether the user needs to create/join a family",
                  "type": "boolean"
                },
                "session_token": {
                  "description": "Session token for the new user",
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "signup_completed"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "needs_family",
                "session_token",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Family creation completed",
              "properties": {
                "tenant_name": {
                  "description": "Name of the created tenant",
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "family_created"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "tenant_name",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Invitation accepted",
              "properties": {
                "family_name": {
                  "description": "Name of the family joined",
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "invitation_accepted"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "family_name",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Onboarding failed",
              "properties": {
                "error_code": {
                  "description": "Error code for programmatic handling",
                  "type": "string"
                },
                "message": {
                  "description": "Human-readable error message",
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "onboarding_failed"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "error_code",
                "message",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Trace event for UI streaming",
              "properties": {
                "agent": {
                  "description": "Agent that produced this trace",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "duration_ms": {
                  "description": "Duration in milliseconds",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "kind": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TraceKind"
                    }
                  ],
                  "description": "Type of trace"
                },
                "message": {
                  "description": "Human-readable message",
                  "type": "string"
                },
                "parent_span_id": {
                  "description": "Parent span (for hierarchy)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "seq": {
                  "description": "Monotonic sequence number per-course",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "span_id": {
                  "description": "Span identifier",
                  "type": "string"
                },
                "status": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TraceStatus"
                    }
                  ],
                  "description": "Status of this trace unit"
                },
                "tokens": {
                  "description": "Response tokens (if kind == Token)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "tool_args": {
                  "description": "Tool arguments (redacted/summarized)"
                },
                "tool_name": {
                  "description": "Tool name (if kind == Tool)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "tool_result": {
                  "description": "Tool result (summary only)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "type": {
                  "enum": [
                    "trace"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "kind",
                "message",
                "seq",
                "span_id",
                "status",
                "type"
              ],
              "type": "object"
            }
          ],
          "title": "Payload"
        },
        "category": "contracts",
        "source_crate": "familiar-contracts",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-contracts/generated/schemas/Payload.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "36c110c0d1f6b1102041a72c4b7a0594341002fcc5a93c760766b350018e6583",
      "created_at": "2025-12-18T18:59:43.160759Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SchemaInfo",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Schema metadata for validation and evolution",
          "properties": {
            "format": {
              "description": "Serialization format (\"json\", \"protobuf\", \"avro\")",
              "type": "string"
            },
            "subject": {
              "description": "Schema subject in Schema Registry",
              "type": "string"
            },
            "version": {
              "description": "Schema version",
              "format": "uint32",
              "minimum": 0.0,
              "type": "integer"
            }
          },
          "required": [
            "format",
            "subject",
            "version"
          ],
          "title": "SchemaInfo",
          "type": "object"
        },
        "category": "contracts",
        "source_crate": "familiar-contracts",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-contracts/generated/schemas/SchemaInfo.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "a91d9a6622482845e1551bd73f1c7e8fd4a31007f4d05e6023f8570d193a360b",
      "created_at": "2025-12-18T18:59:43.160932Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TraceKind",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Type of trace event",
          "oneOf": [
            {
              "description": "Overall workflow step",
              "enum": [
                "step"
              ],
              "type": "string"
            },
            {
              "description": "Agent thinking/reasoning",
              "enum": [
                "thought"
              ],
              "type": "string"
            },
            {
              "description": "Tool invocation",
              "enum": [
                "tool"
              ],
              "type": "string"
            },
            {
              "description": "Response token stream",
              "enum": [
                "token"
              ],
              "type": "string"
            },
            {
              "description": "Error occurred",
              "enum": [
                "error"
              ],
              "type": "string"
            },
            {
              "description": "Metric/timing data",
              "enum": [
                "metric"
              ],
              "type": "string"
            }
          ],
          "title": "TraceKind"
        },
        "category": "contracts",
        "source_crate": "familiar-contracts",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-contracts/generated/schemas/TraceKind.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "68d6b790d52048182c2fc2e2d711cfc749d044ad2b1aa1218b7a8a5de4a51c07",
      "created_at": "2025-12-18T18:59:43.162132Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ProducerInfo",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Producer metadata for tracing and debugging",
          "properties": {
            "build": {
              "description": "Build version (git hash, version tag)",
              "type": [
                "string",
                "null"
              ]
            },
            "instance": {
              "description": "Instance identifier (e.g., pod name, hostname)",
              "type": "string"
            },
            "service": {
              "description": "Service name (e.g., \"familiar-api\", \"familiar-worker\")",
              "type": "string"
            }
          },
          "required": [
            "instance",
            "service"
          ],
          "title": "ProducerInfo",
          "type": "object"
        },
        "category": "contracts",
        "source_crate": "familiar-contracts",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-contracts/generated/schemas/ProducerInfo.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "22973eadedb30d3ea019598ac1f2af24b0717baa4595e8f80e05328310b45149",
      "created_at": "2025-12-18T18:59:43.162596Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TraceStatus",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Status of a trace unit",
          "oneOf": [
            {
              "description": "Step started",
              "enum": [
                "started"
              ],
              "type": "string"
            },
            {
              "description": "Step in progress (for long-running)",
              "enum": [
                "in_progress"
              ],
              "type": "string"
            },
            {
              "description": "Step completed successfully",
              "enum": [
                "completed"
              ],
              "type": "string"
            },
            {
              "description": "Step failed",
              "enum": [
                "failed"
              ],
              "type": "string"
            },
            {
              "description": "Step was cancelled",
              "enum": [
                "cancelled"
              ],
              "type": "string"
            }
          ],
          "title": "TraceStatus"
        },
        "category": "contracts",
        "source_crate": "familiar-contracts",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-contracts/generated/schemas/TraceStatus.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "9f4c36d0d8bb58fa476315e7fc7277f8a6a2cf5a250882dafef77dcbb21a8a8b",
      "created_at": "2025-12-18T18:59:43.162731Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SignupConsents",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "User consent flags for signup",
          "properties": {
            "privacy": {
              "description": "User accepted privacy policy",
              "type": "boolean"
            },
            "terms": {
              "description": "User accepted terms of service",
              "type": "boolean"
            }
          },
          "required": [
            "privacy",
            "terms"
          ],
          "title": "SignupConsents",
          "type": "object"
        },
        "category": "contracts",
        "source_crate": "familiar-contracts",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-contracts/generated/schemas/SignupConsents.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "78df5ce156e478d0b77e0958e4db0d9ac2e142f8846590029b3f7224d5b5fbfe",
      "created_at": "2025-12-18T18:59:43.162830Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EnvelopeV1",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "Payload": {
              "description": "Discriminated union of all payload types\n\nThis enum contains ALL message types in the system. The `type` tag distinguishes between different payloads, enabling routing without deserializing the full message.\n\n## Naming Convention\n\n- Commands: verb form (e.g., `CourseStart`, `Signup`) - Events: past tense (e.g., `CourseStarted`, `SignupCompleted`) - Traces: special `Trace` variant with sub-typing",
              "oneOf": [
                {
                  "description": "Start a new course from a weave",
                  "properties": {
                    "blocks": {
                      "description": "Multimodal blocks (images, audio, etc.)",
                      "items": true,
                      "type": [
                        "array",
                        "null"
                      ]
                    },
                    "content": {
                      "description": "Raw text content",
                      "type": "string"
                    },
                    "context": {
                      "description": "Optional context",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "conversation_history": {
                      "default": [],
                      "description": "Prior conversation for context",
                      "items": true,
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "course_start"
                      ],
                      "type": "string"
                    },
                    "weave_id": {
                      "description": "The weave (user input) ID",
                      "format": "uuid",
                      "type": "string"
                    }
                  },
                  "required": [
                    "content",
                    "type",
                    "weave_id"
                  ],
                  "type": "object"
                },
                {
                  "description": "Continue an existing course with additional user input",
                  "properties": {
                    "blocks": {
                      "description": "Optional multimodal blocks",
                      "items": true,
                      "type": [
                        "array",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "course_continue"
                      ],
                      "type": "string"
                    },
                    "user_message": {
                      "description": "The new user message",
                      "type": "string"
                    }
                  },
                  "required": [
                    "type",
                    "user_message"
                  ],
                  "type": "object"
                },
                {
                  "description": "Cancel a running course",
                  "properties": {
                    "reason": {
                      "description": "Reason for cancellation",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "course_cancel"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Retry a failed course",
                  "properties": {
                    "original_command_id": {
                      "description": "Original command to retry",
                      "format": "uuid",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "course_retry"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "original_command_id",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Course has started processing",
                  "properties": {
                    "type": {
                      "enum": [
                        "course_started"
                      ],
                      "type": "string"
                    },
                    "weave_id": {
                      "description": "The weave that started this course",
                      "format": "uuid",
                      "type": "string"
                    }
                  },
                  "required": [
                    "type",
                    "weave_id"
                  ],
                  "type": "object"
                },
                {
                  "description": "Segmentation phase completed",
                  "properties": {
                    "type": {
                      "enum": [
                        "course_segmented"
                      ],
                      "type": "string"
                    },
                    "unit_count": {
                      "description": "Number of segments/units identified",
                      "format": "uint",
                      "minimum": 0.0,
                      "type": "integer"
                    }
                  },
                  "required": [
                    "type",
                    "unit_count"
                  ],
                  "type": "object"
                },
                {
                  "description": "Classification phase completed",
                  "properties": {
                    "entity_types": {
                      "description": "Entity types identified",
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    },
                    "physics_summary": {
                      "description": "Physics hints computed (optional)",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "course_classified"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "entity_types",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Course completed successfully",
                  "properties": {
                    "duration_ms": {
                      "description": "Duration in milliseconds",
                      "format": "uint64",
                      "minimum": 0.0,
                      "type": "integer"
                    },
                    "response": {
                      "description": "The final response to send to user",
                      "type": "string"
                    },
                    "tokens_used": {
                      "description": "Token usage (if tracked)",
                      "format": "uint32",
                      "minimum": 0.0,
                      "type": [
                        "integer",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "course_completed"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "duration_ms",
                    "response",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Course failed",
                  "properties": {
                    "error": {
                      "description": "Error message (sanitized for storage)",
                      "type": "string"
                    },
                    "error_code": {
                      "description": "Error code for programmatic handling",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "retryable": {
                      "default": false,
                      "description": "Whether this is retryable",
                      "type": "boolean"
                    },
                    "type": {
                      "enum": [
                        "course_failed"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "error",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Course was cancelled",
                  "properties": {
                    "cancelled_by": {
                      "description": "Who cancelled (user, system, timeout)",
                      "type": "string"
                    },
                    "reason": {
                      "description": "Reason for cancellation",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "course_cancelled"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "cancelled_by",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Course is being retried",
                  "properties": {
                    "attempt": {
                      "description": "Retry attempt number",
                      "format": "uint32",
                      "minimum": 0.0,
                      "type": "integer"
                    },
                    "original_error": {
                      "description": "Original error that triggered retry",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "course_retrying"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "attempt",
                    "original_error",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "User signup request",
                  "properties": {
                    "consents": {
                      "allOf": [
                        {
                          "$ref": "#/definitions/SignupConsents"
                        }
                      ],
                      "description": "User consent flags"
                    },
                    "email": {
                      "description": "User's email address",
                      "type": "string"
                    },
                    "invite_code": {
                      "description": "Invite code if signing up via invitation",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "name": {
                      "description": "User's display name",
                      "type": "string"
                    },
                    "password": {
                      "description": "User's password (will be hashed by worker)",
                      "type": "string"
                    },
                    "request_context": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/RequestContext"
                        },
                        {
                          "type": "null"
                        }
                      ],
                      "description": "Request context for audit"
                    },
                    "type": {
                      "enum": [
                        "signup"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "consents",
                    "email",
                    "name",
                    "password",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Create a new family/tenant",
                  "properties": {
                    "family_name": {
                      "description": "Name for the new family",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "create_family"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "family_name",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Accept an invitation to join a family",
                  "properties": {
                    "invitation_code": {
                      "description": "The invitation code to accept",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "accept_invitation"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "invitation_code",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Signup completed successfully",
                  "properties": {
                    "needs_family": {
                      "description": "Whether the user needs to create/join a family",
                      "type": "boolean"
                    },
                    "session_token": {
                      "description": "Session token for the new user",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "signup_completed"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "needs_family",
                    "session_token",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Family creation completed",
                  "properties": {
                    "tenant_name": {
                      "description": "Name of the created tenant",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "family_created"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "tenant_name",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Invitation accepted",
                  "properties": {
                    "family_name": {
                      "description": "Name of the family joined",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "invitation_accepted"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "family_name",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Onboarding failed",
                  "properties": {
                    "error_code": {
                      "description": "Error code for programmatic handling",
                      "type": "string"
                    },
                    "message": {
                      "description": "Human-readable error message",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "onboarding_failed"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "error_code",
                    "message",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Trace event for UI streaming",
                  "properties": {
                    "agent": {
                      "description": "Agent that produced this trace",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "duration_ms": {
                      "description": "Duration in milliseconds",
                      "format": "uint64",
                      "minimum": 0.0,
                      "type": [
                        "integer",
                        "null"
                      ]
                    },
                    "kind": {
                      "allOf": [
                        {
                          "$ref": "#/definitions/TraceKind"
                        }
                      ],
                      "description": "Type of trace"
                    },
                    "message": {
                      "description": "Human-readable message",
                      "type": "string"
                    },
                    "parent_span_id": {
                      "description": "Parent span (for hierarchy)",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "seq": {
                      "description": "Monotonic sequence number per-course",
                      "format": "uint64",
                      "minimum": 0.0,
                      "type": "integer"
                    },
                    "span_id": {
                      "description": "Span identifier",
                      "type": "string"
                    },
                    "status": {
                      "allOf": [
                        {
                          "$ref": "#/definitions/TraceStatus"
                        }
                      ],
                      "description": "Status of this trace unit"
                    },
                    "tokens": {
                      "description": "Response tokens (if kind == Token)",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "tool_args": {
                      "description": "Tool arguments (redacted/summarized)"
                    },
                    "tool_name": {
                      "description": "Tool name (if kind == Tool)",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "tool_result": {
                      "description": "Tool result (summary only)",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "trace"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "kind",
                    "message",
                    "seq",
                    "span_id",
                    "status",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "ProducerInfo": {
              "description": "Producer metadata for tracing and debugging",
              "properties": {
                "build": {
                  "description": "Build version (git hash, version tag)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "instance": {
                  "description": "Instance identifier (e.g., pod name, hostname)",
                  "type": "string"
                },
                "service": {
                  "description": "Service name (e.g., \"familiar-api\", \"familiar-worker\")",
                  "type": "string"
                }
              },
              "required": [
                "instance",
                "service"
              ],
              "type": "object"
            },
            "RequestContext": {
              "description": "Request context for audit logging",
              "properties": {
                "ip_address": {
                  "description": "Client IP address (may be behind proxy)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "request_id": {
                  "description": "Request ID for correlation",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "user_agent": {
                  "description": "User agent string",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "SchemaInfo": {
              "description": "Schema metadata for validation and evolution",
              "properties": {
                "format": {
                  "description": "Serialization format (\"json\", \"protobuf\", \"avro\")",
                  "type": "string"
                },
                "subject": {
                  "description": "Schema subject in Schema Registry",
                  "type": "string"
                },
                "version": {
                  "description": "Schema version",
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "format",
                "subject",
                "version"
              ],
              "type": "object"
            },
            "SignupConsents": {
              "description": "User consent flags for signup",
              "properties": {
                "privacy": {
                  "description": "User accepted privacy policy",
                  "type": "boolean"
                },
                "terms": {
                  "description": "User accepted terms of service",
                  "type": "boolean"
                }
              },
              "required": [
                "privacy",
                "terms"
              ],
              "type": "object"
            },
            "TraceKind": {
              "description": "Type of trace event",
              "oneOf": [
                {
                  "description": "Overall workflow step",
                  "enum": [
                    "step"
                  ],
                  "type": "string"
                },
                {
                  "description": "Agent thinking/reasoning",
                  "enum": [
                    "thought"
                  ],
                  "type": "string"
                },
                {
                  "description": "Tool invocation",
                  "enum": [
                    "tool"
                  ],
                  "type": "string"
                },
                {
                  "description": "Response token stream",
                  "enum": [
                    "token"
                  ],
                  "type": "string"
                },
                {
                  "description": "Error occurred",
                  "enum": [
                    "error"
                  ],
                  "type": "string"
                },
                {
                  "description": "Metric/timing data",
                  "enum": [
                    "metric"
                  ],
                  "type": "string"
                }
              ]
            },
            "TraceStatus": {
              "description": "Status of a trace unit",
              "oneOf": [
                {
                  "description": "Step started",
                  "enum": [
                    "started"
                  ],
                  "type": "string"
                },
                {
                  "description": "Step in progress (for long-running)",
                  "enum": [
                    "in_progress"
                  ],
                  "type": "string"
                },
                {
                  "description": "Step completed successfully",
                  "enum": [
                    "completed"
                  ],
                  "type": "string"
                },
                {
                  "description": "Step failed",
                  "enum": [
                    "failed"
                  ],
                  "type": "string"
                },
                {
                  "description": "Step was cancelled",
                  "enum": [
                    "cancelled"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Universal message envelope for all Kafka communication\n\nThis is the SINGLE envelope type used for commands, events, and traces. Payload type is distinguished by the discriminated union.\n\n## Key Design Decisions\n\n- **`message_id`**: ULID for natural time-ordering and uniqueness - **`message_type`**: Dot-notation for routing (e.g., `familiar.course.command.start`) - **`correlation_id`**: Often equals `course_id` for course workflows - **`causation_id`**: Points to upstream message that caused this one\n\n## Kafka Record Mapping\n\n- **Key**: `{tenant_id}:{correlation_id}` for partition affinity - **Value**: Serialized EnvelopeV1 (JSON) - **Headers**: `message_type`, `correlation_id`, `schema_id`, `content_type`",
          "properties": {
            "causation_id": {
              "description": "Causation ID (upstream message that caused this)",
              "type": [
                "string",
                "null"
              ]
            },
            "correlation_id": {
              "description": "Correlation ID (ties together workflow, often == course_id)",
              "type": "string"
            },
            "course_id": {
              "description": "Course context (correlation_id for course workflows)",
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "message_id": {
              "description": "Unique message ID (ULID for natural ordering)",
              "type": "string"
            },
            "message_type": {
              "description": "Message type for routing (e.g., \"familiar.course.command.start\")",
              "type": "string"
            },
            "occurred_at": {
              "description": "When this message was created",
              "format": "date-time",
              "type": "string"
            },
            "payload": {
              "allOf": [
                {
                  "$ref": "#/definitions/Payload"
                }
              ],
              "description": "The actual message payload"
            },
            "producer": {
              "allOf": [
                {
                  "$ref": "#/definitions/ProducerInfo"
                }
              ],
              "description": "Information about the message producer"
            },
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/SchemaInfo"
                }
              ],
              "description": "Schema information for validation"
            },
            "tenant_id": {
              "description": "Tenant (family) context",
              "format": "uuid",
              "type": "string"
            },
            "thread_id": {
              "description": "Thread context (conversation) - optional for non-conversation messages",
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "user_id": {
              "description": "User who initiated this message",
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "correlation_id",
            "message_id",
            "message_type",
            "occurred_at",
            "payload",
            "producer",
            "schema",
            "tenant_id",
            "user_id"
          ],
          "title": "EnvelopeV1",
          "type": "object"
        },
        "category": "contracts",
        "source_crate": "familiar-contracts",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-contracts/generated/schemas/EnvelopeV1.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "fb62243870bcdb76a6c9fd6b6bc5044ca9d9b1c56138debcc88dd5369e02577c",
      "created_at": "2025-12-18T18:59:43.162997Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RequestContext",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Request context for audit logging",
          "properties": {
            "ip_address": {
              "description": "Client IP address (may be behind proxy)",
              "type": [
                "string",
                "null"
              ]
            },
            "request_id": {
              "description": "Request ID for correlation",
              "type": [
                "string",
                "null"
              ]
            },
            "user_agent": {
              "description": "User agent string",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "title": "RequestContext",
          "type": "object"
        },
        "category": "contracts",
        "source_crate": "familiar-contracts",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-contracts/generated/schemas/RequestContext.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "8fb5fb3944d9771f6a5314bc654dd3afa537970b88ad4fc87e44583ef26ebfd9",
      "created_at": "2025-12-18T18:59:43.163148Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CreateTenantInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Input for creating a new tenant",
          "properties": {
            "name": {
              "type": "string"
            },
            "settings": {
              "default": null
            }
          },
          "required": [
            "name"
          ],
          "title": "CreateTenantInput",
          "type": "object"
        },
        "category": "tenant",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tenant/CreateTenantInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "1a6ef32319a30d9981b083f01161bfff131d07906bceb2d6f6b36df3647b2e64",
      "created_at": "2025-12-18T18:59:43.163469Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Tenant",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A tenant (family) in the system\n\nUses `SystemEntityMeta` because tenants are top-level entities that don't belong to another tenant.",
          "properties": {
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "id": {
              "description": "Unique identifier for this entity",
              "format": "uuid",
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "settings": {
              "default": null
            },
            "updated_at": {
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "id",
            "name",
            "updated_at"
          ],
          "title": "Tenant",
          "type": "object"
        },
        "category": "tenant",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tenant/Tenant.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "3d9560098b156acb86f9c2b2f99a8b58088cd55f19d460984b5d4ea10cd4dbf7",
      "created_at": "2025-12-18T18:59:43.163686Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SectionBlock",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BlockElement": {
              "oneOf": [
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "style": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/ButtonStyle"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "text": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "type": {
                      "enum": [
                        "button"
                      ],
                      "type": "string"
                    },
                    "url": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "value": {
                      "type": [
                        "string",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "action_id",
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "options": {
                      "items": {
                        "$ref": "#/definitions/OptionObject"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "overflow"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action_id",
                    "options",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "initial_value": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "multiline": {
                      "default": false,
                      "type": "boolean"
                    },
                    "placeholder": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/PlainTextObject"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": {
                      "enum": [
                        "plain_text_input"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action_id",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "ButtonStyle": {
              "enum": [
                "primary",
                "danger"
              ],
              "type": "string"
            },
            "OptionObject": {
              "properties": {
                "description": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "text": {
                  "$ref": "#/definitions/PlainTextObject"
                },
                "url": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "value": {
                  "type": "string"
                }
              },
              "required": [
                "text",
                "value"
              ],
              "type": "object"
            },
            "PlainTextObject": {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            },
            "TextObject": {
              "oneOf": [
                {
                  "properties": {
                    "emoji": {
                      "default": false,
                      "type": "boolean"
                    },
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "plain_text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "mrkdwn"
                      ],
                      "type": "string"
                    },
                    "verbatim": {
                      "default": false,
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            }
          },
          "description": "Displays text, possibly alongside an accessory (image, button, etc.)",
          "properties": {
            "accessory": {
              "anyOf": [
                {
                  "$ref": "#/definitions/BlockElement"
                },
                {
                  "type": "null"
                }
              ]
            },
            "fields": {
              "items": {
                "$ref": "#/definitions/TextObject"
              },
              "type": [
                "array",
                "null"
              ]
            },
            "text": {
              "$ref": "#/definitions/TextObject"
            }
          },
          "required": [
            "text"
          ],
          "title": "SectionBlock",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/SectionBlock.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "85f6723a10cc16ad2f4b9ea0c65154d5c348aa8105d567892e7920be76a298cb",
      "created_at": "2025-12-18T18:59:43.163794Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Block",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AccordionState": {
              "enum": [
                "collapsed",
                "expanded"
              ],
              "type": "string"
            },
            "Block": {
              "description": "A single visual block in a message",
              "oneOf": [
                {
                  "description": "Displays text, possibly alongside an accessory (image, button, etc.)",
                  "properties": {
                    "accessory": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/BlockElement"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "fields": {
                      "items": {
                        "$ref": "#/definitions/TextObject"
                      },
                      "type": [
                        "array",
                        "null"
                      ]
                    },
                    "text": {
                      "$ref": "#/definitions/TextObject"
                    },
                    "type": {
                      "enum": [
                        "section"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A visual separator",
                  "properties": {
                    "type": {
                      "enum": [
                        "divider"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Displays an image with optional title",
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "title": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/PlainTextObject"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A container for interactive elements (buttons, selects, etc.)",
                  "properties": {
                    "elements": {
                      "items": {
                        "$ref": "#/definitions/BlockElement"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "actions"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "elements",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Displays contextual info (small grey text, images)",
                  "properties": {
                    "elements": {
                      "items": {
                        "$ref": "#/definitions/ContextElement"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "context"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "elements",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A header with large, bold text",
                  "properties": {
                    "text": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "type": {
                      "enum": [
                        "header"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "An input field",
                  "properties": {
                    "element": {
                      "$ref": "#/definitions/BlockElement"
                    },
                    "hint": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/PlainTextObject"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "label": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "optional": {
                      "default": false,
                      "type": "boolean"
                    },
                    "type": {
                      "enum": [
                        "input"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "element",
                    "label",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A collapsible container",
                  "properties": {
                    "blocks": {
                      "items": {
                        "$ref": "#/definitions/Block"
                      },
                      "type": "array"
                    },
                    "initial_state": {
                      "allOf": [
                        {
                          "$ref": "#/definitions/AccordionState"
                        }
                      ],
                      "default": "collapsed"
                    },
                    "summary": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "type": {
                      "enum": [
                        "accordion"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "blocks",
                    "summary",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "BlockElement": {
              "oneOf": [
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "style": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/ButtonStyle"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "text": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "type": {
                      "enum": [
                        "button"
                      ],
                      "type": "string"
                    },
                    "url": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "value": {
                      "type": [
                        "string",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "action_id",
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "options": {
                      "items": {
                        "$ref": "#/definitions/OptionObject"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "overflow"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action_id",
                    "options",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "initial_value": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "multiline": {
                      "default": false,
                      "type": "boolean"
                    },
                    "placeholder": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/PlainTextObject"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": {
                      "enum": [
                        "plain_text_input"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action_id",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "ButtonStyle": {
              "enum": [
                "primary",
                "danger"
              ],
              "type": "string"
            },
            "ContextElement": {
              "oneOf": [
                {
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "mrkdwn"
                      ],
                      "type": "string"
                    },
                    "verbatim": {
                      "default": false,
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "emoji": {
                      "default": false,
                      "type": "boolean"
                    },
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "plain_text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "OptionObject": {
              "properties": {
                "description": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "text": {
                  "$ref": "#/definitions/PlainTextObject"
                },
                "url": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "value": {
                  "type": "string"
                }
              },
              "required": [
                "text",
                "value"
              ],
              "type": "object"
            },
            "PlainTextObject": {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            },
            "TextObject": {
              "oneOf": [
                {
                  "properties": {
                    "emoji": {
                      "default": false,
                      "type": "boolean"
                    },
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "plain_text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "mrkdwn"
                      ],
                      "type": "string"
                    },
                    "verbatim": {
                      "default": false,
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            }
          },
          "description": "A single visual block in a message",
          "oneOf": [
            {
              "description": "Displays text, possibly alongside an accessory (image, button, etc.)",
              "properties": {
                "accessory": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/BlockElement"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "fields": {
                  "items": {
                    "$ref": "#/definitions/TextObject"
                  },
                  "type": [
                    "array",
                    "null"
                  ]
                },
                "text": {
                  "$ref": "#/definitions/TextObject"
                },
                "type": {
                  "enum": [
                    "section"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "text",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "A visual separator",
              "properties": {
                "type": {
                  "enum": [
                    "divider"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Displays an image with optional title",
              "properties": {
                "alt_text": {
                  "type": "string"
                },
                "image_url": {
                  "type": "string"
                },
                "title": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": {
                  "enum": [
                    "image"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "alt_text",
                "image_url",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "A container for interactive elements (buttons, selects, etc.)",
              "properties": {
                "elements": {
                  "items": {
                    "$ref": "#/definitions/BlockElement"
                  },
                  "type": "array"
                },
                "type": {
                  "enum": [
                    "actions"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "elements",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Displays contextual info (small grey text, images)",
              "properties": {
                "elements": {
                  "items": {
                    "$ref": "#/definitions/ContextElement"
                  },
                  "type": "array"
                },
                "type": {
                  "enum": [
                    "context"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "elements",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "A header with large, bold text",
              "properties": {
                "text": {
                  "$ref": "#/definitions/PlainTextObject"
                },
                "type": {
                  "enum": [
                    "header"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "text",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "An input field",
              "properties": {
                "element": {
                  "$ref": "#/definitions/BlockElement"
                },
                "hint": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "label": {
                  "$ref": "#/definitions/PlainTextObject"
                },
                "optional": {
                  "default": false,
                  "type": "boolean"
                },
                "type": {
                  "enum": [
                    "input"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "element",
                "label",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "A collapsible container",
              "properties": {
                "blocks": {
                  "items": {
                    "$ref": "#/definitions/Block"
                  },
                  "type": "array"
                },
                "initial_state": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/AccordionState"
                    }
                  ],
                  "default": "collapsed"
                },
                "summary": {
                  "$ref": "#/definitions/PlainTextObject"
                },
                "type": {
                  "enum": [
                    "accordion"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "blocks",
                "summary",
                "type"
              ],
              "type": "object"
            }
          ],
          "title": "Block"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/Block.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "0d0b79c8462660cf521a53ee6ede4650676e18576ccfe8d57e965035ceae9e44",
      "created_at": "2025-12-18T18:59:43.164046Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TextObject",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "oneOf": [
            {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "plain_text"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "text",
                "type"
              ],
              "type": "object"
            },
            {
              "properties": {
                "text": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "mrkdwn"
                  ],
                  "type": "string"
                },
                "verbatim": {
                  "default": false,
                  "type": "boolean"
                }
              },
              "required": [
                "text",
                "type"
              ],
              "type": "object"
            }
          ],
          "title": "TextObject"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/TextObject.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ae68354b4e3157f49fdc2bdda382f6ec3f1dfc0f59fd678f8aa6bbf3e5c1c87f",
      "created_at": "2025-12-18T18:59:43.164154Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ContextElement",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "oneOf": [
            {
              "properties": {
                "alt_text": {
                  "type": "string"
                },
                "image_url": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "image"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "alt_text",
                "image_url",
                "type"
              ],
              "type": "object"
            },
            {
              "properties": {
                "text": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "mrkdwn"
                  ],
                  "type": "string"
                },
                "verbatim": {
                  "default": false,
                  "type": "boolean"
                }
              },
              "required": [
                "text",
                "type"
              ],
              "type": "object"
            },
            {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "plain_text"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "text",
                "type"
              ],
              "type": "object"
            }
          ],
          "title": "ContextElement"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/ContextElement.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "28daa3fb37e852268a5e7cc3976d65586cddc32a4fae1ee9192f83660a366e5e",
      "created_at": "2025-12-18T18:59:43.164236Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BlockMessage",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AccordionState": {
              "enum": [
                "collapsed",
                "expanded"
              ],
              "type": "string"
            },
            "Block": {
              "description": "A single visual block in a message",
              "oneOf": [
                {
                  "description": "Displays text, possibly alongside an accessory (image, button, etc.)",
                  "properties": {
                    "accessory": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/BlockElement"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "fields": {
                      "items": {
                        "$ref": "#/definitions/TextObject"
                      },
                      "type": [
                        "array",
                        "null"
                      ]
                    },
                    "text": {
                      "$ref": "#/definitions/TextObject"
                    },
                    "type": {
                      "enum": [
                        "section"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A visual separator",
                  "properties": {
                    "type": {
                      "enum": [
                        "divider"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Displays an image with optional title",
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "title": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/PlainTextObject"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A container for interactive elements (buttons, selects, etc.)",
                  "properties": {
                    "elements": {
                      "items": {
                        "$ref": "#/definitions/BlockElement"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "actions"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "elements",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Displays contextual info (small grey text, images)",
                  "properties": {
                    "elements": {
                      "items": {
                        "$ref": "#/definitions/ContextElement"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "context"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "elements",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A header with large, bold text",
                  "properties": {
                    "text": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "type": {
                      "enum": [
                        "header"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "An input field",
                  "properties": {
                    "element": {
                      "$ref": "#/definitions/BlockElement"
                    },
                    "hint": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/PlainTextObject"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "label": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "optional": {
                      "default": false,
                      "type": "boolean"
                    },
                    "type": {
                      "enum": [
                        "input"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "element",
                    "label",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A collapsible container",
                  "properties": {
                    "blocks": {
                      "items": {
                        "$ref": "#/definitions/Block"
                      },
                      "type": "array"
                    },
                    "initial_state": {
                      "allOf": [
                        {
                          "$ref": "#/definitions/AccordionState"
                        }
                      ],
                      "default": "collapsed"
                    },
                    "summary": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "type": {
                      "enum": [
                        "accordion"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "blocks",
                    "summary",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "BlockElement": {
              "oneOf": [
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "style": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/ButtonStyle"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "text": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "type": {
                      "enum": [
                        "button"
                      ],
                      "type": "string"
                    },
                    "url": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "value": {
                      "type": [
                        "string",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "action_id",
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "options": {
                      "items": {
                        "$ref": "#/definitions/OptionObject"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "overflow"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action_id",
                    "options",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "initial_value": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "multiline": {
                      "default": false,
                      "type": "boolean"
                    },
                    "placeholder": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/PlainTextObject"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": {
                      "enum": [
                        "plain_text_input"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action_id",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "ButtonStyle": {
              "enum": [
                "primary",
                "danger"
              ],
              "type": "string"
            },
            "ContextElement": {
              "oneOf": [
                {
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "mrkdwn"
                      ],
                      "type": "string"
                    },
                    "verbatim": {
                      "default": false,
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "emoji": {
                      "default": false,
                      "type": "boolean"
                    },
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "plain_text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "OptionObject": {
              "properties": {
                "description": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "text": {
                  "$ref": "#/definitions/PlainTextObject"
                },
                "url": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "value": {
                  "type": "string"
                }
              },
              "required": [
                "text",
                "value"
              ],
              "type": "object"
            },
            "PlainTextObject": {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            },
            "TextObject": {
              "oneOf": [
                {
                  "properties": {
                    "emoji": {
                      "default": false,
                      "type": "boolean"
                    },
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "plain_text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "mrkdwn"
                      ],
                      "type": "string"
                    },
                    "verbatim": {
                      "default": false,
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            }
          },
          "description": "The root container for a Block Kit message",
          "properties": {
            "blocks": {
              "items": {
                "$ref": "#/definitions/Block"
              },
              "type": "array"
            }
          },
          "required": [
            "blocks"
          ],
          "title": "BlockMessage",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/BlockMessage.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2f236b541754705989d4df9ee6bc2ebacb5cc7584bf7d79b4c6c05d333b58634",
      "created_at": "2025-12-18T18:59:43.164349Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "OptionObject",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "PlainTextObject": {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            }
          },
          "properties": {
            "description": {
              "anyOf": [
                {
                  "$ref": "#/definitions/PlainTextObject"
                },
                {
                  "type": "null"
                }
              ]
            },
            "text": {
              "$ref": "#/definitions/PlainTextObject"
            },
            "url": {
              "type": [
                "string",
                "null"
              ]
            },
            "value": {
              "type": "string"
            }
          },
          "required": [
            "text",
            "value"
          ],
          "title": "OptionObject",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/OptionObject.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "5fa88adf1826d1ffb4a17092d7a2495a9bc489a597d2e599e4b5b97223d48dd4",
      "created_at": "2025-12-18T18:59:43.164509Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BlockElement",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ButtonStyle": {
              "enum": [
                "primary",
                "danger"
              ],
              "type": "string"
            },
            "OptionObject": {
              "properties": {
                "description": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "text": {
                  "$ref": "#/definitions/PlainTextObject"
                },
                "url": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "value": {
                  "type": "string"
                }
              },
              "required": [
                "text",
                "value"
              ],
              "type": "object"
            },
            "PlainTextObject": {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            }
          },
          "oneOf": [
            {
              "properties": {
                "action_id": {
                  "type": "string"
                },
                "style": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ButtonStyle"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "text": {
                  "$ref": "#/definitions/PlainTextObject"
                },
                "type": {
                  "enum": [
                    "button"
                  ],
                  "type": "string"
                },
                "url": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "value": {
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "action_id",
                "text",
                "type"
              ],
              "type": "object"
            },
            {
              "properties": {
                "alt_text": {
                  "type": "string"
                },
                "image_url": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "image"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "alt_text",
                "image_url",
                "type"
              ],
              "type": "object"
            },
            {
              "properties": {
                "action_id": {
                  "type": "string"
                },
                "options": {
                  "items": {
                    "$ref": "#/definitions/OptionObject"
                  },
                  "type": "array"
                },
                "type": {
                  "enum": [
                    "overflow"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "action_id",
                "options",
                "type"
              ],
              "type": "object"
            },
            {
              "properties": {
                "action_id": {
                  "type": "string"
                },
                "initial_value": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "multiline": {
                  "default": false,
                  "type": "boolean"
                },
                "placeholder": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": {
                  "enum": [
                    "plain_text_input"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "action_id",
                "type"
              ],
              "type": "object"
            }
          ],
          "title": "BlockElement"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/BlockElement.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "56adfae82892cad68260099a33e3159ba1a5f3dcfd462c99e81e9d98791a2c61",
      "created_at": "2025-12-18T18:59:43.164616Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "HeaderBlock",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "PlainTextObject": {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            }
          },
          "description": "A header with large, bold text",
          "properties": {
            "text": {
              "$ref": "#/definitions/PlainTextObject"
            }
          },
          "required": [
            "text"
          ],
          "title": "HeaderBlock",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/HeaderBlock.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "0172ab8d6e284bbe2c8bb3408a9e4010e6472e784702b6c3cc6beb618d0c19a4",
      "created_at": "2025-12-18T18:59:43.164702Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ContextBlock",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ContextElement": {
              "oneOf": [
                {
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "mrkdwn"
                      ],
                      "type": "string"
                    },
                    "verbatim": {
                      "default": false,
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "emoji": {
                      "default": false,
                      "type": "boolean"
                    },
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "plain_text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            }
          },
          "description": "Displays contextual info (small grey text, images)",
          "properties": {
            "elements": {
              "items": {
                "$ref": "#/definitions/ContextElement"
              },
              "type": "array"
            }
          },
          "required": [
            "elements"
          ],
          "title": "ContextBlock",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/ContextBlock.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "58a232880ea62cb6216874c203582e24e02755493b55737f5321cd9bd50d65ec",
      "created_at": "2025-12-18T18:59:43.164812Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MarkdownTextObject",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "text": {
              "type": "string"
            },
            "verbatim": {
              "default": false,
              "type": "boolean"
            }
          },
          "required": [
            "text"
          ],
          "title": "MarkdownTextObject",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/MarkdownTextObject.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "5ebb9b2a1b54f8f5496abbf3304bad21c93cd59457add41a4904a6b5463768ec",
      "created_at": "2025-12-18T18:59:43.164899Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ImageBlock",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "PlainTextObject": {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            }
          },
          "description": "Displays an image with optional title",
          "properties": {
            "alt_text": {
              "type": "string"
            },
            "image_url": {
              "type": "string"
            },
            "title": {
              "anyOf": [
                {
                  "$ref": "#/definitions/PlainTextObject"
                },
                {
                  "type": "null"
                }
              ]
            }
          },
          "required": [
            "alt_text",
            "image_url"
          ],
          "title": "ImageBlock",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/ImageBlock.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f29d3ae8f3d802e606b7325d566fd43ebb677c943ab31bf1e5e178b7fa5bfcb2",
      "created_at": "2025-12-18T18:59:43.164993Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PlainTextObject",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "emoji": {
              "default": false,
              "type": "boolean"
            },
            "text": {
              "type": "string"
            }
          },
          "required": [
            "text"
          ],
          "title": "PlainTextObject",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/PlainTextObject.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "0ab056046e12e8739e2d1da6ac7e9bbc74d8229fe09027e84f2a13410345c5a4",
      "created_at": "2025-12-18T18:59:43.165082Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ButtonElement",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ButtonStyle": {
              "enum": [
                "primary",
                "danger"
              ],
              "type": "string"
            },
            "PlainTextObject": {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            }
          },
          "properties": {
            "action_id": {
              "type": "string"
            },
            "style": {
              "anyOf": [
                {
                  "$ref": "#/definitions/ButtonStyle"
                },
                {
                  "type": "null"
                }
              ]
            },
            "text": {
              "$ref": "#/definitions/PlainTextObject"
            },
            "url": {
              "type": [
                "string",
                "null"
              ]
            },
            "value": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "action_id",
            "text"
          ],
          "title": "ButtonElement",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/ButtonElement.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f21f6d1d4e95365afc8cb12d092e0d3d22dc12f3bd3425ffd8ad6b7d59bbb350",
      "created_at": "2025-12-18T18:59:43.165175Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "OverflowElement",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "OptionObject": {
              "properties": {
                "description": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "text": {
                  "$ref": "#/definitions/PlainTextObject"
                },
                "url": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "value": {
                  "type": "string"
                }
              },
              "required": [
                "text",
                "value"
              ],
              "type": "object"
            },
            "PlainTextObject": {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            }
          },
          "properties": {
            "action_id": {
              "type": "string"
            },
            "options": {
              "items": {
                "$ref": "#/definitions/OptionObject"
              },
              "type": "array"
            }
          },
          "required": [
            "action_id",
            "options"
          ],
          "title": "OverflowElement",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/OverflowElement.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b161e7f5aaecb89433b23ecbe643744f431da46f7a5e819ba7baf8363b00303e",
      "created_at": "2025-12-18T18:59:43.165265Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "InputBlock",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BlockElement": {
              "oneOf": [
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "style": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/ButtonStyle"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "text": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "type": {
                      "enum": [
                        "button"
                      ],
                      "type": "string"
                    },
                    "url": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "value": {
                      "type": [
                        "string",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "action_id",
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "options": {
                      "items": {
                        "$ref": "#/definitions/OptionObject"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "overflow"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action_id",
                    "options",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "initial_value": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "multiline": {
                      "default": false,
                      "type": "boolean"
                    },
                    "placeholder": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/PlainTextObject"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": {
                      "enum": [
                        "plain_text_input"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action_id",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "ButtonStyle": {
              "enum": [
                "primary",
                "danger"
              ],
              "type": "string"
            },
            "OptionObject": {
              "properties": {
                "description": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "text": {
                  "$ref": "#/definitions/PlainTextObject"
                },
                "url": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "value": {
                  "type": "string"
                }
              },
              "required": [
                "text",
                "value"
              ],
              "type": "object"
            },
            "PlainTextObject": {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            }
          },
          "description": "An input field",
          "properties": {
            "element": {
              "$ref": "#/definitions/BlockElement"
            },
            "hint": {
              "anyOf": [
                {
                  "$ref": "#/definitions/PlainTextObject"
                },
                {
                  "type": "null"
                }
              ]
            },
            "label": {
              "$ref": "#/definitions/PlainTextObject"
            },
            "optional": {
              "default": false,
              "type": "boolean"
            }
          },
          "required": [
            "element",
            "label"
          ],
          "title": "InputBlock",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/InputBlock.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6a058b9e1fd904446d39db23feeb8248c6faaa54868b43cfdebd28cdea2a1ae8",
      "created_at": "2025-12-18T18:59:43.165355Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AccordionState",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "collapsed",
            "expanded"
          ],
          "title": "AccordionState",
          "type": "string"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/AccordionState.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ca70f1bb22c55228ab15af77e858f9330f24df8d26ea7dc1734e7a090d7df836",
      "created_at": "2025-12-18T18:59:43.165473Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DividerBlock",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A visual separator",
          "title": "DividerBlock",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/DividerBlock.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f8a17f4f88c8e1474b45701290ebb6df5c74e826529f184868e230a4b627cfb2",
      "created_at": "2025-12-18T18:59:43.165558Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ButtonStyle",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "primary",
            "danger"
          ],
          "title": "ButtonStyle",
          "type": "string"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/ButtonStyle.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "7fc8060626759f027f5308ebea03502a37eb928efe67b258988870569a970567",
      "created_at": "2025-12-18T18:59:43.165637Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AccordionBlock",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AccordionState": {
              "enum": [
                "collapsed",
                "expanded"
              ],
              "type": "string"
            },
            "Block": {
              "description": "A single visual block in a message",
              "oneOf": [
                {
                  "description": "Displays text, possibly alongside an accessory (image, button, etc.)",
                  "properties": {
                    "accessory": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/BlockElement"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "fields": {
                      "items": {
                        "$ref": "#/definitions/TextObject"
                      },
                      "type": [
                        "array",
                        "null"
                      ]
                    },
                    "text": {
                      "$ref": "#/definitions/TextObject"
                    },
                    "type": {
                      "enum": [
                        "section"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A visual separator",
                  "properties": {
                    "type": {
                      "enum": [
                        "divider"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Displays an image with optional title",
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "title": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/PlainTextObject"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A container for interactive elements (buttons, selects, etc.)",
                  "properties": {
                    "elements": {
                      "items": {
                        "$ref": "#/definitions/BlockElement"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "actions"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "elements",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Displays contextual info (small grey text, images)",
                  "properties": {
                    "elements": {
                      "items": {
                        "$ref": "#/definitions/ContextElement"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "context"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "elements",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A header with large, bold text",
                  "properties": {
                    "text": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "type": {
                      "enum": [
                        "header"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "An input field",
                  "properties": {
                    "element": {
                      "$ref": "#/definitions/BlockElement"
                    },
                    "hint": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/PlainTextObject"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "label": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "optional": {
                      "default": false,
                      "type": "boolean"
                    },
                    "type": {
                      "enum": [
                        "input"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "element",
                    "label",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A collapsible container",
                  "properties": {
                    "blocks": {
                      "items": {
                        "$ref": "#/definitions/Block"
                      },
                      "type": "array"
                    },
                    "initial_state": {
                      "allOf": [
                        {
                          "$ref": "#/definitions/AccordionState"
                        }
                      ],
                      "default": "collapsed"
                    },
                    "summary": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "type": {
                      "enum": [
                        "accordion"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "blocks",
                    "summary",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "BlockElement": {
              "oneOf": [
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "style": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/ButtonStyle"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "text": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "type": {
                      "enum": [
                        "button"
                      ],
                      "type": "string"
                    },
                    "url": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "value": {
                      "type": [
                        "string",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "action_id",
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "options": {
                      "items": {
                        "$ref": "#/definitions/OptionObject"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "overflow"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action_id",
                    "options",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "initial_value": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "multiline": {
                      "default": false,
                      "type": "boolean"
                    },
                    "placeholder": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/PlainTextObject"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": {
                      "enum": [
                        "plain_text_input"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action_id",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "ButtonStyle": {
              "enum": [
                "primary",
                "danger"
              ],
              "type": "string"
            },
            "ContextElement": {
              "oneOf": [
                {
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "mrkdwn"
                      ],
                      "type": "string"
                    },
                    "verbatim": {
                      "default": false,
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "emoji": {
                      "default": false,
                      "type": "boolean"
                    },
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "plain_text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "OptionObject": {
              "properties": {
                "description": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "text": {
                  "$ref": "#/definitions/PlainTextObject"
                },
                "url": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "value": {
                  "type": "string"
                }
              },
              "required": [
                "text",
                "value"
              ],
              "type": "object"
            },
            "PlainTextObject": {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            },
            "TextObject": {
              "oneOf": [
                {
                  "properties": {
                    "emoji": {
                      "default": false,
                      "type": "boolean"
                    },
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "plain_text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "mrkdwn"
                      ],
                      "type": "string"
                    },
                    "verbatim": {
                      "default": false,
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            }
          },
          "description": "A collapsible container",
          "properties": {
            "blocks": {
              "items": {
                "$ref": "#/definitions/Block"
              },
              "type": "array"
            },
            "initial_state": {
              "allOf": [
                {
                  "$ref": "#/definitions/AccordionState"
                }
              ],
              "default": "collapsed"
            },
            "summary": {
              "$ref": "#/definitions/PlainTextObject"
            }
          },
          "required": [
            "blocks",
            "summary"
          ],
          "title": "AccordionBlock",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/AccordionBlock.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6225fd6f895b3dffbc761d6b1dd6bf343e6ebe86474a2fa10839ce77d04f3611",
      "created_at": "2025-12-18T18:59:43.165760Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ImageElement",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "alt_text": {
              "type": "string"
            },
            "image_url": {
              "type": "string"
            }
          },
          "required": [
            "alt_text",
            "image_url"
          ],
          "title": "ImageElement",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/ImageElement.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "9b6b5c3b0be1605a4a380e1f84da53a4b23adc201d8bb0d2258a3506554d9cd9",
      "created_at": "2025-12-18T18:59:43.165966Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PlainTextInputElement",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "PlainTextObject": {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            }
          },
          "properties": {
            "action_id": {
              "type": "string"
            },
            "initial_value": {
              "type": [
                "string",
                "null"
              ]
            },
            "multiline": {
              "default": false,
              "type": "boolean"
            },
            "placeholder": {
              "anyOf": [
                {
                  "$ref": "#/definitions/PlainTextObject"
                },
                {
                  "type": "null"
                }
              ]
            }
          },
          "required": [
            "action_id"
          ],
          "title": "PlainTextInputElement",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/PlainTextInputElement.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4ddf3378adbd6e55346b4f7259ba0b0dbf4e0237933abd3d9d8e4ffe0d33c27c",
      "created_at": "2025-12-18T18:59:43.166051Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ActionsBlock",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BlockElement": {
              "oneOf": [
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "style": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/ButtonStyle"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "text": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "type": {
                      "enum": [
                        "button"
                      ],
                      "type": "string"
                    },
                    "url": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "value": {
                      "type": [
                        "string",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "action_id",
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "options": {
                      "items": {
                        "$ref": "#/definitions/OptionObject"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "overflow"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action_id",
                    "options",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "initial_value": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "multiline": {
                      "default": false,
                      "type": "boolean"
                    },
                    "placeholder": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/PlainTextObject"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": {
                      "enum": [
                        "plain_text_input"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action_id",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "ButtonStyle": {
              "enum": [
                "primary",
                "danger"
              ],
              "type": "string"
            },
            "OptionObject": {
              "properties": {
                "description": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "text": {
                  "$ref": "#/definitions/PlainTextObject"
                },
                "url": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "value": {
                  "type": "string"
                }
              },
              "required": [
                "text",
                "value"
              ],
              "type": "object"
            },
            "PlainTextObject": {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            }
          },
          "description": "A container for interactive elements (buttons, selects, etc.)",
          "properties": {
            "elements": {
              "items": {
                "$ref": "#/definitions/BlockElement"
              },
              "type": "array"
            }
          },
          "required": [
            "elements"
          ],
          "title": "ActionsBlock",
          "type": "object"
        },
        "category": "ui",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/ui/ActionsBlock.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "27e6aa117c93b500539dafe44f1b2adebd69062b24bcc6bccb445a2a1aeb828e",
      "created_at": "2025-12-18T18:59:43.166159Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ContentPayloadModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "entity_id": {
              "format": "uuid",
              "type": "string"
            },
            "metadata": true,
            "text_content": {
              "type": "string"
            }
          },
          "required": [
            "entity_id",
            "metadata",
            "text_content"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/ContentPayloadModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "3738364657ff1e21fa5e7325928345c4b11ba94df1601dfc15acf6652a255e64",
      "created_at": "2025-12-18T18:59:43.166294Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MagicLinkModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "MagicLinkPurpose": {
              "enum": [
                "Login",
                "Signup",
                "VerifyEmail",
                "PasswordReset"
              ],
              "type": "string"
            }
          },
          "properties": {
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "email": {
              "type": "string"
            },
            "expires_at": {
              "format": "date-time",
              "type": "string"
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "metadata": true,
            "purpose": {
              "$ref": "#/definitions/MagicLinkPurpose"
            },
            "token_hash": {
              "type": "string"
            },
            "used_at": {
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "created_at",
            "email",
            "expires_at",
            "id",
            "metadata",
            "purpose",
            "token_hash"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/MagicLinkModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "09248f9a6769b597cdd5c7a923f25253778f9e4db413999ce8014e9131336305",
      "created_at": "2025-12-18T18:59:43.166430Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "FieldExcitationModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "amplitude": {
              "format": "double",
              "type": "number"
            },
            "energy": {
              "format": "double",
              "type": "number"
            },
            "entity_id": {
              "format": "uuid",
              "type": "string"
            },
            "pos_arousal": {
              "format": "int64",
              "type": "integer"
            },
            "pos_epistemic": {
              "format": "int64",
              "type": "integer"
            },
            "pos_valence": {
              "format": "int64",
              "type": "integer"
            },
            "temperature": {
              "format": "double",
              "type": "number"
            },
            "time": {
              "format": "date-time",
              "type": "string"
            },
            "vel_arousal": {
              "format": "int64",
              "type": "integer"
            },
            "vel_epistemic": {
              "format": "int64",
              "type": "integer"
            },
            "vel_valence": {
              "format": "int64",
              "type": "integer"
            }
          },
          "required": [
            "amplitude",
            "energy",
            "entity_id",
            "pos_arousal",
            "pos_epistemic",
            "pos_valence",
            "temperature",
            "time",
            "vel_arousal",
            "vel_epistemic",
            "vel_valence"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/FieldExcitationModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "7b71349df2c2f0a72cba448a74e9f257272e07f79b1498ee70a5a32064a2b4bc",
      "created_at": "2025-12-18T18:59:43.166514Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ChannelModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ChannelType": {
              "enum": [
                "Personal",
                "Family",
                "Shared"
              ],
              "type": "string"
            }
          },
          "properties": {
            "channel_type": {
              "$ref": "#/definitions/ChannelType"
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "description": {
              "type": [
                "string",
                "null"
              ]
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "owner_id": {
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "settings": true,
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            },
            "updated_at": {
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "channel_type",
            "created_at",
            "id",
            "name",
            "settings",
            "tenant_id",
            "updated_at"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/ChannelModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "13ae5c93a8dd6211b7f5c11e4fae2b153ba9c2ae53988627f8288fc522bc68eb",
      "created_at": "2025-12-18T18:59:43.166602Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TenantMemberModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "MemberRole": {
              "enum": [
                "Admin",
                "Member",
                "Guest"
              ],
              "type": "string"
            }
          },
          "properties": {
            "avatar_url": {
              "type": [
                "string",
                "null"
              ]
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "email": {
              "type": [
                "string",
                "null"
              ]
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "role": {
              "$ref": "#/definitions/MemberRole"
            },
            "settings": true,
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            },
            "updated_at": {
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "id",
            "name",
            "role",
            "settings",
            "tenant_id",
            "updated_at"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/TenantMemberModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d29614854cb1a95cfab06905e377b4becae261d938657fe2ef32ee2d55761fd9",
      "created_at": "2025-12-18T18:59:43.166685Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "FamilyInvitationModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "InviteRole": {
              "enum": [
                "Admin",
                "Member",
                "Guest"
              ],
              "type": "string"
            },
            "InviteType": {
              "enum": [
                "Email",
                "Code"
              ],
              "type": "string"
            }
          },
          "properties": {
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "email": {
              "type": [
                "string",
                "null"
              ]
            },
            "expires_at": {
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "invite_code": {
              "type": [
                "string",
                "null"
              ]
            },
            "invite_type": {
              "$ref": "#/definitions/InviteType"
            },
            "invited_by": {
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "max_uses": {
              "format": "int32",
              "type": [
                "integer",
                "null"
              ]
            },
            "role": {
              "$ref": "#/definitions/InviteRole"
            },
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            },
            "use_count": {
              "format": "int32",
              "type": "integer"
            }
          },
          "required": [
            "created_at",
            "id",
            "invite_type",
            "role",
            "tenant_id",
            "use_count"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/FamilyInvitationModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "65fd618f83b9d1c9e4c033629f7e07534d6c79b672d3d73fbb49fee676b5b189",
      "created_at": "2025-12-18T18:59:43.166785Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AuditLogEntryModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "action": {
              "type": "string"
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "error_message": {
              "type": [
                "string",
                "null"
              ]
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "ip_address": {
              "type": [
                "string",
                "null"
              ]
            },
            "metadata": true,
            "resource_id": {
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "resource_type": {
              "type": [
                "string",
                "null"
              ]
            },
            "success": {
              "type": "boolean"
            },
            "user_agent": {
              "type": [
                "string",
                "null"
              ]
            },
            "user_email": {
              "type": [
                "string",
                "null"
              ]
            },
            "user_id": {
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "action",
            "created_at",
            "id",
            "metadata",
            "success"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/AuditLogEntryModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "7510da596036037203a7da8550f80fdca5b25c35195808f628f43fa6448ef855",
      "created_at": "2025-12-18T18:59:43.166870Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MessageModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "MessageRole": {
              "enum": [
                "User",
                "Assistant",
                "System"
              ],
              "type": "string"
            }
          },
          "properties": {
            "agent_speaker": {
              "type": [
                "string",
                "null"
              ]
            },
            "channel_id": {
              "format": "uuid",
              "type": "string"
            },
            "content": {
              "type": "string"
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "metadata": true,
            "parent_id": {
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "role": {
              "$ref": "#/definitions/MessageRole"
            },
            "sender_id": {
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "thinking_steps": true,
            "tool_calls": true,
            "weave_result": true
          },
          "required": [
            "channel_id",
            "content",
            "created_at",
            "id",
            "metadata",
            "role",
            "thinking_steps",
            "tool_calls"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/MessageModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "efdad3c1611dd63160d3a5cb3924c8dceadb4abf9f449e1b34cbb50357694e37",
      "created_at": "2025-12-18T18:59:43.166953Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UserModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "avatar_url": {
              "type": [
                "string",
                "null"
              ]
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "deletion_requested_at": {
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "email": {
              "type": "string"
            },
            "email_verified": {
              "type": "boolean"
            },
            "gdpr_consents": true,
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "password_hash": {
              "type": [
                "string",
                "null"
              ]
            },
            "primary_tenant_id": {
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "settings": true,
            "updated_at": {
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "email",
            "email_verified",
            "gdpr_consents",
            "id",
            "name",
            "settings",
            "updated_at"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/UserModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2f2b41e48858beb5eecdc641a0e5c4e4c5aaecfcfe211292c862e078ffaa006f",
      "created_at": "2025-12-18T18:59:43.167035Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityRegistryModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "entity_type": {
              "type": "string"
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "entity_type",
            "id",
            "tenant_id"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/EntityRegistryModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "0ab1bd5e3408d9e00bd62bda829e05498fc541f0176c38fbcc5a4558343eebee",
      "created_at": "2025-12-18T18:59:43.167116Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "QuantumStateModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Quantum state with vector embedding (pgvector) Note: The `amplitudes` field uses pgvector VECTOR(3072) type SeaORM doesn't have native pgvector support, so raw SQL is used in store.rs",
          "properties": {
            "coherence": {
              "format": "double",
              "type": "number"
            },
            "entity_id": {
              "format": "uuid",
              "type": "string"
            },
            "frequency": {
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            }
          },
          "required": [
            "coherence",
            "entity_id"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/QuantumStateModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "1b8d553afac68d8a344f33634c7600df3a9ddc6226a5fc47958af15ff4f29cd0",
      "created_at": "2025-12-18T18:59:43.167197Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ConsentRecordModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ConsentType": {
              "enum": [
                "TermsOfService",
                "PrivacyPolicy",
                "MarketingEmails",
                "AiProcessing",
                "DataSharing",
                "Analytics"
              ],
              "type": "string"
            }
          },
          "properties": {
            "consent_type": {
              "$ref": "#/definitions/ConsentType"
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "granted": {
              "type": "boolean"
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "ip_address": {
              "type": [
                "string",
                "null"
              ]
            },
            "user_agent": {
              "type": [
                "string",
                "null"
              ]
            },
            "user_id": {
              "format": "uuid",
              "type": "string"
            },
            "version": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "consent_type",
            "created_at",
            "granted",
            "id",
            "user_id"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/ConsentRecordModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "762cb950dccd60949ea9e2b6612f04e01a724ca498ebf14549861f3d681bdc0d",
      "created_at": "2025-12-18T18:59:43.167279Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AuthSessionModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "expires_at": {
              "format": "date-time",
              "type": "string"
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "ip_address": {
              "type": [
                "string",
                "null"
              ]
            },
            "token_hash": {
              "type": "string"
            },
            "user_agent": {
              "type": [
                "string",
                "null"
              ]
            },
            "user_id": {
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "expires_at",
            "id",
            "token_hash",
            "user_id"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/AuthSessionModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ca6f9214e34b114b3438333053d600727bac4e62224c02b1f7d5b7ebf8a488d8",
      "created_at": "2025-12-18T18:59:43.167355Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "FamiliarEntityModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EntityStatus": {
              "enum": [
                "Pending",
                "Approved",
                "Rejected",
                "AutoSpawned"
              ],
              "type": "string"
            },
            "FamiliarEntityType": {
              "enum": [
                "Moment",
                "Pulse",
                "Intent",
                "Thread",
                "Bond",
                "Motif",
                "Filament",
                "Focus"
              ],
              "type": "string"
            }
          },
          "properties": {
            "content": {
              "type": "string"
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "entity_type": {
              "$ref": "#/definitions/FamiliarEntityType"
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "metadata": true,
            "physics": true,
            "qdrant_collection": {
              "type": [
                "string",
                "null"
              ]
            },
            "qdrant_point_id": {
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "reviewed_at": {
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "reviewed_by": {
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "source_channel_id": {
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "source_message_id": {
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "status": {
              "$ref": "#/definitions/EntityStatus"
            },
            "subject": {
              "type": [
                "string",
                "null"
              ]
            },
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            },
            "updated_at": {
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "content",
            "created_at",
            "entity_type",
            "id",
            "metadata",
            "status",
            "tenant_id",
            "updated_at"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/FamiliarEntityModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "0d28b138bfdd365232060d5102295e2c0b29ab21e828517db3f72ce61efaf3fb",
      "created_at": "2025-12-18T18:59:43.167448Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TenantModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "settings": true,
            "updated_at": {
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "id",
            "name",
            "settings",
            "updated_at"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/TenantModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2bcab4c93505b340aa7b4bf3156ad4297950bef4f7cd263f157c3449d5fc0318",
      "created_at": "2025-12-18T18:59:43.167531Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "JoinRequestModel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "JoinRequestStatus": {
              "enum": [
                "Pending",
                "Approved",
                "Rejected"
              ],
              "type": "string"
            }
          },
          "properties": {
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "message": {
              "type": [
                "string",
                "null"
              ]
            },
            "review_note": {
              "type": [
                "string",
                "null"
              ]
            },
            "reviewed_at": {
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "reviewed_by": {
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "status": {
              "$ref": "#/definitions/JoinRequestStatus"
            },
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            },
            "user_id": {
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "id",
            "status",
            "tenant_id",
            "user_id"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "database",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/database/JoinRequestModel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "7acf23ee8898117015aa4205c0a6cc32c8d7d60ce34958c315ef8424ac7b83ca",
      "created_at": "2025-12-18T18:59:43.167619Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BindingGraphUpdate",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BindingCharacteristics": {
              "description": "Binding characteristics",
              "properties": {
                "binding_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/BindingType"
                    }
                  ],
                  "description": "Type of cognitive binding"
                },
                "directionality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Directionality"
                    }
                  ],
                  "description": "Directionality"
                },
                "salience": {
                  "description": "Salience (how notable/memorable)",
                  "format": "double",
                  "type": "number"
                },
                "semantic": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/SemanticProperties"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Semantic properties"
                },
                "strength": {
                  "description": "Strength of binding (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "temporal": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/TemporalProperties"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Temporal properties"
                }
              },
              "required": [
                "binding_type",
                "directionality",
                "salience",
                "strength"
              ],
              "type": "object"
            },
            "BindingType": {
              "description": "Types of cognitive binding",
              "oneOf": [
                {
                  "description": "Cause leads to effect",
                  "enum": [
                    "causal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal sequence (before/after)",
                  "enum": [
                    "temporal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Associated by proximity/context",
                  "enum": [
                    "associative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Part-whole relationship",
                  "enum": [
                    "compositional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Contrast/opposition",
                  "enum": [
                    "contrastive"
                  ],
                  "type": "string"
                },
                {
                  "description": "Similarity/analogy",
                  "enum": [
                    "analogical"
                  ],
                  "type": "string"
                },
                {
                  "description": "Enables/prerequisite",
                  "enum": [
                    "enabling"
                  ],
                  "type": "string"
                },
                {
                  "description": "Thematic connection",
                  "enum": [
                    "thematic"
                  ],
                  "type": "string"
                }
              ]
            },
            "Directionality": {
              "description": "Directionality of binding",
              "oneOf": [
                {
                  "description": "Only source  target",
                  "enum": [
                    "unidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Both directions",
                  "enum": [
                    "bidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "No inherent direction",
                  "enum": [
                    "undirected"
                  ],
                  "type": "string"
                }
              ]
            },
            "GraphUpdateType": {
              "description": "Types of graph updates",
              "oneOf": [
                {
                  "description": "Add new binding",
                  "enum": [
                    "add_binding"
                  ],
                  "type": "string"
                },
                {
                  "description": "Strengthen existing binding",
                  "enum": [
                    "strengthen_binding"
                  ],
                  "type": "string"
                },
                {
                  "description": "Weaken existing binding",
                  "enum": [
                    "weaken_binding"
                  ],
                  "type": "string"
                },
                {
                  "description": "Remove binding",
                  "enum": [
                    "remove_binding"
                  ],
                  "type": "string"
                },
                {
                  "description": "Merge duplicate bindings",
                  "enum": [
                    "merge_bindings"
                  ],
                  "type": "string"
                }
              ]
            },
            "SemanticProperties": {
              "description": "Semantic properties of binding",
              "properties": {
                "relationship_description": {
                  "default": null,
                  "description": "Relationship description",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "shared_concepts": {
                  "default": [],
                  "description": "Shared concepts/topics",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "similarity": {
                  "description": "Semantic similarity score",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "similarity"
              ],
              "type": "object"
            },
            "TemporalProperties": {
              "description": "Temporal properties of binding",
              "properties": {
                "gap": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/TimeGap"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Time gap between entities"
                },
                "recurring": {
                  "default": false,
                  "description": "Is this a recurring pattern?",
                  "type": "boolean"
                },
                "relation": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalRelation"
                    }
                  ],
                  "description": "Time relation"
                }
              },
              "required": [
                "relation"
              ],
              "type": "object"
            },
            "TemporalRelation": {
              "description": "Temporal relationships",
              "enum": [
                "before",
                "after",
                "during",
                "simultaneous",
                "overlapping"
              ],
              "type": "string"
            },
            "TimeGap": {
              "description": "Time gap between entities",
              "properties": {
                "approximate": {
                  "description": "Is this approximate?",
                  "type": "boolean"
                },
                "unit": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TimeUnit"
                    }
                  ],
                  "description": "Duration unit"
                },
                "value": {
                  "description": "Duration value",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "approximate",
                "unit",
                "value"
              ],
              "type": "object"
            },
            "TimeUnit": {
              "description": "Time units",
              "enum": [
                "seconds",
                "minutes",
                "hours",
                "days",
                "weeks",
                "months",
                "years"
              ],
              "type": "string"
            }
          },
          "description": "Update to the binding graph",
          "properties": {
            "binding": {
              "anyOf": [
                {
                  "$ref": "#/definitions/BindingCharacteristics"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Binding characteristics"
            },
            "source_id": {
              "description": "Source entity ID",
              "type": "string"
            },
            "target_id": {
              "default": null,
              "description": "Target entity ID",
              "type": [
                "string",
                "null"
              ]
            },
            "update_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/GraphUpdateType"
                }
              ],
              "description": "Type of update"
            }
          },
          "required": [
            "source_id",
            "update_type"
          ],
          "title": "BindingGraphUpdate",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BindingGraphUpdate.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "29fbd18f2ff6fb3b31310bcb4cc52d291f9d6666e68d02a206f012cd585107d7",
      "created_at": "2025-12-18T18:59:43.167744Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "GraphUpdateType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Types of graph updates",
          "oneOf": [
            {
              "description": "Add new binding",
              "enum": [
                "add_binding"
              ],
              "type": "string"
            },
            {
              "description": "Strengthen existing binding",
              "enum": [
                "strengthen_binding"
              ],
              "type": "string"
            },
            {
              "description": "Weaken existing binding",
              "enum": [
                "weaken_binding"
              ],
              "type": "string"
            },
            {
              "description": "Remove binding",
              "enum": [
                "remove_binding"
              ],
              "type": "string"
            },
            {
              "description": "Merge duplicate bindings",
              "enum": [
                "merge_bindings"
              ],
              "type": "string"
            }
          ],
          "title": "GraphUpdateType"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/GraphUpdateType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4395cf6abd5faedd7cef0bc7eca6a694f2d910cb804b3498a83ab033a51bd9d8",
      "created_at": "2025-12-18T18:59:43.167942Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "InputMapping",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "InputTransform": {
              "description": "Transforms for input mapping",
              "oneOf": [
                {
                  "description": "Direct pass-through",
                  "properties": {
                    "type": {
                      "enum": [
                        "identity"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Extract array item",
                  "properties": {
                    "index": {
                      "format": "uint",
                      "minimum": 0.0,
                      "type": "integer"
                    },
                    "type": {
                      "enum": [
                        "array_item"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "index",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Filter array by condition",
                  "properties": {
                    "path": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "array_filter"
                      ],
                      "type": "string"
                    },
                    "value": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "path",
                    "type",
                    "value"
                  ],
                  "type": "object"
                },
                {
                  "description": "Map array items",
                  "properties": {
                    "template": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "array_map"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "template",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Concatenate strings",
                  "properties": {
                    "separator": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "concat"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "separator",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Custom transform function",
                  "properties": {
                    "function": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "custom"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "function",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            }
          },
          "description": "Input mapping from previous step output",
          "properties": {
            "from_path": {
              "description": "Path in source output",
              "type": "string"
            },
            "from_step": {
              "description": "Source step ID",
              "type": "string"
            },
            "to_path": {
              "description": "Path in this step's input",
              "type": "string"
            },
            "transform": {
              "anyOf": [
                {
                  "$ref": "#/definitions/InputTransform"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Transform to apply"
            }
          },
          "required": [
            "from_path",
            "from_step",
            "to_path"
          ],
          "title": "InputMapping",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/InputMapping.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "9aff84ea5792e281f73807030aa7ea4865189a9688cea859a3889d1208b8379d",
      "created_at": "2025-12-18T18:59:43.168032Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "QueryFilter",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "FilterOperator": {
              "description": "Filter operators",
              "enum": [
                "equals",
                "not_equals",
                "contains",
                "starts_with",
                "ends_with",
                "greater_than",
                "less_than",
                "between",
                "in",
                "not_in"
              ],
              "type": "string"
            }
          },
          "description": "A filter for queries",
          "properties": {
            "field": {
              "description": "Field to filter on",
              "type": "string"
            },
            "operator": {
              "allOf": [
                {
                  "$ref": "#/definitions/FilterOperator"
                }
              ],
              "description": "Filter operator"
            },
            "value": {
              "description": "Filter value"
            }
          },
          "required": [
            "field",
            "operator",
            "value"
          ],
          "title": "QueryFilter",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/QueryFilter.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "8e0401c7d88d480516349aef6acdc9a1422ffa30a002b1824dc2ad659ad6b8fc",
      "created_at": "2025-12-18T18:59:43.168118Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SegmentationMetadata",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "Modality": {
              "description": "Supported input modalities",
              "enum": [
                "text",
                "audio",
                "vision",
                "video"
              ],
              "type": "string"
            }
          },
          "description": "Metadata about the segmentation",
          "properties": {
            "entity_count": {
              "description": "Total entities mentioned",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "language": {
              "default": null,
              "description": "Primary language detected",
              "type": [
                "string",
                "null"
              ]
            },
            "modality": {
              "allOf": [
                {
                  "$ref": "#/definitions/Modality"
                }
              ],
              "description": "Input modality"
            },
            "segment_count": {
              "description": "Total segments produced",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "speaker_count": {
              "default": null,
              "description": "Number of unique speakers (for audio/video)",
              "format": "uint",
              "minimum": 0.0,
              "type": [
                "integer",
                "null"
              ]
            },
            "temporal_count": {
              "description": "Total temporal markers found",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            }
          },
          "required": [
            "entity_count",
            "modality",
            "segment_count",
            "temporal_count"
          ],
          "title": "SegmentationMetadata",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SegmentationMetadata.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "3920152df587599254b225683e7a1be7d23d11b61c52fb5e9a98f4f11c73d6db",
      "created_at": "2025-12-18T18:59:43.168204Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RelationshipDuration",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "DurationCategory": {
              "description": "Duration categories",
              "enum": [
                "new",
                "recent",
                "established",
                "long_term",
                "lifelong"
              ],
              "type": "string"
            }
          },
          "description": "Relationship duration",
          "properties": {
            "category": {
              "allOf": [
                {
                  "$ref": "#/definitions/DurationCategory"
                }
              ],
              "description": "Duration category"
            },
            "since": {
              "default": null,
              "description": "Start date if known",
              "type": [
                "string",
                "null"
              ]
            },
            "years": {
              "default": null,
              "description": "How long the relationship has existed",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            }
          },
          "required": [
            "category"
          ],
          "title": "RelationshipDuration",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/RelationshipDuration.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "68f57b33fad9290d9a1c1f49c3cb69e6320457d57430039162398cf0593f2724",
      "created_at": "2025-12-18T18:59:43.168290Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TemporalMarker",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ParsedTemporal": {
              "description": "Parsed temporal information",
              "properties": {
                "date": {
                  "default": null,
                  "description": "ISO 8601 date if specific",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relative_days": {
                  "default": null,
                  "description": "Relative offset (e.g., -1 for \"yesterday\")",
                  "format": "int32",
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "time_of_day": {
                  "default": null,
                  "description": "Time of day if mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "TemporalMarkerType": {
              "description": "Types of temporal markers",
              "oneOf": [
                {
                  "description": "Specific date (January 5th)",
                  "enum": [
                    "absolute"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relative reference (yesterday, last week)",
                  "enum": [
                    "relative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Duration (for 2 hours)",
                  "enum": [
                    "duration"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency (every day, weekly)",
                  "enum": [
                    "frequency"
                  ],
                  "type": "string"
                },
                {
                  "description": "Time of day (in the morning)",
                  "enum": [
                    "time_of_day"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "A temporal marker in the segment",
          "properties": {
            "marker_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/TemporalMarkerType"
                }
              ],
              "description": "Type of temporal reference"
            },
            "parsed": {
              "anyOf": [
                {
                  "$ref": "#/definitions/ParsedTemporal"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Parsed temporal value (if parseable)"
            },
            "text": {
              "description": "The text of the marker",
              "type": "string"
            }
          },
          "required": [
            "marker_type",
            "text"
          ],
          "title": "TemporalMarker",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/TemporalMarker.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "7f460a5174203479ed03e9ee76a14e944fbd00a8f9d8bdf4054d71a083465eeb",
      "created_at": "2025-12-18T18:59:43.168385Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ParameterType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Supported parameter types",
          "oneOf": [
            {
              "enum": [
                "string",
                "integer",
                "float",
                "boolean",
                "array",
                "object"
              ],
              "type": "string"
            },
            {
              "description": "Reference to another entity",
              "enum": [
                "entity_ref"
              ],
              "type": "string"
            },
            {
              "description": "Base64 encoded binary data",
              "enum": [
                "binary"
              ],
              "type": "string"
            }
          ],
          "title": "ParameterType"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ParameterType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "abf47879d466b01bad6822de18291e7d984c3352a9fc4a45a5f590660584c4e5",
      "created_at": "2025-12-18T18:59:43.168477Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SemanticProperties",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Semantic properties of binding",
          "properties": {
            "relationship_description": {
              "default": null,
              "description": "Relationship description",
              "type": [
                "string",
                "null"
              ]
            },
            "shared_concepts": {
              "default": [],
              "description": "Shared concepts/topics",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "similarity": {
              "description": "Semantic similarity score",
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "similarity"
          ],
          "title": "SemanticProperties",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SemanticProperties.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "1b9d9a9e581a84e1cfbbdbeb0716317a2a5ef23e74f8e82aeb7db19e75f91275",
      "created_at": "2025-12-18T18:59:43.168557Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BondHints",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "RelationshipType": {
              "description": "Types of relationships",
              "enum": [
                "family",
                "friend",
                "close_friend",
                "best_friend",
                "romantic",
                "ex_romantic",
                "spouse",
                "parent",
                "child",
                "sibling",
                "colleague",
                "manager",
                "direct_report",
                "mentor",
                "mentee",
                "client",
                "vendor",
                "partner",
                "acquaintance",
                "neighbor",
                "classmate",
                "teammate",
                "adversary",
                "rival",
                "service_provider",
                "other"
              ],
              "type": "string"
            },
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            }
          },
          "description": "Hints for relationship bonds",
          "properties": {
            "description": {
              "default": null,
              "description": "Description of relationship",
              "type": [
                "string",
                "null"
              ]
            },
            "reciprocity": {
              "default": 0.5,
              "description": "Reciprocity (0.0 one-way to 1.0 mutual)",
              "format": "double",
              "type": "number"
            },
            "relationship_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/RelationshipType"
                }
              ],
              "description": "Relationship type"
            },
            "source": {
              "allOf": [
                {
                  "$ref": "#/definitions/ThreadReference"
                }
              ],
              "description": "Source entity (head of relationship)"
            },
            "strength": {
              "description": "Strength of relationship (0.0 to 1.0)",
              "format": "double",
              "type": "number"
            },
            "target": {
              "allOf": [
                {
                  "$ref": "#/definitions/ThreadReference"
                }
              ],
              "description": "Target entity (tail of relationship)"
            },
            "valence": {
              "description": "Valence of relationship (-1.0 to 1.0)",
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "relationship_type",
            "source",
            "strength",
            "target",
            "valence"
          ],
          "title": "BondHints",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BondHints.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4a7429dc548e883447a4117ffefbfe58e21551395ac63e2cde0bf180a26d26ac",
      "created_at": "2025-12-18T18:59:43.168644Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityClassifierOutput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ClassificationEvidence": {
              "description": "Evidence for a classification",
              "properties": {
                "description": {
                  "description": "Description of evidence",
                  "type": "string"
                },
                "evidence_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EvidenceType"
                    }
                  ],
                  "description": "Type of evidence"
                },
                "weight": {
                  "description": "How much this evidence contributes",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "description",
                "evidence_type",
                "weight"
              ],
              "type": "object"
            },
            "ClassificationReasoning": {
              "description": "Reasoning behind classification",
              "properties": {
                "explanations": {
                  "default": [],
                  "description": "Why certain types were included/excluded",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "key_phrases": {
                  "default": [],
                  "description": "Key phrases that influenced classification",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "main_verb": {
                  "default": null,
                  "description": "Main verb identified",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "verb_category": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/VerbCategory"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Verb category"
                }
              },
              "type": "object"
            },
            "EntityClassification": {
              "description": "A single entity classification with probability",
              "properties": {
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityType"
                    }
                  ],
                  "description": "Entity type"
                },
                "evidence": {
                  "default": [],
                  "description": "Evidence supporting this classification",
                  "items": {
                    "$ref": "#/definitions/ClassificationEvidence"
                  },
                  "type": "array"
                },
                "probability": {
                  "description": "Probability (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "entity_type",
                "probability"
              ],
              "type": "object"
            },
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            },
            "EvidenceType": {
              "description": "Types of evidence for classification",
              "oneOf": [
                {
                  "description": "Verb type (action vs state)",
                  "enum": [
                    "verb_type"
                  ],
                  "type": "string"
                },
                {
                  "description": "Keywords detected",
                  "enum": [
                    "keywords"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal indicators",
                  "enum": [
                    "temporal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Emotional indicators",
                  "enum": [
                    "emotional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity mentions",
                  "enum": [
                    "entity_mention"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relational language",
                  "enum": [
                    "relational"
                  ],
                  "type": "string"
                },
                {
                  "description": "Pattern indicators",
                  "enum": [
                    "pattern"
                  ],
                  "type": "string"
                },
                {
                  "description": "Context from surrounding content",
                  "enum": [
                    "context"
                  ],
                  "type": "string"
                }
              ]
            },
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            },
            "VerbCategory": {
              "description": "Categories of verbs for classification",
              "oneOf": [
                {
                  "description": "Action verbs (went, did, called)  MOMENT",
                  "enum": [
                    "action"
                  ],
                  "type": "string"
                },
                {
                  "description": "State verbs (was, felt, is)  often PULSE",
                  "enum": [
                    "state"
                  ],
                  "type": "string"
                },
                {
                  "description": "Stative + evaluative (was nice, felt good)  PULSE",
                  "enum": [
                    "evaluative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relational verbs (met, talked with)  may indicate BOND",
                  "enum": [
                    "relational"
                  ],
                  "type": "string"
                },
                {
                  "description": "Habitual (always, usually does)  may indicate MOTIF/FILAMENT",
                  "enum": [
                    "habitual"
                  ],
                  "type": "string"
                },
                {
                  "description": "Intentional (want to, plan to)  INTENT",
                  "enum": [
                    "intentional"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Output from entity classification",
          "properties": {
            "classifications": {
              "description": "All classifications with probabilities (sorted by probability)",
              "items": {
                "$ref": "#/definitions/EntityClassification"
              },
              "type": "array"
            },
            "enriched_content": {
              "default": null,
              "description": "Enriched content (e.g., Pulse with context added)",
              "type": [
                "string",
                "null"
              ]
            },
            "primary_thread": {
              "anyOf": [
                {
                  "$ref": "#/definitions/ThreadReference"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Primary thread reference (main subject/actor)"
            },
            "reasoning": {
              "allOf": [
                {
                  "$ref": "#/definitions/ClassificationReasoning"
                }
              ],
              "description": "Classification reasoning"
            },
            "secondary_threads": {
              "default": [],
              "description": "Secondary thread references",
              "items": {
                "$ref": "#/definitions/ThreadReference"
              },
              "type": "array"
            },
            "temporal_marker": {
              "default": null,
              "description": "Temporal marker extracted",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "classifications",
            "reasoning"
          ],
          "title": "EntityClassifierOutput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/EntityClassifierOutput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "1047388d54d09670d4034e8ab9a8c6e5e8cc77cf711d2329b36827605a76c9f3",
      "created_at": "2025-12-18T18:59:43.169027Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ExecutionOrder",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Execution order types",
          "oneOf": [
            {
              "description": "Execute in sequence",
              "enum": [
                "sequential"
              ],
              "type": "string"
            },
            {
              "description": "Execute in parallel with other parallel steps",
              "enum": [
                "parallel"
              ],
              "type": "string"
            },
            {
              "description": "Execute only if condition is met",
              "enum": [
                "conditional"
              ],
              "type": "string"
            },
            {
              "description": "Execute as fallback if previous failed",
              "enum": [
                "fallback"
              ],
              "type": "string"
            }
          ],
          "title": "ExecutionOrder"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ExecutionOrder.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6ac5118a7034892e2b0713fe881279b7a026bb408ff0ad9b539ac38a91c4d98f",
      "created_at": "2025-12-18T18:59:43.169336Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ConditionType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Types of conditions",
          "oneOf": [
            {
              "description": "Check output value",
              "enum": [
                "output_value"
              ],
              "type": "string"
            },
            {
              "description": "Check if step succeeded",
              "enum": [
                "step_success"
              ],
              "type": "string"
            },
            {
              "description": "Check if step failed",
              "enum": [
                "step_failed"
              ],
              "type": "string"
            },
            {
              "description": "Check output exists",
              "enum": [
                "output_exists"
              ],
              "type": "string"
            }
          ],
          "title": "ConditionType"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ConditionType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "52d8b829e1f6d8e9f6b0f3b77a596092c3f22f0b415521bb5d0c870499684721",
      "created_at": "2025-12-18T18:59:43.169432Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BindingEvidenceType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Types of binding evidence",
          "oneOf": [
            {
              "description": "Explicit linguistic marker",
              "enum": [
                "linguistic_marker"
              ],
              "type": "string"
            },
            {
              "description": "Temporal proximity",
              "enum": [
                "temporal_proximity"
              ],
              "type": "string"
            },
            {
              "description": "Semantic similarity",
              "enum": [
                "semantic_similarity"
              ],
              "type": "string"
            },
            {
              "description": "Entity co-reference",
              "enum": [
                "co_reference"
              ],
              "type": "string"
            },
            {
              "description": "Emotional similarity",
              "enum": [
                "emotional_similarity"
              ],
              "type": "string"
            },
            {
              "description": "Narrative continuity",
              "enum": [
                "narrative_continuity"
              ],
              "type": "string"
            },
            {
              "description": "User explicit statement",
              "enum": [
                "explicit_statement"
              ],
              "type": "string"
            },
            {
              "description": "Inferred from context",
              "enum": [
                "contextual_inference"
              ],
              "type": "string"
            }
          ],
          "title": "BindingEvidenceType"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BindingEvidenceType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4c79ec55b48caf8941cb9945c05fcd32cf8b8f3acb52b10faf6688e20382de04",
      "created_at": "2025-12-18T18:59:43.169522Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TemporalMarkerType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Types of temporal markers",
          "oneOf": [
            {
              "description": "Specific date (January 5th)",
              "enum": [
                "absolute"
              ],
              "type": "string"
            },
            {
              "description": "Relative reference (yesterday, last week)",
              "enum": [
                "relative"
              ],
              "type": "string"
            },
            {
              "description": "Duration (for 2 hours)",
              "enum": [
                "duration"
              ],
              "type": "string"
            },
            {
              "description": "Frequency (every day, weekly)",
              "enum": [
                "frequency"
              ],
              "type": "string"
            },
            {
              "description": "Time of day (in the morning)",
              "enum": [
                "time_of_day"
              ],
              "type": "string"
            }
          ],
          "title": "TemporalMarkerType"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/TemporalMarkerType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "267aa4301ec4f8c94c7b12d74734edbac3aa31a766212bb39cdb693111c984a2",
      "created_at": "2025-12-18T18:59:43.169611Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "LinguisticAnalysis",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "IdentifiedVerb": {
              "description": "An identified verb with analysis",
              "properties": {
                "category": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/VerbCategory"
                    }
                  ],
                  "description": "Verb category"
                },
                "is_main": {
                  "description": "Is this the main verb?",
                  "type": "boolean"
                },
                "tense": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/VerbTense"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Tense"
                },
                "text": {
                  "description": "The verb text",
                  "type": "string"
                }
              },
              "required": [
                "category",
                "is_main",
                "text"
              ],
              "type": "object"
            },
            "VerbCategory": {
              "description": "Categories of verbs for classification",
              "oneOf": [
                {
                  "description": "Action verbs (went, did, called)  MOMENT",
                  "enum": [
                    "action"
                  ],
                  "type": "string"
                },
                {
                  "description": "State verbs (was, felt, is)  often PULSE",
                  "enum": [
                    "state"
                  ],
                  "type": "string"
                },
                {
                  "description": "Stative + evaluative (was nice, felt good)  PULSE",
                  "enum": [
                    "evaluative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relational verbs (met, talked with)  may indicate BOND",
                  "enum": [
                    "relational"
                  ],
                  "type": "string"
                },
                {
                  "description": "Habitual (always, usually does)  may indicate MOTIF/FILAMENT",
                  "enum": [
                    "habitual"
                  ],
                  "type": "string"
                },
                {
                  "description": "Intentional (want to, plan to)  INTENT",
                  "enum": [
                    "intentional"
                  ],
                  "type": "string"
                }
              ]
            },
            "VerbTense": {
              "description": "Verb tenses",
              "enum": [
                "past",
                "present",
                "future",
                "habitual"
              ],
              "type": "string"
            }
          },
          "description": "Result of linguistic analysis for classification",
          "properties": {
            "modifiers": {
              "default": [],
              "description": "Adverbs/modifiers that affect classification",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "objects": {
              "default": [],
              "description": "Objects identified",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "subjects": {
              "default": [],
              "description": "Subjects identified",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "verbs": {
              "description": "Identified verbs",
              "items": {
                "$ref": "#/definitions/IdentifiedVerb"
              },
              "type": "array"
            }
          },
          "required": [
            "verbs"
          ],
          "title": "LinguisticAnalysis",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/LinguisticAnalysis.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e6b26e8c91bdc0578ba1b800bc5a6663ffa48d4b884da7d44c1ae97861f66aad",
      "created_at": "2025-12-18T18:59:43.169708Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DetectedPerson",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BoundingBox": {
              "description": "Bounding box for object detection",
              "properties": {
                "height": {
                  "format": "double",
                  "type": "number"
                },
                "width": {
                  "format": "double",
                  "type": "number"
                },
                "x": {
                  "format": "double",
                  "type": "number"
                },
                "y": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "height",
                "width",
                "x",
                "y"
              ],
              "type": "object"
            }
          },
          "description": "A detected person in vision",
          "properties": {
            "bounding_box": {
              "anyOf": [
                {
                  "$ref": "#/definitions/BoundingBox"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "emotion": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "face_id": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            }
          },
          "title": "DetectedPerson",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/DetectedPerson.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ba015853de35987d48b5d69710df3716eccac5fdc23ce164e5c95c4b8d28b639",
      "created_at": "2025-12-18T18:59:43.169802Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ToolExecutionMetadata",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "TokenUsage": {
              "description": "Token usage statistics from a completion",
              "properties": {
                "completion_tokens": {
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "prompt_tokens": {
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "total_tokens": {
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "completion_tokens",
                "prompt_tokens",
                "total_tokens"
              ],
              "type": "object"
            }
          },
          "description": "Tool execution metadata",
          "properties": {
            "duration_ms": {
              "description": "Execution duration in milliseconds",
              "format": "uint64",
              "minimum": 0.0,
              "type": "integer"
            },
            "model": {
              "default": null,
              "description": "Model used (if LLM-based)",
              "type": [
                "string",
                "null"
              ]
            },
            "started_at": {
              "description": "Timestamp when execution started",
              "type": "string"
            },
            "token_usage": {
              "anyOf": [
                {
                  "$ref": "#/definitions/TokenUsage"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Token usage (if LLM-based)"
            },
            "tool_name": {
              "description": "Tool name that was executed",
              "type": "string"
            },
            "trace_id": {
              "default": null,
              "description": "Request/trace ID for debugging",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "duration_ms",
            "started_at",
            "tool_name"
          ],
          "title": "ToolExecutionMetadata",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ToolExecutionMetadata.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4cfc874be1ad7d36b2fc7c7e42de82bf233f713918745de0076e080f26667600",
      "created_at": "2025-12-18T18:59:43.170092Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PhysicsHintInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EmotionalTone": {
              "description": "Emotional tone detected in segment",
              "properties": {
                "arousal": {
                  "description": "Arousal (0.0 calm to 1.0 excited)",
                  "format": "double",
                  "type": "number"
                },
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "primary": {
                  "description": "Primary emotion",
                  "type": "string"
                },
                "valence": {
                  "description": "Valence (-1.0 negative to 1.0 positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "confidence",
                "primary",
                "valence"
              ],
              "type": "object"
            },
            "EntityMention": {
              "description": "An entity mention within a segment",
              "properties": {
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "end": {
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityMentionType"
                    }
                  ],
                  "description": "Type of entity mentioned"
                },
                "resolved_id": {
                  "default": null,
                  "description": "Resolved entity ID (if matched to known entity)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Position in segment",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "text": {
                  "description": "The text of the mention",
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "end",
                "entity_type",
                "start",
                "text"
              ],
              "type": "object"
            },
            "EntityMentionType": {
              "description": "Types of entity mentions",
              "enum": [
                "PERSON",
                "PLACE",
                "ORGANIZATION",
                "DATE_TIME",
                "EVENT",
                "CONCEPT",
                "OBJECT",
                "ACTIVITY"
              ],
              "type": "string"
            },
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            },
            "Modality": {
              "description": "Supported input modalities",
              "enum": [
                "text",
                "audio",
                "vision",
                "video"
              ],
              "type": "string"
            },
            "ParsedTemporal": {
              "description": "Parsed temporal information",
              "properties": {
                "date": {
                  "default": null,
                  "description": "ISO 8601 date if specific",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relative_days": {
                  "default": null,
                  "description": "Relative offset (e.g., -1 for \"yesterday\")",
                  "format": "int32",
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "time_of_day": {
                  "default": null,
                  "description": "Time of day if mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "Segment": {
              "description": "A segmented unit of content",
              "properties": {
                "boundaries": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentBoundaries"
                    }
                  ],
                  "description": "Segment boundaries"
                },
                "confidence": {
                  "description": "Confidence in segmentation decision",
                  "format": "double",
                  "type": "number"
                },
                "content": {
                  "description": "The segmented content",
                  "type": "string"
                },
                "features": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentFeatures"
                    }
                  ],
                  "description": "Extracted features"
                },
                "id": {
                  "description": "Unique segment ID",
                  "type": "string"
                },
                "index": {
                  "description": "Index in the sequence",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "modality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Modality"
                    }
                  ],
                  "description": "Original modality"
                }
              },
              "required": [
                "boundaries",
                "confidence",
                "content",
                "features",
                "id",
                "index",
                "modality"
              ],
              "type": "object"
            },
            "SegmentBoundaries": {
              "description": "Boundaries of a segment within the original input",
              "properties": {
                "end": {
                  "description": "End position",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "speaker_id": {
                  "default": null,
                  "description": "For audio/video: speaker ID if detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Start position (char index for text, milliseconds for audio/video)",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "end",
                "start"
              ],
              "type": "object"
            },
            "SegmentFeatures": {
              "description": "Extracted features from a segment",
              "properties": {
                "emotional_tone": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/EmotionalTone"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Emotional tone (if detectable)"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "language": {
                  "default": null,
                  "description": "Language detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "mentions": {
                  "default": [],
                  "description": "Entity mentions found",
                  "items": {
                    "$ref": "#/definitions/EntityMention"
                  },
                  "type": "array"
                },
                "subject": {
                  "default": null,
                  "description": "Primary subject/actor mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "temporal_markers": {
                  "default": [],
                  "description": "Temporal markers detected",
                  "items": {
                    "$ref": "#/definitions/TemporalMarker"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "TemporalMarker": {
              "description": "A temporal marker in the segment",
              "properties": {
                "marker_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalMarkerType"
                    }
                  ],
                  "description": "Type of temporal reference"
                },
                "parsed": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ParsedTemporal"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Parsed temporal value (if parseable)"
                },
                "text": {
                  "description": "The text of the marker",
                  "type": "string"
                }
              },
              "required": [
                "marker_type",
                "text"
              ],
              "type": "object"
            },
            "TemporalMarkerType": {
              "description": "Types of temporal markers",
              "oneOf": [
                {
                  "description": "Specific date (January 5th)",
                  "enum": [
                    "absolute"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relative reference (yesterday, last week)",
                  "enum": [
                    "relative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Duration (for 2 hours)",
                  "enum": [
                    "duration"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency (every day, weekly)",
                  "enum": [
                    "frequency"
                  ],
                  "type": "string"
                },
                {
                  "description": "Time of day (in the morning)",
                  "enum": [
                    "time_of_day"
                  ],
                  "type": "string"
                }
              ]
            },
            "VAEPosition": {
              "description": "VAE space position (quantized for physics)",
              "properties": {
                "x": {
                  "description": "X: Valence (emotional polarity)",
                  "format": "int64",
                  "type": "integer"
                },
                "y": {
                  "description": "Y: Arousal (energy/activation)",
                  "format": "int64",
                  "type": "integer"
                },
                "z": {
                  "description": "Z: Epistemic (certainty)",
                  "format": "int64",
                  "type": "integer"
                }
              },
              "required": [
                "x",
                "y",
                "z"
              ],
              "type": "object"
            }
          },
          "description": "Input for physics hint generation",
          "properties": {
            "content": {
              "description": "Content text",
              "type": "string"
            },
            "entity_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/EntityType"
                }
              ],
              "description": "Entity type being spawned"
            },
            "previous_positions": {
              "default": [],
              "description": "Previous entity positions for continuity",
              "items": {
                "$ref": "#/definitions/VAEPosition"
              },
              "type": "array"
            },
            "segment": {
              "allOf": [
                {
                  "$ref": "#/definitions/Segment"
                }
              ],
              "description": "The segment to analyze"
            }
          },
          "required": [
            "content",
            "entity_type",
            "segment"
          ],
          "title": "PhysicsHintInput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/PhysicsHintInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "113e38518929e0b7b7a81f90f69a5b1b4b9f5a4065888cd85e5edb6469546898",
      "created_at": "2025-12-18T18:59:43.170512Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BindingType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Types of cognitive binding",
          "oneOf": [
            {
              "description": "Cause leads to effect",
              "enum": [
                "causal"
              ],
              "type": "string"
            },
            {
              "description": "Temporal sequence (before/after)",
              "enum": [
                "temporal"
              ],
              "type": "string"
            },
            {
              "description": "Associated by proximity/context",
              "enum": [
                "associative"
              ],
              "type": "string"
            },
            {
              "description": "Part-whole relationship",
              "enum": [
                "compositional"
              ],
              "type": "string"
            },
            {
              "description": "Contrast/opposition",
              "enum": [
                "contrastive"
              ],
              "type": "string"
            },
            {
              "description": "Similarity/analogy",
              "enum": [
                "analogical"
              ],
              "type": "string"
            },
            {
              "description": "Enables/prerequisite",
              "enum": [
                "enabling"
              ],
              "type": "string"
            },
            {
              "description": "Thematic connection",
              "enum": [
                "thematic"
              ],
              "type": "string"
            }
          ],
          "title": "BindingType"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BindingType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "dfa3bd71e754acb40e5025281816e18e27b25a68c78de6ae0e6ca2818da00085",
      "created_at": "2025-12-18T18:59:43.170716Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TemporalRelation",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Temporal relationships",
          "enum": [
            "before",
            "after",
            "during",
            "simultaneous",
            "overlapping"
          ],
          "title": "TemporalRelation",
          "type": "string"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/TemporalRelation.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d75b5710effd8055e4bcfb4bfdefacbf57f331d5c3e7f4bc68060447e85e2468",
      "created_at": "2025-12-18T18:59:43.170809Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityMentionType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Types of entity mentions",
          "enum": [
            "PERSON",
            "PLACE",
            "ORGANIZATION",
            "DATE_TIME",
            "EVENT",
            "CONCEPT",
            "OBJECT",
            "ACTIVITY"
          ],
          "title": "EntityMentionType",
          "type": "string"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/EntityMentionType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "c9d88566492792d3b44fc1b6fa9bf1af029210624b8a165c2e3b8f90556dffaf",
      "created_at": "2025-12-18T18:59:43.170912Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BindingCharacteristics",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BindingType": {
              "description": "Types of cognitive binding",
              "oneOf": [
                {
                  "description": "Cause leads to effect",
                  "enum": [
                    "causal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal sequence (before/after)",
                  "enum": [
                    "temporal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Associated by proximity/context",
                  "enum": [
                    "associative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Part-whole relationship",
                  "enum": [
                    "compositional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Contrast/opposition",
                  "enum": [
                    "contrastive"
                  ],
                  "type": "string"
                },
                {
                  "description": "Similarity/analogy",
                  "enum": [
                    "analogical"
                  ],
                  "type": "string"
                },
                {
                  "description": "Enables/prerequisite",
                  "enum": [
                    "enabling"
                  ],
                  "type": "string"
                },
                {
                  "description": "Thematic connection",
                  "enum": [
                    "thematic"
                  ],
                  "type": "string"
                }
              ]
            },
            "Directionality": {
              "description": "Directionality of binding",
              "oneOf": [
                {
                  "description": "Only source  target",
                  "enum": [
                    "unidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Both directions",
                  "enum": [
                    "bidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "No inherent direction",
                  "enum": [
                    "undirected"
                  ],
                  "type": "string"
                }
              ]
            },
            "SemanticProperties": {
              "description": "Semantic properties of binding",
              "properties": {
                "relationship_description": {
                  "default": null,
                  "description": "Relationship description",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "shared_concepts": {
                  "default": [],
                  "description": "Shared concepts/topics",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "similarity": {
                  "description": "Semantic similarity score",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "similarity"
              ],
              "type": "object"
            },
            "TemporalProperties": {
              "description": "Temporal properties of binding",
              "properties": {
                "gap": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/TimeGap"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Time gap between entities"
                },
                "recurring": {
                  "default": false,
                  "description": "Is this a recurring pattern?",
                  "type": "boolean"
                },
                "relation": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalRelation"
                    }
                  ],
                  "description": "Time relation"
                }
              },
              "required": [
                "relation"
              ],
              "type": "object"
            },
            "TemporalRelation": {
              "description": "Temporal relationships",
              "enum": [
                "before",
                "after",
                "during",
                "simultaneous",
                "overlapping"
              ],
              "type": "string"
            },
            "TimeGap": {
              "description": "Time gap between entities",
              "properties": {
                "approximate": {
                  "description": "Is this approximate?",
                  "type": "boolean"
                },
                "unit": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TimeUnit"
                    }
                  ],
                  "description": "Duration unit"
                },
                "value": {
                  "description": "Duration value",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "approximate",
                "unit",
                "value"
              ],
              "type": "object"
            },
            "TimeUnit": {
              "description": "Time units",
              "enum": [
                "seconds",
                "minutes",
                "hours",
                "days",
                "weeks",
                "months",
                "years"
              ],
              "type": "string"
            }
          },
          "description": "Binding characteristics",
          "properties": {
            "binding_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/BindingType"
                }
              ],
              "description": "Type of cognitive binding"
            },
            "directionality": {
              "allOf": [
                {
                  "$ref": "#/definitions/Directionality"
                }
              ],
              "description": "Directionality"
            },
            "salience": {
              "description": "Salience (how notable/memorable)",
              "format": "double",
              "type": "number"
            },
            "semantic": {
              "anyOf": [
                {
                  "$ref": "#/definitions/SemanticProperties"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Semantic properties"
            },
            "strength": {
              "description": "Strength of binding (0.0 to 1.0)",
              "format": "double",
              "type": "number"
            },
            "temporal": {
              "anyOf": [
                {
                  "$ref": "#/definitions/TemporalProperties"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Temporal properties"
            }
          },
          "required": [
            "binding_type",
            "directionality",
            "salience",
            "strength"
          ],
          "title": "BindingCharacteristics",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BindingCharacteristics.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "851da29007ff6bb4cf0ffd41157dbce17e04d368c8515bf76acef4c6b5a176be",
      "created_at": "2025-12-18T18:59:43.171030Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BindingEvidence",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BindingEvidenceType": {
              "description": "Types of binding evidence",
              "oneOf": [
                {
                  "description": "Explicit linguistic marker",
                  "enum": [
                    "linguistic_marker"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal proximity",
                  "enum": [
                    "temporal_proximity"
                  ],
                  "type": "string"
                },
                {
                  "description": "Semantic similarity",
                  "enum": [
                    "semantic_similarity"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity co-reference",
                  "enum": [
                    "co_reference"
                  ],
                  "type": "string"
                },
                {
                  "description": "Emotional similarity",
                  "enum": [
                    "emotional_similarity"
                  ],
                  "type": "string"
                },
                {
                  "description": "Narrative continuity",
                  "enum": [
                    "narrative_continuity"
                  ],
                  "type": "string"
                },
                {
                  "description": "User explicit statement",
                  "enum": [
                    "explicit_statement"
                  ],
                  "type": "string"
                },
                {
                  "description": "Inferred from context",
                  "enum": [
                    "contextual_inference"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Evidence for a detected binding",
          "properties": {
            "evidence_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/BindingEvidenceType"
                }
              ],
              "description": "Type of evidence"
            },
            "explanation": {
              "description": "Explanation",
              "type": "string"
            },
            "markers": {
              "default": [],
              "description": "Specific markers found",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "trigger_text": {
              "description": "Text that triggered detection",
              "type": "string"
            }
          },
          "required": [
            "evidence_type",
            "explanation",
            "trigger_text"
          ],
          "title": "BindingEvidence",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BindingEvidence.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "db2dc8b3c671b56cb7f4ba21bbbeb087ccaa0a421f0b131715e7f33c87a41912",
      "created_at": "2025-12-18T18:59:43.171207Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "StepCondition",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ConditionOperator": {
              "description": "Condition operators",
              "enum": [
                "equals",
                "not_equals",
                "greater_than",
                "less_than",
                "contains",
                "not_contains",
                "is_null",
                "is_not_null",
                "in"
              ],
              "type": "string"
            },
            "ConditionType": {
              "description": "Types of conditions",
              "oneOf": [
                {
                  "description": "Check output value",
                  "enum": [
                    "output_value"
                  ],
                  "type": "string"
                },
                {
                  "description": "Check if step succeeded",
                  "enum": [
                    "step_success"
                  ],
                  "type": "string"
                },
                {
                  "description": "Check if step failed",
                  "enum": [
                    "step_failed"
                  ],
                  "type": "string"
                },
                {
                  "description": "Check output exists",
                  "enum": [
                    "output_exists"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Condition for conditional execution",
          "properties": {
            "condition_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/ConditionType"
                }
              ],
              "description": "Type of condition"
            },
            "operator": {
              "allOf": [
                {
                  "$ref": "#/definitions/ConditionOperator"
                }
              ],
              "description": "Operator"
            },
            "path": {
              "description": "Path to check",
              "type": "string"
            },
            "source_step": {
              "description": "Source step to check",
              "type": "string"
            },
            "value": {
              "description": "Value to compare"
            }
          },
          "required": [
            "condition_type",
            "operator",
            "path",
            "source_step",
            "value"
          ],
          "title": "StepCondition",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/StepCondition.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "849cf89aa523e1c148c3570e465dddbf1b43b2c22e079ae3f4818b938168a0ff",
      "created_at": "2025-12-18T18:59:43.171307Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RecentThread",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            }
          },
          "description": "A recently referenced thread",
          "properties": {
            "mention_count": {
              "description": "Mention count in recent context",
              "format": "uint32",
              "minimum": 0.0,
              "type": "integer"
            },
            "recency": {
              "description": "How recently mentioned (in messages)",
              "format": "uint32",
              "minimum": 0.0,
              "type": "integer"
            },
            "thread": {
              "allOf": [
                {
                  "$ref": "#/definitions/ThreadReference"
                }
              ],
              "description": "Thread reference"
            }
          },
          "required": [
            "mention_count",
            "recency",
            "thread"
          ],
          "title": "RecentThread",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/RecentThread.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "20504bfce08fb9247eb0440e57d65164f33e288529fceec2fb0e39cbbcb63bd6",
      "created_at": "2025-12-18T18:59:43.171402Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityRef",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Reference to an entity for binding",
          "properties": {
            "content": {
              "description": "Content/description",
              "type": "string"
            },
            "entity_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/EntityType"
                }
              ],
              "description": "Entity type"
            },
            "id": {
              "default": null,
              "description": "Entity ID (if existing)",
              "type": [
                "string",
                "null"
              ]
            },
            "timestamp": {
              "default": null,
              "description": "When created (for temporal binding)",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "content",
            "entity_type"
          ],
          "title": "EntityRef",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/EntityRef.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "a442b291fb090c4a6902da9c89d6acc6f0957a0983e4281a81e387e89e9f838a",
      "created_at": "2025-12-18T18:59:43.171536Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BindingHintOutput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BindingCharacteristics": {
              "description": "Binding characteristics",
              "properties": {
                "binding_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/BindingType"
                    }
                  ],
                  "description": "Type of cognitive binding"
                },
                "directionality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Directionality"
                    }
                  ],
                  "description": "Directionality"
                },
                "salience": {
                  "description": "Salience (how notable/memorable)",
                  "format": "double",
                  "type": "number"
                },
                "semantic": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/SemanticProperties"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Semantic properties"
                },
                "strength": {
                  "description": "Strength of binding (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "temporal": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/TemporalProperties"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Temporal properties"
                }
              },
              "required": [
                "binding_type",
                "directionality",
                "salience",
                "strength"
              ],
              "type": "object"
            },
            "BindingEvidence": {
              "description": "Evidence for a detected binding",
              "properties": {
                "evidence_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/BindingEvidenceType"
                    }
                  ],
                  "description": "Type of evidence"
                },
                "explanation": {
                  "description": "Explanation",
                  "type": "string"
                },
                "markers": {
                  "default": [],
                  "description": "Specific markers found",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "trigger_text": {
                  "description": "Text that triggered detection",
                  "type": "string"
                }
              },
              "required": [
                "evidence_type",
                "explanation",
                "trigger_text"
              ],
              "type": "object"
            },
            "BindingEvidenceType": {
              "description": "Types of binding evidence",
              "oneOf": [
                {
                  "description": "Explicit linguistic marker",
                  "enum": [
                    "linguistic_marker"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal proximity",
                  "enum": [
                    "temporal_proximity"
                  ],
                  "type": "string"
                },
                {
                  "description": "Semantic similarity",
                  "enum": [
                    "semantic_similarity"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity co-reference",
                  "enum": [
                    "co_reference"
                  ],
                  "type": "string"
                },
                {
                  "description": "Emotional similarity",
                  "enum": [
                    "emotional_similarity"
                  ],
                  "type": "string"
                },
                {
                  "description": "Narrative continuity",
                  "enum": [
                    "narrative_continuity"
                  ],
                  "type": "string"
                },
                {
                  "description": "User explicit statement",
                  "enum": [
                    "explicit_statement"
                  ],
                  "type": "string"
                },
                {
                  "description": "Inferred from context",
                  "enum": [
                    "contextual_inference"
                  ],
                  "type": "string"
                }
              ]
            },
            "BindingGraphUpdate": {
              "description": "Update to the binding graph",
              "properties": {
                "binding": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/BindingCharacteristics"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Binding characteristics"
                },
                "source_id": {
                  "description": "Source entity ID",
                  "type": "string"
                },
                "target_id": {
                  "default": null,
                  "description": "Target entity ID",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "update_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/GraphUpdateType"
                    }
                  ],
                  "description": "Type of update"
                }
              },
              "required": [
                "source_id",
                "update_type"
              ],
              "type": "object"
            },
            "BindingType": {
              "description": "Types of cognitive binding",
              "oneOf": [
                {
                  "description": "Cause leads to effect",
                  "enum": [
                    "causal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal sequence (before/after)",
                  "enum": [
                    "temporal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Associated by proximity/context",
                  "enum": [
                    "associative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Part-whole relationship",
                  "enum": [
                    "compositional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Contrast/opposition",
                  "enum": [
                    "contrastive"
                  ],
                  "type": "string"
                },
                {
                  "description": "Similarity/analogy",
                  "enum": [
                    "analogical"
                  ],
                  "type": "string"
                },
                {
                  "description": "Enables/prerequisite",
                  "enum": [
                    "enabling"
                  ],
                  "type": "string"
                },
                {
                  "description": "Thematic connection",
                  "enum": [
                    "thematic"
                  ],
                  "type": "string"
                }
              ]
            },
            "DetectedBinding": {
              "description": "A detected binding between entities",
              "properties": {
                "binding": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/BindingCharacteristics"
                    }
                  ],
                  "description": "Binding characteristics"
                },
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "evidence": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/BindingEvidence"
                    }
                  ],
                  "description": "Evidence for the binding"
                },
                "source": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityRef"
                    }
                  ],
                  "description": "Source entity"
                },
                "target": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityRef"
                    }
                  ],
                  "description": "Target entity"
                }
              },
              "required": [
                "binding",
                "confidence",
                "evidence",
                "source",
                "target"
              ],
              "type": "object"
            },
            "Directionality": {
              "description": "Directionality of binding",
              "oneOf": [
                {
                  "description": "Only source  target",
                  "enum": [
                    "unidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Both directions",
                  "enum": [
                    "bidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "No inherent direction",
                  "enum": [
                    "undirected"
                  ],
                  "type": "string"
                }
              ]
            },
            "EntityRef": {
              "description": "Reference to an entity for binding",
              "properties": {
                "content": {
                  "description": "Content/description",
                  "type": "string"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityType"
                    }
                  ],
                  "description": "Entity type"
                },
                "id": {
                  "default": null,
                  "description": "Entity ID (if existing)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "timestamp": {
                  "default": null,
                  "description": "When created (for temporal binding)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content",
                "entity_type"
              ],
              "type": "object"
            },
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            },
            "GraphUpdateType": {
              "description": "Types of graph updates",
              "oneOf": [
                {
                  "description": "Add new binding",
                  "enum": [
                    "add_binding"
                  ],
                  "type": "string"
                },
                {
                  "description": "Strengthen existing binding",
                  "enum": [
                    "strengthen_binding"
                  ],
                  "type": "string"
                },
                {
                  "description": "Weaken existing binding",
                  "enum": [
                    "weaken_binding"
                  ],
                  "type": "string"
                },
                {
                  "description": "Remove binding",
                  "enum": [
                    "remove_binding"
                  ],
                  "type": "string"
                },
                {
                  "description": "Merge duplicate bindings",
                  "enum": [
                    "merge_bindings"
                  ],
                  "type": "string"
                }
              ]
            },
            "SemanticProperties": {
              "description": "Semantic properties of binding",
              "properties": {
                "relationship_description": {
                  "default": null,
                  "description": "Relationship description",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "shared_concepts": {
                  "default": [],
                  "description": "Shared concepts/topics",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "similarity": {
                  "description": "Semantic similarity score",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "similarity"
              ],
              "type": "object"
            },
            "TemporalProperties": {
              "description": "Temporal properties of binding",
              "properties": {
                "gap": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/TimeGap"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Time gap between entities"
                },
                "recurring": {
                  "default": false,
                  "description": "Is this a recurring pattern?",
                  "type": "boolean"
                },
                "relation": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalRelation"
                    }
                  ],
                  "description": "Time relation"
                }
              },
              "required": [
                "relation"
              ],
              "type": "object"
            },
            "TemporalRelation": {
              "description": "Temporal relationships",
              "enum": [
                "before",
                "after",
                "during",
                "simultaneous",
                "overlapping"
              ],
              "type": "string"
            },
            "TimeGap": {
              "description": "Time gap between entities",
              "properties": {
                "approximate": {
                  "description": "Is this approximate?",
                  "type": "boolean"
                },
                "unit": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TimeUnit"
                    }
                  ],
                  "description": "Duration unit"
                },
                "value": {
                  "description": "Duration value",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "approximate",
                "unit",
                "value"
              ],
              "type": "object"
            },
            "TimeUnit": {
              "description": "Time units",
              "enum": [
                "seconds",
                "minutes",
                "hours",
                "days",
                "weeks",
                "months",
                "years"
              ],
              "type": "string"
            }
          },
          "description": "Output from binding hint generation",
          "properties": {
            "bindings": {
              "description": "Detected bindings",
              "items": {
                "$ref": "#/definitions/DetectedBinding"
              },
              "type": "array"
            },
            "graph_updates": {
              "default": [],
              "description": "Binding graph additions",
              "items": {
                "$ref": "#/definitions/BindingGraphUpdate"
              },
              "type": "array"
            }
          },
          "required": [
            "bindings"
          ],
          "title": "BindingHintOutput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BindingHintOutput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4dbb965022576deb945bd4bd10859de012476603e00413f9905a7e3994bd44c9",
      "created_at": "2025-12-18T18:59:43.171802Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ThreadHintValues",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "SubjectReference": {
              "description": "Reference to a subject",
              "properties": {
                "confidence": {
                  "description": "Confidence in identification",
                  "format": "double",
                  "type": "number"
                },
                "name": {
                  "description": "Name/label of subject",
                  "type": "string"
                },
                "subject_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SubjectType"
                    }
                  ],
                  "description": "Type of subject"
                },
                "thread_id": {
                  "default": null,
                  "description": "Matched thread ID (if resolved)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "confidence",
                "name",
                "subject_type"
              ],
              "type": "object"
            },
            "SubjectType": {
              "description": "Types of subjects",
              "oneOf": [
                {
                  "description": "The user themselves",
                  "enum": [
                    "self_"
                  ],
                  "type": "string"
                },
                {
                  "description": "Another person",
                  "enum": [
                    "person"
                  ],
                  "type": "string"
                },
                {
                  "description": "A place",
                  "enum": [
                    "place"
                  ],
                  "type": "string"
                },
                {
                  "description": "An organization",
                  "enum": [
                    "organization"
                  ],
                  "type": "string"
                },
                {
                  "description": "A concept/topic",
                  "enum": [
                    "concept"
                  ],
                  "type": "string"
                },
                {
                  "description": "An event",
                  "enum": [
                    "event"
                  ],
                  "type": "string"
                },
                {
                  "description": "An object/thing",
                  "enum": [
                    "object"
                  ],
                  "type": "string"
                },
                {
                  "description": "Unknown/other",
                  "enum": [
                    "other"
                  ],
                  "type": "string"
                }
              ]
            },
            "ThreadCategory": {
              "description": "Categories for threads",
              "oneOf": [
                {
                  "description": "People (friends, family, colleagues)",
                  "enum": [
                    "people"
                  ],
                  "type": "string"
                },
                {
                  "description": "Places (home, work, cities)",
                  "enum": [
                    "places"
                  ],
                  "type": "string"
                },
                {
                  "description": "Activities (hobbies, work tasks)",
                  "enum": [
                    "activities"
                  ],
                  "type": "string"
                },
                {
                  "description": "Projects (ongoing endeavors)",
                  "enum": [
                    "projects"
                  ],
                  "type": "string"
                },
                {
                  "description": "Topics (interests, subjects)",
                  "enum": [
                    "topics"
                  ],
                  "type": "string"
                },
                {
                  "description": "Events (recurring or one-time)",
                  "enum": [
                    "events"
                  ],
                  "type": "string"
                },
                {
                  "description": "Groups (teams, organizations)",
                  "enum": [
                    "groups"
                  ],
                  "type": "string"
                },
                {
                  "description": "Health (physical, mental)",
                  "enum": [
                    "health"
                  ],
                  "type": "string"
                },
                {
                  "description": "Finance (money, investments)",
                  "enum": [
                    "finance"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationships",
                  "enum": [
                    "relationships"
                  ],
                  "type": "string"
                }
              ]
            },
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            },
            "ThreadRole": {
              "description": "Role of entity relative to threads",
              "oneOf": [
                {
                  "description": "Entity is the actor/doer",
                  "enum": [
                    "actor"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is the subject being discussed",
                  "enum": [
                    "subject"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is observing/witnessing",
                  "enum": [
                    "observer"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is the target of action",
                  "enum": [
                    "target"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is setting/location",
                  "enum": [
                    "setting"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is an instrument/tool",
                  "enum": [
                    "instrument"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Thread hint values",
          "properties": {
            "categories": {
              "default": [],
              "description": "Thread categories",
              "items": {
                "$ref": "#/definitions/ThreadCategory"
              },
              "type": "array"
            },
            "create_if_missing": {
              "default": false,
              "description": "Whether to create thread if no match found",
              "type": "boolean"
            },
            "keywords": {
              "default": [],
              "description": "Keywords for thread matching",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "primary_subject": {
              "allOf": [
                {
                  "$ref": "#/definitions/SubjectReference"
                }
              ],
              "description": "Primary subject/actor (who/what is the main focus)"
            },
            "related_threads": {
              "default": [],
              "description": "Related threads",
              "items": {
                "$ref": "#/definitions/ThreadReference"
              },
              "type": "array"
            },
            "thread_role": {
              "allOf": [
                {
                  "$ref": "#/definitions/ThreadRole"
                }
              ],
              "description": "Role of entity relative to thread"
            }
          },
          "required": [
            "primary_subject",
            "thread_role"
          ],
          "title": "ThreadHintValues",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ThreadHintValues.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "65c16d19e622ab7ee8a2a013ca7578434773e39b42b1794c3720c53e95dde93e",
      "created_at": "2025-12-18T18:59:43.172114Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PurposeContext",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ClassifiedPurpose": {
              "description": "A classified purpose with confidence",
              "properties": {
                "confidence": {
                  "description": "Confidence score (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "evidence": {
                  "default": [],
                  "description": "Evidence/reasoning for classification",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "purpose": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ToolPurpose"
                    }
                  ],
                  "description": "The purpose of the message"
                }
              },
              "required": [
                "confidence",
                "purpose"
              ],
              "type": "object"
            },
            "ConversationTurn": {
              "description": "A single turn in a conversation (for context tracking)",
              "properties": {
                "content": {
                  "description": "Content of the message",
                  "type": "string"
                },
                "role": {
                  "description": "Role of the speaker (user, assistant, system)",
                  "type": "string"
                },
                "speaker": {
                  "default": null,
                  "description": "Optional speaker identifier (for multi-agent)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "timestamp": {
                  "default": null,
                  "description": "Timestamp of the turn",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content",
                "role"
              ],
              "type": "object"
            },
            "ToolPurpose": {
              "description": "Primary purpose of user's message",
              "oneOf": [
                {
                  "description": "Recording memories, events, observations - wants to store",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information returned",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Making connections, deriving insights - wants system to infer",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities - wants existing data",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis or reflection - wants patterns identified",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "System command/instruction - wants action taken",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Social/conversational - greeting, acknowledgment",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Clarifying or continuing previous message",
                  "enum": [
                    "CONTINUATION"
                  ],
                  "type": "string"
                },
                {
                  "description": "Editing or correcting previous input",
                  "enum": [
                    "CORRECTION"
                  ],
                  "type": "string"
                }
              ]
            },
            "UserPurposePatterns": {
              "description": "User's historical purpose patterns",
              "properties": {
                "primary_purpose": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ToolPurpose"
                    }
                  ],
                  "description": "Most common purpose"
                },
                "purpose_distribution": {
                  "additionalProperties": {
                    "format": "double",
                    "type": "number"
                  },
                  "default": {},
                  "description": "Distribution of purposes (purpose -> frequency)",
                  "type": "object"
                }
              },
              "required": [
                "primary_purpose"
              ],
              "type": "object"
            }
          },
          "description": "Context for purpose classification",
          "properties": {
            "conversation_history": {
              "default": [],
              "description": "Previous messages in conversation",
              "items": {
                "$ref": "#/definitions/ConversationTurn"
              },
              "type": "array"
            },
            "previous_classifications": {
              "default": [],
              "description": "Previous classifications detected",
              "items": {
                "$ref": "#/definitions/ClassifiedPurpose"
              },
              "type": "array"
            },
            "user_patterns": {
              "anyOf": [
                {
                  "$ref": "#/definitions/UserPurposePatterns"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "User's typical patterns (if known)"
            }
          },
          "title": "PurposeContext",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/PurposeContext.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "c037f4e59e5a4bf17efafc6f2ea718a2686331c16a48767dfd492bdc82e57eda",
      "created_at": "2025-12-18T18:59:43.172301Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BoundingBox",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Bounding box for object detection",
          "properties": {
            "height": {
              "format": "double",
              "type": "number"
            },
            "width": {
              "format": "double",
              "type": "number"
            },
            "x": {
              "format": "double",
              "type": "number"
            },
            "y": {
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "height",
            "width",
            "x",
            "y"
          ],
          "title": "BoundingBox",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BoundingBox.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "3cb33cf36a81dfe13423cb3dbd1228a1383d5e32e4bb94cff89156eeae805a43",
      "created_at": "2025-12-18T18:59:43.172466Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ThreadRelationType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Types of thread relations",
          "oneOf": [
            {
              "description": "Part of (belongs to)",
              "enum": [
                "part_of"
              ],
              "type": "string"
            },
            {
              "description": "Contains (has parts)",
              "enum": [
                "contains"
              ],
              "type": "string"
            },
            {
              "description": "Related to (general association)",
              "enum": [
                "related_to"
              ],
              "type": "string"
            },
            {
              "description": "Causes / leads to",
              "enum": [
                "causes_of"
              ],
              "type": "string"
            },
            {
              "description": "Opposite of",
              "enum": [
                "opposite_of"
              ],
              "type": "string"
            },
            {
              "description": "Same as (alias)",
              "enum": [
                "same_as"
              ],
              "type": "string"
            }
          ],
          "title": "ThreadRelationType"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ThreadRelationType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f5a380d8625f76279333fb3c371f2bbe184b9654fc3dda381a7e70260d4ad50e",
      "created_at": "2025-12-18T18:59:43.172563Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TemporalBinding",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "TemporalRelation": {
              "description": "Temporal relationships",
              "enum": [
                "before",
                "after",
                "during",
                "simultaneous",
                "overlapping"
              ],
              "type": "string"
            }
          },
          "description": "Temporal aspect of binding",
          "properties": {
            "gap": {
              "default": null,
              "description": "Time gap (if known)",
              "type": [
                "string",
                "null"
              ]
            },
            "relation": {
              "allOf": [
                {
                  "$ref": "#/definitions/TemporalRelation"
                }
              ],
              "description": "Time relationship"
            }
          },
          "required": [
            "relation"
          ],
          "title": "TemporalBinding",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/TemporalBinding.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "203e70a342040aea891cb23f64ec3642f1d8563392f03e958ae5658bf1488bdf",
      "created_at": "2025-12-18T18:59:43.172654Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DetectedThread",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "DetectionMethod": {
              "description": "How a thread was detected",
              "oneOf": [
                {
                  "description": "Exact name match",
                  "enum": [
                    "exact_match"
                  ],
                  "type": "string"
                },
                {
                  "description": "Alias match",
                  "enum": [
                    "alias_match"
                  ],
                  "type": "string"
                },
                {
                  "description": "Fuzzy/similar match",
                  "enum": [
                    "fuzzy_match"
                  ],
                  "type": "string"
                },
                {
                  "description": "Pronoun resolution from context",
                  "enum": [
                    "pronoun_resolution"
                  ],
                  "type": "string"
                },
                {
                  "description": "Keyword match",
                  "enum": [
                    "keyword_match"
                  ],
                  "type": "string"
                },
                {
                  "description": "Semantic similarity",
                  "enum": [
                    "semantic_match"
                  ],
                  "type": "string"
                }
              ]
            },
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            },
            "ThreadRole": {
              "description": "Role of entity relative to threads",
              "oneOf": [
                {
                  "description": "Entity is the actor/doer",
                  "enum": [
                    "actor"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is the subject being discussed",
                  "enum": [
                    "subject"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is observing/witnessing",
                  "enum": [
                    "observer"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is the target of action",
                  "enum": [
                    "target"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is setting/location",
                  "enum": [
                    "setting"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is an instrument/tool",
                  "enum": [
                    "instrument"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "A detected thread reference",
          "properties": {
            "confidence": {
              "description": "Confidence in match",
              "format": "double",
              "type": "number"
            },
            "detection_method": {
              "allOf": [
                {
                  "$ref": "#/definitions/DetectionMethod"
                }
              ],
              "description": "How it was detected"
            },
            "role": {
              "allOf": [
                {
                  "$ref": "#/definitions/ThreadRole"
                }
              ],
              "description": "Role in this entity"
            },
            "thread": {
              "allOf": [
                {
                  "$ref": "#/definitions/ThreadReference"
                }
              ],
              "description": "The matched thread"
            },
            "trigger_text": {
              "description": "Text that triggered detection",
              "type": "string"
            }
          },
          "required": [
            "confidence",
            "detection_method",
            "role",
            "thread",
            "trigger_text"
          ],
          "title": "DetectedThread",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/DetectedThread.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "25cc1effcd54100c55e8c8db6c0588b1714e946bb92f8729b8c3612db6666d64",
      "created_at": "2025-12-18T18:59:43.172755Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "InteractionFrequency",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Interaction frequency",
          "enum": [
            "daily",
            "weekly",
            "monthly",
            "quarterly",
            "yearly",
            "rarely"
          ],
          "title": "InteractionFrequency",
          "type": "string"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/InteractionFrequency.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "8d2660d8fe867296c2ed517d9f30a4dab510393b3c35003dc3455f60a2b10a90",
      "created_at": "2025-12-18T18:59:43.172851Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ThreadReference",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Reference to an existing thread",
          "properties": {
            "aliases": {
              "default": [],
              "description": "Aliases for matching",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "id": {
              "description": "Thread ID",
              "type": "string"
            },
            "name": {
              "description": "Thread name/label",
              "type": "string"
            },
            "thread_type": {
              "description": "Thread type (person, place, concept, etc.)",
              "type": "string"
            }
          },
          "required": [
            "id",
            "name",
            "thread_type"
          ],
          "title": "ThreadReference",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ThreadReference.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "a8779c907118feec1e1de77a4994e9c1f614d336950c97d94fe0d40df3ecd876",
      "created_at": "2025-12-18T18:59:43.172932Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PhysicsAnalysis",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "DetectedEmotion": {
              "description": "A detected emotion in the content",
              "properties": {
                "emotion": {
                  "description": "Emotion name",
                  "type": "string"
                },
                "evidence": {
                  "description": "Evidence for detection",
                  "type": "string"
                },
                "intensity": {
                  "description": "Intensity (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "emotion",
                "evidence",
                "intensity"
              ],
              "type": "object"
            }
          },
          "description": "Analysis that led to physics values",
          "properties": {
            "certainty_indicators": {
              "default": [],
              "description": "Certainty indicators",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "emotions": {
              "default": [],
              "description": "Detected emotions",
              "items": {
                "$ref": "#/definitions/DetectedEmotion"
              },
              "type": "array"
            },
            "reasoning": {
              "description": "Overall reasoning",
              "type": "string"
            },
            "significance_indicators": {
              "default": [],
              "description": "Significance indicators",
              "items": {
                "type": "string"
              },
              "type": "array"
            }
          },
          "required": [
            "reasoning"
          ],
          "title": "PhysicsAnalysis",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/PhysicsAnalysis.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "a0dcec81993caa9655cc5748a9540ec83b35abe3133a9a52d25d8c2873defae7",
      "created_at": "2025-12-18T18:59:43.173015Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ToolErrorCode",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Error codes for tool failures",
          "oneOf": [
            {
              "description": "Invalid input parameters",
              "enum": [
                "INVALID_INPUT"
              ],
              "type": "string"
            },
            {
              "description": "Missing required parameter",
              "enum": [
                "MISSING_PARAMETER"
              ],
              "type": "string"
            },
            {
              "description": "Parameter validation failed",
              "enum": [
                "VALIDATION_FAILED"
              ],
              "type": "string"
            },
            {
              "description": "Tool execution timed out",
              "enum": [
                "TIMEOUT"
              ],
              "type": "string"
            },
            {
              "description": "Rate limit exceeded",
              "enum": [
                "RATE_LIMITED"
              ],
              "type": "string"
            },
            {
              "description": "External service unavailable",
              "enum": [
                "SERVICE_UNAVAILABLE"
              ],
              "type": "string"
            },
            {
              "description": "LLM API error",
              "enum": [
                "LLM_ERROR"
              ],
              "type": "string"
            },
            {
              "description": "Internal tool error",
              "enum": [
                "INTERNAL_ERROR"
              ],
              "type": "string"
            },
            {
              "description": "Resource not found",
              "enum": [
                "NOT_FOUND"
              ],
              "type": "string"
            },
            {
              "description": "Permission denied",
              "enum": [
                "PERMISSION_DENIED"
              ],
              "type": "string"
            }
          ],
          "title": "ToolErrorCode"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ToolErrorCode.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "05639dbeda8f56d958e80c9ad68161743158df72a2634832093a2461efd15180",
      "created_at": "2025-12-18T18:59:43.173111Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ThreadHints",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            },
            "ThreadRole": {
              "description": "Role of entity relative to threads",
              "oneOf": [
                {
                  "description": "Entity is the actor/doer",
                  "enum": [
                    "actor"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is the subject being discussed",
                  "enum": [
                    "subject"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is observing/witnessing",
                  "enum": [
                    "observer"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is the target of action",
                  "enum": [
                    "target"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is setting/location",
                  "enum": [
                    "setting"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is an instrument/tool",
                  "enum": [
                    "instrument"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Hints for thread/narrative connections",
          "properties": {
            "create_if_missing": {
              "default": false,
              "description": "Should create new thread if no match?",
              "type": "boolean"
            },
            "keywords": {
              "default": [],
              "description": "Keywords for thread matching",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "primary_subject": {
              "description": "Primary subject/actor",
              "type": "string"
            },
            "related_threads": {
              "default": [],
              "description": "Related threads to link",
              "items": {
                "$ref": "#/definitions/ThreadReference"
              },
              "type": "array"
            },
            "thread_role": {
              "allOf": [
                {
                  "$ref": "#/definitions/ThreadRole"
                }
              ],
              "description": "Role of entity in narrative"
            }
          },
          "required": [
            "primary_subject",
            "thread_role"
          ],
          "title": "ThreadHints",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ThreadHints.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "9d2fafe9f1c234833d449d67f087ef950c3cf15522365259f1926f65ddc21073",
      "created_at": "2025-12-18T18:59:43.173205Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SegmentationOutput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EmotionalTone": {
              "description": "Emotional tone detected in segment",
              "properties": {
                "arousal": {
                  "description": "Arousal (0.0 calm to 1.0 excited)",
                  "format": "double",
                  "type": "number"
                },
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "primary": {
                  "description": "Primary emotion",
                  "type": "string"
                },
                "valence": {
                  "description": "Valence (-1.0 negative to 1.0 positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "confidence",
                "primary",
                "valence"
              ],
              "type": "object"
            },
            "EntityMention": {
              "description": "An entity mention within a segment",
              "properties": {
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "end": {
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityMentionType"
                    }
                  ],
                  "description": "Type of entity mentioned"
                },
                "resolved_id": {
                  "default": null,
                  "description": "Resolved entity ID (if matched to known entity)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Position in segment",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "text": {
                  "description": "The text of the mention",
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "end",
                "entity_type",
                "start",
                "text"
              ],
              "type": "object"
            },
            "EntityMentionType": {
              "description": "Types of entity mentions",
              "enum": [
                "PERSON",
                "PLACE",
                "ORGANIZATION",
                "DATE_TIME",
                "EVENT",
                "CONCEPT",
                "OBJECT",
                "ACTIVITY"
              ],
              "type": "string"
            },
            "Modality": {
              "description": "Supported input modalities",
              "enum": [
                "text",
                "audio",
                "vision",
                "video"
              ],
              "type": "string"
            },
            "ParsedTemporal": {
              "description": "Parsed temporal information",
              "properties": {
                "date": {
                  "default": null,
                  "description": "ISO 8601 date if specific",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relative_days": {
                  "default": null,
                  "description": "Relative offset (e.g., -1 for \"yesterday\")",
                  "format": "int32",
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "time_of_day": {
                  "default": null,
                  "description": "Time of day if mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "Segment": {
              "description": "A segmented unit of content",
              "properties": {
                "boundaries": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentBoundaries"
                    }
                  ],
                  "description": "Segment boundaries"
                },
                "confidence": {
                  "description": "Confidence in segmentation decision",
                  "format": "double",
                  "type": "number"
                },
                "content": {
                  "description": "The segmented content",
                  "type": "string"
                },
                "features": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentFeatures"
                    }
                  ],
                  "description": "Extracted features"
                },
                "id": {
                  "description": "Unique segment ID",
                  "type": "string"
                },
                "index": {
                  "description": "Index in the sequence",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "modality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Modality"
                    }
                  ],
                  "description": "Original modality"
                }
              },
              "required": [
                "boundaries",
                "confidence",
                "content",
                "features",
                "id",
                "index",
                "modality"
              ],
              "type": "object"
            },
            "SegmentBoundaries": {
              "description": "Boundaries of a segment within the original input",
              "properties": {
                "end": {
                  "description": "End position",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "speaker_id": {
                  "default": null,
                  "description": "For audio/video: speaker ID if detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Start position (char index for text, milliseconds for audio/video)",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "end",
                "start"
              ],
              "type": "object"
            },
            "SegmentFeatures": {
              "description": "Extracted features from a segment",
              "properties": {
                "emotional_tone": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/EmotionalTone"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Emotional tone (if detectable)"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "language": {
                  "default": null,
                  "description": "Language detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "mentions": {
                  "default": [],
                  "description": "Entity mentions found",
                  "items": {
                    "$ref": "#/definitions/EntityMention"
                  },
                  "type": "array"
                },
                "subject": {
                  "default": null,
                  "description": "Primary subject/actor mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "temporal_markers": {
                  "default": [],
                  "description": "Temporal markers detected",
                  "items": {
                    "$ref": "#/definitions/TemporalMarker"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "SegmentationMetadata": {
              "description": "Metadata about the segmentation",
              "properties": {
                "entity_count": {
                  "description": "Total entities mentioned",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "language": {
                  "default": null,
                  "description": "Primary language detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "modality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Modality"
                    }
                  ],
                  "description": "Input modality"
                },
                "segment_count": {
                  "description": "Total segments produced",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "speaker_count": {
                  "default": null,
                  "description": "Number of unique speakers (for audio/video)",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "temporal_count": {
                  "description": "Total temporal markers found",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "entity_count",
                "modality",
                "segment_count",
                "temporal_count"
              ],
              "type": "object"
            },
            "TemporalMarker": {
              "description": "A temporal marker in the segment",
              "properties": {
                "marker_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalMarkerType"
                    }
                  ],
                  "description": "Type of temporal reference"
                },
                "parsed": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ParsedTemporal"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Parsed temporal value (if parseable)"
                },
                "text": {
                  "description": "The text of the marker",
                  "type": "string"
                }
              },
              "required": [
                "marker_type",
                "text"
              ],
              "type": "object"
            },
            "TemporalMarkerType": {
              "description": "Types of temporal markers",
              "oneOf": [
                {
                  "description": "Specific date (January 5th)",
                  "enum": [
                    "absolute"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relative reference (yesterday, last week)",
                  "enum": [
                    "relative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Duration (for 2 hours)",
                  "enum": [
                    "duration"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency (every day, weekly)",
                  "enum": [
                    "frequency"
                  ],
                  "type": "string"
                },
                {
                  "description": "Time of day (in the morning)",
                  "enum": [
                    "time_of_day"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Output from segmentation tools",
          "properties": {
            "metadata": {
              "allOf": [
                {
                  "$ref": "#/definitions/SegmentationMetadata"
                }
              ],
              "description": "Overall segmentation metadata"
            },
            "segments": {
              "description": "The resulting segments",
              "items": {
                "$ref": "#/definitions/Segment"
              },
              "type": "array"
            }
          },
          "required": [
            "metadata",
            "segments"
          ],
          "title": "SegmentationOutput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SegmentationOutput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "345968de9b96161a0d1d2474938467f693692dea5d1af1613d0867d0fec35a29",
      "created_at": "2025-12-18T18:59:43.173325Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SpawnSuggesterInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ClassificationEvidence": {
              "description": "Evidence for a classification",
              "properties": {
                "description": {
                  "description": "Description of evidence",
                  "type": "string"
                },
                "evidence_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EvidenceType"
                    }
                  ],
                  "description": "Type of evidence"
                },
                "weight": {
                  "description": "How much this evidence contributes",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "description",
                "evidence_type",
                "weight"
              ],
              "type": "object"
            },
            "ClassificationReasoning": {
              "description": "Reasoning behind classification",
              "properties": {
                "explanations": {
                  "default": [],
                  "description": "Why certain types were included/excluded",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "key_phrases": {
                  "default": [],
                  "description": "Key phrases that influenced classification",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "main_verb": {
                  "default": null,
                  "description": "Main verb identified",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "verb_category": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/VerbCategory"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Verb category"
                }
              },
              "type": "object"
            },
            "EmotionalTone": {
              "description": "Emotional tone detected in segment",
              "properties": {
                "arousal": {
                  "description": "Arousal (0.0 calm to 1.0 excited)",
                  "format": "double",
                  "type": "number"
                },
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "primary": {
                  "description": "Primary emotion",
                  "type": "string"
                },
                "valence": {
                  "description": "Valence (-1.0 negative to 1.0 positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "confidence",
                "primary",
                "valence"
              ],
              "type": "object"
            },
            "EntityClassification": {
              "description": "A single entity classification with probability",
              "properties": {
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityType"
                    }
                  ],
                  "description": "Entity type"
                },
                "evidence": {
                  "default": [],
                  "description": "Evidence supporting this classification",
                  "items": {
                    "$ref": "#/definitions/ClassificationEvidence"
                  },
                  "type": "array"
                },
                "probability": {
                  "description": "Probability (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "entity_type",
                "probability"
              ],
              "type": "object"
            },
            "EntityClassifierOutput": {
              "description": "Output from entity classification",
              "properties": {
                "classifications": {
                  "description": "All classifications with probabilities (sorted by probability)",
                  "items": {
                    "$ref": "#/definitions/EntityClassification"
                  },
                  "type": "array"
                },
                "enriched_content": {
                  "default": null,
                  "description": "Enriched content (e.g., Pulse with context added)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "primary_thread": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ThreadReference"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Primary thread reference (main subject/actor)"
                },
                "reasoning": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ClassificationReasoning"
                    }
                  ],
                  "description": "Classification reasoning"
                },
                "secondary_threads": {
                  "default": [],
                  "description": "Secondary thread references",
                  "items": {
                    "$ref": "#/definitions/ThreadReference"
                  },
                  "type": "array"
                },
                "temporal_marker": {
                  "default": null,
                  "description": "Temporal marker extracted",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "classifications",
                "reasoning"
              ],
              "type": "object"
            },
            "EntityMention": {
              "description": "An entity mention within a segment",
              "properties": {
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "end": {
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityMentionType"
                    }
                  ],
                  "description": "Type of entity mentioned"
                },
                "resolved_id": {
                  "default": null,
                  "description": "Resolved entity ID (if matched to known entity)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Position in segment",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "text": {
                  "description": "The text of the mention",
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "end",
                "entity_type",
                "start",
                "text"
              ],
              "type": "object"
            },
            "EntityMentionType": {
              "description": "Types of entity mentions",
              "enum": [
                "PERSON",
                "PLACE",
                "ORGANIZATION",
                "DATE_TIME",
                "EVENT",
                "CONCEPT",
                "OBJECT",
                "ACTIVITY"
              ],
              "type": "string"
            },
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            },
            "EvidenceType": {
              "description": "Types of evidence for classification",
              "oneOf": [
                {
                  "description": "Verb type (action vs state)",
                  "enum": [
                    "verb_type"
                  ],
                  "type": "string"
                },
                {
                  "description": "Keywords detected",
                  "enum": [
                    "keywords"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal indicators",
                  "enum": [
                    "temporal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Emotional indicators",
                  "enum": [
                    "emotional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity mentions",
                  "enum": [
                    "entity_mention"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relational language",
                  "enum": [
                    "relational"
                  ],
                  "type": "string"
                },
                {
                  "description": "Pattern indicators",
                  "enum": [
                    "pattern"
                  ],
                  "type": "string"
                },
                {
                  "description": "Context from surrounding content",
                  "enum": [
                    "context"
                  ],
                  "type": "string"
                }
              ]
            },
            "Modality": {
              "description": "Supported input modalities",
              "enum": [
                "text",
                "audio",
                "vision",
                "video"
              ],
              "type": "string"
            },
            "ParsedTemporal": {
              "description": "Parsed temporal information",
              "properties": {
                "date": {
                  "default": null,
                  "description": "ISO 8601 date if specific",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relative_days": {
                  "default": null,
                  "description": "Relative offset (e.g., -1 for \"yesterday\")",
                  "format": "int32",
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "time_of_day": {
                  "default": null,
                  "description": "Time of day if mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "Segment": {
              "description": "A segmented unit of content",
              "properties": {
                "boundaries": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentBoundaries"
                    }
                  ],
                  "description": "Segment boundaries"
                },
                "confidence": {
                  "description": "Confidence in segmentation decision",
                  "format": "double",
                  "type": "number"
                },
                "content": {
                  "description": "The segmented content",
                  "type": "string"
                },
                "features": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentFeatures"
                    }
                  ],
                  "description": "Extracted features"
                },
                "id": {
                  "description": "Unique segment ID",
                  "type": "string"
                },
                "index": {
                  "description": "Index in the sequence",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "modality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Modality"
                    }
                  ],
                  "description": "Original modality"
                }
              },
              "required": [
                "boundaries",
                "confidence",
                "content",
                "features",
                "id",
                "index",
                "modality"
              ],
              "type": "object"
            },
            "SegmentBoundaries": {
              "description": "Boundaries of a segment within the original input",
              "properties": {
                "end": {
                  "description": "End position",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "speaker_id": {
                  "default": null,
                  "description": "For audio/video: speaker ID if detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Start position (char index for text, milliseconds for audio/video)",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "end",
                "start"
              ],
              "type": "object"
            },
            "SegmentFeatures": {
              "description": "Extracted features from a segment",
              "properties": {
                "emotional_tone": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/EmotionalTone"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Emotional tone (if detectable)"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "language": {
                  "default": null,
                  "description": "Language detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "mentions": {
                  "default": [],
                  "description": "Entity mentions found",
                  "items": {
                    "$ref": "#/definitions/EntityMention"
                  },
                  "type": "array"
                },
                "subject": {
                  "default": null,
                  "description": "Primary subject/actor mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "temporal_markers": {
                  "default": [],
                  "description": "Temporal markers detected",
                  "items": {
                    "$ref": "#/definitions/TemporalMarker"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "SpawnConfig": {
              "description": "Configuration for spawn decisions",
              "properties": {
                "auto_spawn_enabled": {
                  "default": true,
                  "description": "Whether to auto-spawn high confidence entities",
                  "type": "boolean"
                },
                "high_confidence_threshold": {
                  "default": 0.8,
                  "description": "High confidence threshold (auto-spawn above this)",
                  "format": "double",
                  "type": "number"
                },
                "low_confidence_threshold": {
                  "default": 0.3,
                  "description": "Low confidence threshold (skip below this)",
                  "format": "double",
                  "type": "number"
                },
                "manual_only_types": {
                  "default": [],
                  "description": "Entity types that should never auto-spawn",
                  "items": {
                    "$ref": "#/definitions/EntityType"
                  },
                  "type": "array"
                },
                "max_entities_per_segment": {
                  "default": 3,
                  "description": "Maximum entities to spawn from one segment",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "medium_confidence_threshold": {
                  "default": 0.5,
                  "description": "Medium confidence threshold (suggest above this)",
                  "format": "double",
                  "type": "number"
                }
              },
              "type": "object"
            },
            "TemporalMarker": {
              "description": "A temporal marker in the segment",
              "properties": {
                "marker_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalMarkerType"
                    }
                  ],
                  "description": "Type of temporal reference"
                },
                "parsed": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ParsedTemporal"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Parsed temporal value (if parseable)"
                },
                "text": {
                  "description": "The text of the marker",
                  "type": "string"
                }
              },
              "required": [
                "marker_type",
                "text"
              ],
              "type": "object"
            },
            "TemporalMarkerType": {
              "description": "Types of temporal markers",
              "oneOf": [
                {
                  "description": "Specific date (January 5th)",
                  "enum": [
                    "absolute"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relative reference (yesterday, last week)",
                  "enum": [
                    "relative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Duration (for 2 hours)",
                  "enum": [
                    "duration"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency (every day, weekly)",
                  "enum": [
                    "frequency"
                  ],
                  "type": "string"
                },
                {
                  "description": "Time of day (in the morning)",
                  "enum": [
                    "time_of_day"
                  ],
                  "type": "string"
                }
              ]
            },
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            },
            "VerbCategory": {
              "description": "Categories of verbs for classification",
              "oneOf": [
                {
                  "description": "Action verbs (went, did, called)  MOMENT",
                  "enum": [
                    "action"
                  ],
                  "type": "string"
                },
                {
                  "description": "State verbs (was, felt, is)  often PULSE",
                  "enum": [
                    "state"
                  ],
                  "type": "string"
                },
                {
                  "description": "Stative + evaluative (was nice, felt good)  PULSE",
                  "enum": [
                    "evaluative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relational verbs (met, talked with)  may indicate BOND",
                  "enum": [
                    "relational"
                  ],
                  "type": "string"
                },
                {
                  "description": "Habitual (always, usually does)  may indicate MOTIF/FILAMENT",
                  "enum": [
                    "habitual"
                  ],
                  "type": "string"
                },
                {
                  "description": "Intentional (want to, plan to)  INTENT",
                  "enum": [
                    "intentional"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Input for spawn suggestion tool",
          "properties": {
            "classification": {
              "allOf": [
                {
                  "$ref": "#/definitions/EntityClassifierOutput"
                }
              ],
              "description": "Entity classification result"
            },
            "config": {
              "allOf": [
                {
                  "$ref": "#/definitions/SpawnConfig"
                }
              ],
              "default": {
                "auto_spawn_enabled": true,
                "high_confidence_threshold": 0.8,
                "low_confidence_threshold": 0.3,
                "manual_only_types": [],
                "max_entities_per_segment": 3,
                "medium_confidence_threshold": 0.5
              },
              "description": "Spawn configuration"
            },
            "segment": {
              "allOf": [
                {
                  "$ref": "#/definitions/Segment"
                }
              ],
              "description": "Original segment"
            }
          },
          "required": [
            "classification",
            "segment"
          ],
          "title": "SpawnSuggesterInput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SpawnSuggesterInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "acb420e6cc76a9406a3755e88fc4f799f26cfe5a85d8f59d99e8a67d64c34055",
      "created_at": "2025-12-18T18:59:43.173555Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TriggerType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Types of triggers",
          "oneOf": [
            {
              "description": "Match on purpose type",
              "enum": [
                "purpose"
              ],
              "type": "string"
            },
            {
              "description": "Match on modality",
              "enum": [
                "modality"
              ],
              "type": "string"
            },
            {
              "description": "Match on entity type",
              "enum": [
                "entity_type"
              ],
              "type": "string"
            },
            {
              "description": "Match on keyword",
              "enum": [
                "keyword"
              ],
              "type": "string"
            },
            {
              "description": "Custom condition",
              "enum": [
                "custom"
              ],
              "type": "string"
            }
          ],
          "title": "TriggerType"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/TriggerType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "5dfce802ea9ced38509934f20531595307998b60512c11dc3004a6a19d353181",
      "created_at": "2025-12-18T18:59:43.173663Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "VerbTense",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Verb tenses",
          "enum": [
            "past",
            "present",
            "future",
            "habitual"
          ],
          "title": "VerbTense",
          "type": "string"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/VerbTense.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "24476c6e735b77f95073b68993807d1d7edfe726bb9abb0b76d09608db44a4b2",
      "created_at": "2025-12-18T18:59:43.173744Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CommandAnalysis",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "CommandType": {
              "description": "Types of commands",
              "oneOf": [
                {
                  "description": "Create something",
                  "enum": [
                    "CREATE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Update/modify",
                  "enum": [
                    "UPDATE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Delete/remove",
                  "enum": [
                    "DELETE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Link/connect entities",
                  "enum": [
                    "LINK"
                  ],
                  "type": "string"
                },
                {
                  "description": "Unlink/disconnect entities",
                  "enum": [
                    "UNLINK"
                  ],
                  "type": "string"
                },
                {
                  "description": "Export data",
                  "enum": [
                    "EXPORT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Import data",
                  "enum": [
                    "IMPORT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Configure settings",
                  "enum": [
                    "CONFIGURE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Unknown/custom command",
                  "enum": [
                    "CUSTOM"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Analysis of a command purpose",
          "properties": {
            "command_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/CommandType"
                }
              ],
              "description": "Command type"
            },
            "is_destructive": {
              "description": "Is this command destructive?",
              "type": "boolean"
            },
            "needs_confirmation": {
              "description": "Does this command need confirmation?",
              "type": "boolean"
            },
            "parameters": {
              "additionalProperties": true,
              "default": {},
              "description": "Command parameters",
              "type": "object"
            },
            "target": {
              "default": null,
              "description": "Target of the command",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "command_type",
            "is_destructive",
            "needs_confirmation"
          ],
          "title": "CommandAnalysis",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/CommandAnalysis.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "769759dcf150838f248e73d857363100da50a0e5e0a86d1172629e4865602f8f",
      "created_at": "2025-12-18T18:59:43.173835Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BondEvidence",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BondIndicatorType": {
              "description": "Types of bond indicators",
              "oneOf": [
                {
                  "description": "Explicit label (\"my friend\", \"my boss\")",
                  "enum": [
                    "explicit_label"
                  ],
                  "type": "string"
                },
                {
                  "description": "Action indicating relationship (\"had dinner with\")",
                  "enum": [
                    "relational_action"
                  ],
                  "type": "string"
                },
                {
                  "description": "Emotional language about entity",
                  "enum": [
                    "emotional_language"
                  ],
                  "type": "string"
                },
                {
                  "description": "Possessive language (\"my\", \"our\")",
                  "enum": [
                    "possessive_language"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency indicators (\"always see\", \"often talk\")",
                  "enum": [
                    "frequency_indicator"
                  ],
                  "type": "string"
                },
                {
                  "description": "Context from previous interactions",
                  "enum": [
                    "contextual_inference"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Evidence for bond detection",
          "properties": {
            "indicator_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/BondIndicatorType"
                }
              ],
              "description": "Type of indicator"
            },
            "indicators": {
              "default": [],
              "description": "Specific indicators found",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "trigger_text": {
              "description": "Text that indicates the relationship",
              "type": "string"
            }
          },
          "required": [
            "indicator_type",
            "trigger_text"
          ],
          "title": "BondEvidence",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BondEvidence.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "5c189348bba767fffd1eeb681300f3da3f82f7d2a89976bd4197555008f57934",
      "created_at": "2025-12-18T18:59:43.173923Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DetectedEmotion",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A detected emotion in the content",
          "properties": {
            "emotion": {
              "description": "Emotion name",
              "type": "string"
            },
            "evidence": {
              "description": "Evidence for detection",
              "type": "string"
            },
            "intensity": {
              "description": "Intensity (0.0 to 1.0)",
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "emotion",
            "evidence",
            "intensity"
          ],
          "title": "DetectedEmotion",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/DetectedEmotion.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "168b3c410aff5e6d3121958df6fb5bca53876a8e9eb412a9ced03366be81ef6d",
      "created_at": "2025-12-18T18:59:43.174012Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityPatterns",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "User's historical entity patterns",
          "properties": {
            "distribution": {
              "additionalProperties": {
                "format": "double",
                "type": "number"
              },
              "default": {},
              "description": "Distribution (entity_type -> frequency)",
              "type": "object"
            },
            "primary_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/EntityType"
                }
              ],
              "description": "Most common entity type"
            }
          },
          "required": [
            "primary_type"
          ],
          "title": "EntityPatterns",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/EntityPatterns.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "53df96efe6e7f05f49b6e9cceaf31ab0613724d0a1435a39866531af509f3ddc",
      "created_at": "2025-12-18T18:59:43.174105Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "VerbCategory",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Categories of verbs for classification",
          "oneOf": [
            {
              "description": "Action verbs (went, did, called)  MOMENT",
              "enum": [
                "action"
              ],
              "type": "string"
            },
            {
              "description": "State verbs (was, felt, is)  often PULSE",
              "enum": [
                "state"
              ],
              "type": "string"
            },
            {
              "description": "Stative + evaluative (was nice, felt good)  PULSE",
              "enum": [
                "evaluative"
              ],
              "type": "string"
            },
            {
              "description": "Relational verbs (met, talked with)  may indicate BOND",
              "enum": [
                "relational"
              ],
              "type": "string"
            },
            {
              "description": "Habitual (always, usually does)  may indicate MOTIF/FILAMENT",
              "enum": [
                "habitual"
              ],
              "type": "string"
            },
            {
              "description": "Intentional (want to, plan to)  INTENT",
              "enum": [
                "intentional"
              ],
              "type": "string"
            }
          ],
          "title": "VerbCategory"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/VerbCategory.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4500a37f2b982c3c90b5c7197646a71dbc024303a2c5d164713fdb3cc6517cf6",
      "created_at": "2025-12-18T18:59:43.174191Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EmotionalTone",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Emotional tone detected in segment",
          "properties": {
            "arousal": {
              "description": "Arousal (0.0 calm to 1.0 excited)",
              "format": "double",
              "type": "number"
            },
            "confidence": {
              "description": "Confidence in detection",
              "format": "double",
              "type": "number"
            },
            "primary": {
              "description": "Primary emotion",
              "type": "string"
            },
            "valence": {
              "description": "Valence (-1.0 negative to 1.0 positive)",
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "arousal",
            "confidence",
            "primary",
            "valence"
          ],
          "title": "EmotionalTone",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/EmotionalTone.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e20bce7b5dfffc8e8aaecc7ccb376e9b15465c9996d7efde57d25f03cc8285ce",
      "created_at": "2025-12-18T18:59:43.174276Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Segment",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EmotionalTone": {
              "description": "Emotional tone detected in segment",
              "properties": {
                "arousal": {
                  "description": "Arousal (0.0 calm to 1.0 excited)",
                  "format": "double",
                  "type": "number"
                },
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "primary": {
                  "description": "Primary emotion",
                  "type": "string"
                },
                "valence": {
                  "description": "Valence (-1.0 negative to 1.0 positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "confidence",
                "primary",
                "valence"
              ],
              "type": "object"
            },
            "EntityMention": {
              "description": "An entity mention within a segment",
              "properties": {
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "end": {
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityMentionType"
                    }
                  ],
                  "description": "Type of entity mentioned"
                },
                "resolved_id": {
                  "default": null,
                  "description": "Resolved entity ID (if matched to known entity)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Position in segment",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "text": {
                  "description": "The text of the mention",
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "end",
                "entity_type",
                "start",
                "text"
              ],
              "type": "object"
            },
            "EntityMentionType": {
              "description": "Types of entity mentions",
              "enum": [
                "PERSON",
                "PLACE",
                "ORGANIZATION",
                "DATE_TIME",
                "EVENT",
                "CONCEPT",
                "OBJECT",
                "ACTIVITY"
              ],
              "type": "string"
            },
            "Modality": {
              "description": "Supported input modalities",
              "enum": [
                "text",
                "audio",
                "vision",
                "video"
              ],
              "type": "string"
            },
            "ParsedTemporal": {
              "description": "Parsed temporal information",
              "properties": {
                "date": {
                  "default": null,
                  "description": "ISO 8601 date if specific",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relative_days": {
                  "default": null,
                  "description": "Relative offset (e.g., -1 for \"yesterday\")",
                  "format": "int32",
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "time_of_day": {
                  "default": null,
                  "description": "Time of day if mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "SegmentBoundaries": {
              "description": "Boundaries of a segment within the original input",
              "properties": {
                "end": {
                  "description": "End position",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "speaker_id": {
                  "default": null,
                  "description": "For audio/video: speaker ID if detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Start position (char index for text, milliseconds for audio/video)",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "end",
                "start"
              ],
              "type": "object"
            },
            "SegmentFeatures": {
              "description": "Extracted features from a segment",
              "properties": {
                "emotional_tone": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/EmotionalTone"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Emotional tone (if detectable)"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "language": {
                  "default": null,
                  "description": "Language detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "mentions": {
                  "default": [],
                  "description": "Entity mentions found",
                  "items": {
                    "$ref": "#/definitions/EntityMention"
                  },
                  "type": "array"
                },
                "subject": {
                  "default": null,
                  "description": "Primary subject/actor mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "temporal_markers": {
                  "default": [],
                  "description": "Temporal markers detected",
                  "items": {
                    "$ref": "#/definitions/TemporalMarker"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "TemporalMarker": {
              "description": "A temporal marker in the segment",
              "properties": {
                "marker_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalMarkerType"
                    }
                  ],
                  "description": "Type of temporal reference"
                },
                "parsed": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ParsedTemporal"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Parsed temporal value (if parseable)"
                },
                "text": {
                  "description": "The text of the marker",
                  "type": "string"
                }
              },
              "required": [
                "marker_type",
                "text"
              ],
              "type": "object"
            },
            "TemporalMarkerType": {
              "description": "Types of temporal markers",
              "oneOf": [
                {
                  "description": "Specific date (January 5th)",
                  "enum": [
                    "absolute"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relative reference (yesterday, last week)",
                  "enum": [
                    "relative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Duration (for 2 hours)",
                  "enum": [
                    "duration"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency (every day, weekly)",
                  "enum": [
                    "frequency"
                  ],
                  "type": "string"
                },
                {
                  "description": "Time of day (in the morning)",
                  "enum": [
                    "time_of_day"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "A segmented unit of content",
          "properties": {
            "boundaries": {
              "allOf": [
                {
                  "$ref": "#/definitions/SegmentBoundaries"
                }
              ],
              "description": "Segment boundaries"
            },
            "confidence": {
              "description": "Confidence in segmentation decision",
              "format": "double",
              "type": "number"
            },
            "content": {
              "description": "The segmented content",
              "type": "string"
            },
            "features": {
              "allOf": [
                {
                  "$ref": "#/definitions/SegmentFeatures"
                }
              ],
              "description": "Extracted features"
            },
            "id": {
              "description": "Unique segment ID",
              "type": "string"
            },
            "index": {
              "description": "Index in the sequence",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "modality": {
              "allOf": [
                {
                  "$ref": "#/definitions/Modality"
                }
              ],
              "description": "Original modality"
            }
          },
          "required": [
            "boundaries",
            "confidence",
            "content",
            "features",
            "id",
            "index",
            "modality"
          ],
          "title": "Segment",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/Segment.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "18604ad45b5ac99657a5c8a636ae8b2536c0aba5df4d665521a028cb43a0aa3d",
      "created_at": "2025-12-18T18:59:43.174378Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ErrorStrategy",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Error handling strategy",
          "oneOf": [
            {
              "description": "Fail the entire chain on any error",
              "enum": [
                "fail_fast"
              ],
              "type": "string"
            },
            {
              "description": "Continue with remaining steps",
              "enum": [
                "continue_on_error"
              ],
              "type": "string"
            },
            {
              "description": "Retry failed steps",
              "enum": [
                "retry_on_error"
              ],
              "type": "string"
            },
            {
              "description": "Use fallback tool",
              "enum": [
                "use_fallback"
              ],
              "type": "string"
            }
          ],
          "title": "ErrorStrategy"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ErrorStrategy.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f5771c58164a55768516b646d875b269c4e0318a761a4fbcbf8938450df543a7",
      "created_at": "2025-12-18T18:59:43.174530Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PhysicsHintValues",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Physics hint values",
          "properties": {
            "arousal": {
              "description": "Arousal/activation: 0.0 (calm/low energy) to 1.0 (excited/high energy) Maps to Y-axis in VAE space",
              "format": "double",
              "type": "number"
            },
            "energy": {
              "description": "Energy level for simulation",
              "format": "double",
              "type": "number"
            },
            "epistemic": {
              "description": "Epistemic certainty: 0.0 (uncertain) to 1.0 (certain) Maps to Z-axis in VAE space",
              "format": "double",
              "type": "number"
            },
            "significance": {
              "description": "Significance/mass: 0.0 (trivial) to 1.0 (very important) Affects physics simulation weight",
              "format": "double",
              "type": "number"
            },
            "temperature": {
              "description": "Temperature (volatility/changeability)",
              "format": "double",
              "type": "number"
            },
            "valence": {
              "description": "Emotional valence: -1.0 (very negative) to 1.0 (very positive) Maps to X-axis in VAE space",
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "arousal",
            "energy",
            "epistemic",
            "significance",
            "temperature",
            "valence"
          ],
          "title": "PhysicsHintValues",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/PhysicsHintValues.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b9e4574adcf47a3bfc92b0104958b17b742afd518a377f834b7999675b6aa59c",
      "created_at": "2025-12-18T18:59:43.174614Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BondIndicatorType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Types of bond indicators",
          "oneOf": [
            {
              "description": "Explicit label (\"my friend\", \"my boss\")",
              "enum": [
                "explicit_label"
              ],
              "type": "string"
            },
            {
              "description": "Action indicating relationship (\"had dinner with\")",
              "enum": [
                "relational_action"
              ],
              "type": "string"
            },
            {
              "description": "Emotional language about entity",
              "enum": [
                "emotional_language"
              ],
              "type": "string"
            },
            {
              "description": "Possessive language (\"my\", \"our\")",
              "enum": [
                "possessive_language"
              ],
              "type": "string"
            },
            {
              "description": "Frequency indicators (\"always see\", \"often talk\")",
              "enum": [
                "frequency_indicator"
              ],
              "type": "string"
            },
            {
              "description": "Context from previous interactions",
              "enum": [
                "contextual_inference"
              ],
              "type": "string"
            }
          ],
          "title": "BondIndicatorType"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BondIndicatorType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "698ff9e1c3b69628931d3ab2d448f6f5e8247df49b56751ff57faf974dcd1a21",
      "created_at": "2025-12-18T18:59:43.174699Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PurposeClassifierInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ClassifiedPurpose": {
              "description": "A classified purpose with confidence",
              "properties": {
                "confidence": {
                  "description": "Confidence score (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "evidence": {
                  "default": [],
                  "description": "Evidence/reasoning for classification",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "purpose": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ToolPurpose"
                    }
                  ],
                  "description": "The purpose of the message"
                }
              },
              "required": [
                "confidence",
                "purpose"
              ],
              "type": "object"
            },
            "ConversationTurn": {
              "description": "A single turn in a conversation (for context tracking)",
              "properties": {
                "content": {
                  "description": "Content of the message",
                  "type": "string"
                },
                "role": {
                  "description": "Role of the speaker (user, assistant, system)",
                  "type": "string"
                },
                "speaker": {
                  "default": null,
                  "description": "Optional speaker identifier (for multi-agent)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "timestamp": {
                  "default": null,
                  "description": "Timestamp of the turn",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content",
                "role"
              ],
              "type": "object"
            },
            "EmotionalTone": {
              "description": "Emotional tone detected in segment",
              "properties": {
                "arousal": {
                  "description": "Arousal (0.0 calm to 1.0 excited)",
                  "format": "double",
                  "type": "number"
                },
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "primary": {
                  "description": "Primary emotion",
                  "type": "string"
                },
                "valence": {
                  "description": "Valence (-1.0 negative to 1.0 positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "confidence",
                "primary",
                "valence"
              ],
              "type": "object"
            },
            "EntityMention": {
              "description": "An entity mention within a segment",
              "properties": {
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "end": {
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityMentionType"
                    }
                  ],
                  "description": "Type of entity mentioned"
                },
                "resolved_id": {
                  "default": null,
                  "description": "Resolved entity ID (if matched to known entity)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Position in segment",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "text": {
                  "description": "The text of the mention",
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "end",
                "entity_type",
                "start",
                "text"
              ],
              "type": "object"
            },
            "EntityMentionType": {
              "description": "Types of entity mentions",
              "enum": [
                "PERSON",
                "PLACE",
                "ORGANIZATION",
                "DATE_TIME",
                "EVENT",
                "CONCEPT",
                "OBJECT",
                "ACTIVITY"
              ],
              "type": "string"
            },
            "Modality": {
              "description": "Supported input modalities",
              "enum": [
                "text",
                "audio",
                "vision",
                "video"
              ],
              "type": "string"
            },
            "ParsedTemporal": {
              "description": "Parsed temporal information",
              "properties": {
                "date": {
                  "default": null,
                  "description": "ISO 8601 date if specific",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relative_days": {
                  "default": null,
                  "description": "Relative offset (e.g., -1 for \"yesterday\")",
                  "format": "int32",
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "time_of_day": {
                  "default": null,
                  "description": "Time of day if mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "PurposeContext": {
              "description": "Context for purpose classification",
              "properties": {
                "conversation_history": {
                  "default": [],
                  "description": "Previous messages in conversation",
                  "items": {
                    "$ref": "#/definitions/ConversationTurn"
                  },
                  "type": "array"
                },
                "previous_classifications": {
                  "default": [],
                  "description": "Previous classifications detected",
                  "items": {
                    "$ref": "#/definitions/ClassifiedPurpose"
                  },
                  "type": "array"
                },
                "user_patterns": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/UserPurposePatterns"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "User's typical patterns (if known)"
                }
              },
              "type": "object"
            },
            "Segment": {
              "description": "A segmented unit of content",
              "properties": {
                "boundaries": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentBoundaries"
                    }
                  ],
                  "description": "Segment boundaries"
                },
                "confidence": {
                  "description": "Confidence in segmentation decision",
                  "format": "double",
                  "type": "number"
                },
                "content": {
                  "description": "The segmented content",
                  "type": "string"
                },
                "features": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentFeatures"
                    }
                  ],
                  "description": "Extracted features"
                },
                "id": {
                  "description": "Unique segment ID",
                  "type": "string"
                },
                "index": {
                  "description": "Index in the sequence",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "modality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Modality"
                    }
                  ],
                  "description": "Original modality"
                }
              },
              "required": [
                "boundaries",
                "confidence",
                "content",
                "features",
                "id",
                "index",
                "modality"
              ],
              "type": "object"
            },
            "SegmentBoundaries": {
              "description": "Boundaries of a segment within the original input",
              "properties": {
                "end": {
                  "description": "End position",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "speaker_id": {
                  "default": null,
                  "description": "For audio/video: speaker ID if detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Start position (char index for text, milliseconds for audio/video)",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "end",
                "start"
              ],
              "type": "object"
            },
            "SegmentFeatures": {
              "description": "Extracted features from a segment",
              "properties": {
                "emotional_tone": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/EmotionalTone"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Emotional tone (if detectable)"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "language": {
                  "default": null,
                  "description": "Language detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "mentions": {
                  "default": [],
                  "description": "Entity mentions found",
                  "items": {
                    "$ref": "#/definitions/EntityMention"
                  },
                  "type": "array"
                },
                "subject": {
                  "default": null,
                  "description": "Primary subject/actor mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "temporal_markers": {
                  "default": [],
                  "description": "Temporal markers detected",
                  "items": {
                    "$ref": "#/definitions/TemporalMarker"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "TemporalMarker": {
              "description": "A temporal marker in the segment",
              "properties": {
                "marker_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalMarkerType"
                    }
                  ],
                  "description": "Type of temporal reference"
                },
                "parsed": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ParsedTemporal"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Parsed temporal value (if parseable)"
                },
                "text": {
                  "description": "The text of the marker",
                  "type": "string"
                }
              },
              "required": [
                "marker_type",
                "text"
              ],
              "type": "object"
            },
            "TemporalMarkerType": {
              "description": "Types of temporal markers",
              "oneOf": [
                {
                  "description": "Specific date (January 5th)",
                  "enum": [
                    "absolute"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relative reference (yesterday, last week)",
                  "enum": [
                    "relative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Duration (for 2 hours)",
                  "enum": [
                    "duration"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency (every day, weekly)",
                  "enum": [
                    "frequency"
                  ],
                  "type": "string"
                },
                {
                  "description": "Time of day (in the morning)",
                  "enum": [
                    "time_of_day"
                  ],
                  "type": "string"
                }
              ]
            },
            "ToolPurpose": {
              "description": "Primary purpose of user's message",
              "oneOf": [
                {
                  "description": "Recording memories, events, observations - wants to store",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information returned",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Making connections, deriving insights - wants system to infer",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities - wants existing data",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis or reflection - wants patterns identified",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "System command/instruction - wants action taken",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Social/conversational - greeting, acknowledgment",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Clarifying or continuing previous message",
                  "enum": [
                    "CONTINUATION"
                  ],
                  "type": "string"
                },
                {
                  "description": "Editing or correcting previous input",
                  "enum": [
                    "CORRECTION"
                  ],
                  "type": "string"
                }
              ]
            },
            "UserPurposePatterns": {
              "description": "User's historical purpose patterns",
              "properties": {
                "primary_purpose": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ToolPurpose"
                    }
                  ],
                  "description": "Most common purpose"
                },
                "purpose_distribution": {
                  "additionalProperties": {
                    "format": "double",
                    "type": "number"
                  },
                  "default": {},
                  "description": "Distribution of purposes (purpose -> frequency)",
                  "type": "object"
                }
              },
              "required": [
                "primary_purpose"
              ],
              "type": "object"
            }
          },
          "description": "Input for purpose classification",
          "properties": {
            "context": {
              "anyOf": [
                {
                  "$ref": "#/definitions/PurposeContext"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Conversation context for better classification"
            },
            "segment": {
              "allOf": [
                {
                  "$ref": "#/definitions/Segment"
                }
              ],
              "description": "The segment to classify"
            }
          },
          "required": [
            "segment"
          ],
          "title": "PurposeClassifierInput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/PurposeClassifierInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "10c4a5fa848ba0fbbf5c458c1f0d040755154c4a87c078da340d312020720876",
      "created_at": "2025-12-18T18:59:43.174833Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SegmentBoundaries",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Boundaries of a segment within the original input",
          "properties": {
            "end": {
              "description": "End position",
              "format": "uint64",
              "minimum": 0.0,
              "type": "integer"
            },
            "speaker_id": {
              "default": null,
              "description": "For audio/video: speaker ID if detected",
              "type": [
                "string",
                "null"
              ]
            },
            "start": {
              "description": "Start position (char index for text, milliseconds for audio/video)",
              "format": "uint64",
              "minimum": 0.0,
              "type": "integer"
            }
          },
          "required": [
            "end",
            "start"
          ],
          "title": "SegmentBoundaries",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SegmentBoundaries.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d3ba7ff05fe488487f341fdca0ec28e4b8fc090c118d464570d35fbe26aa8498",
      "created_at": "2025-12-18T18:59:43.175035Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PurposePipeline",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Processing pipeline category",
          "oneOf": [
            {
              "description": "Memory recording: Segment  Classify  Spawn  Store",
              "enum": [
                "recording"
              ],
              "type": "string"
            },
            {
              "description": "Data retrieval: Parse  Search  Format  Return",
              "enum": [
                "retrieval"
              ],
              "type": "string"
            },
            {
              "description": "Analysis: Parse  Search  Analyze  Synthesize",
              "enum": [
                "analysis"
              ],
              "type": "string"
            },
            {
              "description": "System action: Parse  Validate  Execute  Confirm",
              "enum": [
                "action"
              ],
              "type": "string"
            },
            {
              "description": "Conversation: Respond appropriately",
              "enum": [
                "conversational"
              ],
              "type": "string"
            }
          ],
          "title": "PurposePipeline"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/PurposePipeline.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "c533bc7c2676fb16d458bd6ba46faff9564dd0c530b1e9ff5c4dce27d5a36845",
      "created_at": "2025-12-18T18:59:43.175124Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ClassificationEvidence",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EvidenceType": {
              "description": "Types of evidence for classification",
              "oneOf": [
                {
                  "description": "Verb type (action vs state)",
                  "enum": [
                    "verb_type"
                  ],
                  "type": "string"
                },
                {
                  "description": "Keywords detected",
                  "enum": [
                    "keywords"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal indicators",
                  "enum": [
                    "temporal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Emotional indicators",
                  "enum": [
                    "emotional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity mentions",
                  "enum": [
                    "entity_mention"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relational language",
                  "enum": [
                    "relational"
                  ],
                  "type": "string"
                },
                {
                  "description": "Pattern indicators",
                  "enum": [
                    "pattern"
                  ],
                  "type": "string"
                },
                {
                  "description": "Context from surrounding content",
                  "enum": [
                    "context"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Evidence for a classification",
          "properties": {
            "description": {
              "description": "Description of evidence",
              "type": "string"
            },
            "evidence_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/EvidenceType"
                }
              ],
              "description": "Type of evidence"
            },
            "weight": {
              "description": "How much this evidence contributes",
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "description",
            "evidence_type",
            "weight"
          ],
          "title": "ClassificationEvidence",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ClassificationEvidence.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "72e2d38433ac8c025c4d0b5a5096bf6670472c87d987d120ad17f97a3e687f8f",
      "created_at": "2025-12-18T18:59:43.175216Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SpawnSummary",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Summary of spawn decisions",
          "properties": {
            "auto_spawn_count": {
              "description": "Auto-spawn count",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "primary_type": {
              "anyOf": [
                {
                  "$ref": "#/definitions/EntityType"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Primary entity type suggested"
            },
            "review_count": {
              "description": "Needs review count",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "skipped_count": {
              "description": "Skipped count",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "total_suggestions": {
              "description": "Total suggestions",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            }
          },
          "required": [
            "auto_spawn_count",
            "review_count",
            "skipped_count",
            "total_suggestions"
          ],
          "title": "SpawnSummary",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SpawnSummary.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e93fb038c441d22d5b564e21ca47dd1bfe462c2dee65a84b872ad59f7520ecac",
      "created_at": "2025-12-18T18:59:43.175307Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Modality",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Supported input modalities",
          "enum": [
            "text",
            "audio",
            "vision",
            "video"
          ],
          "title": "Modality",
          "type": "string"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/Modality.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "34782440a64afa03451838c317d1124084620b26a149a4c5bbd7c11659761966",
      "created_at": "2025-12-18T18:59:43.175395Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RelationshipType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Types of relationships",
          "enum": [
            "family",
            "friend",
            "close_friend",
            "best_friend",
            "romantic",
            "ex_romantic",
            "spouse",
            "parent",
            "child",
            "sibling",
            "colleague",
            "manager",
            "direct_report",
            "mentor",
            "mentee",
            "client",
            "vendor",
            "partner",
            "acquaintance",
            "neighbor",
            "classmate",
            "teammate",
            "adversary",
            "rival",
            "service_provider",
            "other"
          ],
          "title": "RelationshipType",
          "type": "string"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/RelationshipType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "469f0116fabf50ce4c7baf228dd64b0e87d490dd57b628b9b522be319c601ec4",
      "created_at": "2025-12-18T18:59:43.175487Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "IdentifiedVerb",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "VerbCategory": {
              "description": "Categories of verbs for classification",
              "oneOf": [
                {
                  "description": "Action verbs (went, did, called)  MOMENT",
                  "enum": [
                    "action"
                  ],
                  "type": "string"
                },
                {
                  "description": "State verbs (was, felt, is)  often PULSE",
                  "enum": [
                    "state"
                  ],
                  "type": "string"
                },
                {
                  "description": "Stative + evaluative (was nice, felt good)  PULSE",
                  "enum": [
                    "evaluative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relational verbs (met, talked with)  may indicate BOND",
                  "enum": [
                    "relational"
                  ],
                  "type": "string"
                },
                {
                  "description": "Habitual (always, usually does)  may indicate MOTIF/FILAMENT",
                  "enum": [
                    "habitual"
                  ],
                  "type": "string"
                },
                {
                  "description": "Intentional (want to, plan to)  INTENT",
                  "enum": [
                    "intentional"
                  ],
                  "type": "string"
                }
              ]
            },
            "VerbTense": {
              "description": "Verb tenses",
              "enum": [
                "past",
                "present",
                "future",
                "habitual"
              ],
              "type": "string"
            }
          },
          "description": "An identified verb with analysis",
          "properties": {
            "category": {
              "allOf": [
                {
                  "$ref": "#/definitions/VerbCategory"
                }
              ],
              "description": "Verb category"
            },
            "is_main": {
              "description": "Is this the main verb?",
              "type": "boolean"
            },
            "tense": {
              "anyOf": [
                {
                  "$ref": "#/definitions/VerbTense"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Tense"
            },
            "text": {
              "description": "The verb text",
              "type": "string"
            }
          },
          "required": [
            "category",
            "is_main",
            "text"
          ],
          "title": "IdentifiedVerb",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/IdentifiedVerb.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "195cdba36e489f59d2a5ce48ae6fe90a9c9cf3645531cb1c1eaaca3b91729d3f",
      "created_at": "2025-12-18T18:59:43.175577Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ModalityInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Input container for different modalities",
          "oneOf": [
            {
              "properties": {
                "content": {
                  "type": "string"
                },
                "language": {
                  "default": null,
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "modality": {
                  "enum": [
                    "text"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "content",
                "modality"
              ],
              "type": "object"
            },
            {
              "properties": {
                "data": {
                  "description": "Base64 encoded audio data",
                  "type": "string"
                },
                "duration_seconds": {
                  "default": null,
                  "description": "Duration in seconds",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "format": {
                  "description": "Audio format (mp3, wav, etc.)",
                  "type": "string"
                },
                "modality": {
                  "enum": [
                    "audio"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "data",
                "format",
                "modality"
              ],
              "type": "object"
            },
            {
              "properties": {
                "data": {
                  "description": "Base64 encoded image data",
                  "type": "string"
                },
                "format": {
                  "description": "Image format (png, jpg, etc.)",
                  "type": "string"
                },
                "height": {
                  "default": null,
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "modality": {
                  "enum": [
                    "vision"
                  ],
                  "type": "string"
                },
                "width": {
                  "default": null,
                  "description": "Image dimensions",
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": [
                    "integer",
                    "null"
                  ]
                }
              },
              "required": [
                "data",
                "format",
                "modality"
              ],
              "type": "object"
            },
            {
              "properties": {
                "data": {
                  "description": "Base64 encoded video data or URL",
                  "type": "string"
                },
                "duration_seconds": {
                  "default": null,
                  "description": "Duration in seconds",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "format": {
                  "description": "Video format (mp4, webm, etc.)",
                  "type": "string"
                },
                "fps": {
                  "default": null,
                  "description": "Frame rate",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "modality": {
                  "enum": [
                    "video"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "data",
                "format",
                "modality"
              ],
              "type": "object"
            }
          ],
          "title": "ModalityInput"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ModalityInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e676a8213e4c8f5edfb4af856c1da709b5c9a63c36742a86e5d528ba4f32558b",
      "created_at": "2025-12-18T18:59:43.175678Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ToolCategory",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Categories of tools",
          "oneOf": [
            {
              "description": "Segmentation tools (break input into units)",
              "enum": [
                "segmentation"
              ],
              "type": "string"
            },
            {
              "description": "Classification tools (label content)",
              "enum": [
                "classification"
              ],
              "type": "string"
            },
            {
              "description": "Spawn tools (create entities)",
              "enum": [
                "spawn"
              ],
              "type": "string"
            },
            {
              "description": "Hint generation tools",
              "enum": [
                "hints"
              ],
              "type": "string"
            },
            {
              "description": "Search and retrieval tools",
              "enum": [
                "retrieval"
              ],
              "type": "string"
            },
            {
              "description": "Orchestration tools",
              "enum": [
                "orchestration"
              ],
              "type": "string"
            }
          ],
          "title": "ToolCategory"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ToolCategory.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "70680570d6bcba1055e4dfe94088e506af387581d855cdd4081d3524b636b721",
      "created_at": "2025-12-18T18:59:43.175764Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PurposeClassifierOutput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ClassifiedPurpose": {
              "description": "A classified purpose with confidence",
              "properties": {
                "confidence": {
                  "description": "Confidence score (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "evidence": {
                  "default": [],
                  "description": "Evidence/reasoning for classification",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "purpose": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ToolPurpose"
                    }
                  ],
                  "description": "The purpose of the message"
                }
              },
              "required": [
                "confidence",
                "purpose"
              ],
              "type": "object"
            },
            "CommandAnalysis": {
              "description": "Analysis of a command purpose",
              "properties": {
                "command_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/CommandType"
                    }
                  ],
                  "description": "Command type"
                },
                "is_destructive": {
                  "description": "Is this command destructive?",
                  "type": "boolean"
                },
                "needs_confirmation": {
                  "description": "Does this command need confirmation?",
                  "type": "boolean"
                },
                "parameters": {
                  "additionalProperties": true,
                  "default": {},
                  "description": "Command parameters",
                  "type": "object"
                },
                "target": {
                  "default": null,
                  "description": "Target of the command",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "command_type",
                "is_destructive",
                "needs_confirmation"
              ],
              "type": "object"
            },
            "CommandType": {
              "description": "Types of commands",
              "oneOf": [
                {
                  "description": "Create something",
                  "enum": [
                    "CREATE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Update/modify",
                  "enum": [
                    "UPDATE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Delete/remove",
                  "enum": [
                    "DELETE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Link/connect entities",
                  "enum": [
                    "LINK"
                  ],
                  "type": "string"
                },
                {
                  "description": "Unlink/disconnect entities",
                  "enum": [
                    "UNLINK"
                  ],
                  "type": "string"
                },
                {
                  "description": "Export data",
                  "enum": [
                    "EXPORT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Import data",
                  "enum": [
                    "IMPORT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Configure settings",
                  "enum": [
                    "CONFIGURE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Unknown/custom command",
                  "enum": [
                    "CUSTOM"
                  ],
                  "type": "string"
                }
              ]
            },
            "FilterOperator": {
              "description": "Filter operators",
              "enum": [
                "equals",
                "not_equals",
                "contains",
                "starts_with",
                "ends_with",
                "greater_than",
                "less_than",
                "between",
                "in",
                "not_in"
              ],
              "type": "string"
            },
            "PurposePipeline": {
              "description": "Processing pipeline category",
              "oneOf": [
                {
                  "description": "Memory recording: Segment  Classify  Spawn  Store",
                  "enum": [
                    "recording"
                  ],
                  "type": "string"
                },
                {
                  "description": "Data retrieval: Parse  Search  Format  Return",
                  "enum": [
                    "retrieval"
                  ],
                  "type": "string"
                },
                {
                  "description": "Analysis: Parse  Search  Analyze  Synthesize",
                  "enum": [
                    "analysis"
                  ],
                  "type": "string"
                },
                {
                  "description": "System action: Parse  Validate  Execute  Confirm",
                  "enum": [
                    "action"
                  ],
                  "type": "string"
                },
                {
                  "description": "Conversation: Respond appropriately",
                  "enum": [
                    "conversational"
                  ],
                  "type": "string"
                }
              ]
            },
            "QueryAnalysis": {
              "description": "Analysis of a query purpose",
              "properties": {
                "filters": {
                  "default": [],
                  "description": "Filters to apply",
                  "items": {
                    "$ref": "#/definitions/QueryFilter"
                  },
                  "type": "array"
                },
                "query_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/QueryType"
                    }
                  ],
                  "description": "Type of query"
                },
                "search_terms": {
                  "description": "Extracted search terms",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "target": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/QueryTarget"
                    }
                  ],
                  "description": "What the query is targeting"
                }
              },
              "required": [
                "query_type",
                "search_terms",
                "target"
              ],
              "type": "object"
            },
            "QueryFilter": {
              "description": "A filter for queries",
              "properties": {
                "field": {
                  "description": "Field to filter on",
                  "type": "string"
                },
                "operator": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/FilterOperator"
                    }
                  ],
                  "description": "Filter operator"
                },
                "value": {
                  "description": "Filter value"
                }
              },
              "required": [
                "field",
                "operator",
                "value"
              ],
              "type": "object"
            },
            "QueryTarget": {
              "description": "Query target - what data is the query looking for?",
              "properties": {
                "entity_types": {
                  "default": [],
                  "description": "The entity/thread types being queried (e.g., \"moments\", \"threads\", \"pulses\")",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted from the query",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "temporal_scope": {
                  "default": null,
                  "description": "Temporal scope (e.g., \"today\", \"last week\", \"all time\")",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "thread_hints": {
                  "default": [],
                  "description": "Specific thread hints (names, concepts) to search for",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "QueryType": {
              "description": "The type of query (when MessageIntent is QUERY)",
              "oneOf": [
                {
                  "description": "When did X happen? Time-based lookup",
                  "enum": [
                    "TEMPORAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Who/what questions - entity lookup",
                  "enum": [
                    "ENTITY"
                  ],
                  "type": "string"
                },
                {
                  "description": "How often? Pattern/frequency questions",
                  "enum": [
                    "PATTERN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Compare X and Y",
                  "enum": [
                    "COMPARISON"
                  ],
                  "type": "string"
                },
                {
                  "description": "Give me a summary/overview",
                  "enum": [
                    "SUMMARY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Count/quantity questions (how many?)",
                  "enum": [
                    "QUANTITATIVE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Yes/no questions (did X happen?)",
                  "enum": [
                    "BOOLEAN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Why questions - causation",
                  "enum": [
                    "CAUSAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Location-based questions",
                  "enum": [
                    "SPATIAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Open-ended/exploratory",
                  "enum": [
                    "EXPLORATORY"
                  ],
                  "type": "string"
                }
              ]
            },
            "ToolPurpose": {
              "description": "Primary purpose of user's message",
              "oneOf": [
                {
                  "description": "Recording memories, events, observations - wants to store",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information returned",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Making connections, deriving insights - wants system to infer",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities - wants existing data",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis or reflection - wants patterns identified",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "System command/instruction - wants action taken",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Social/conversational - greeting, acknowledgment",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Clarifying or continuing previous message",
                  "enum": [
                    "CONTINUATION"
                  ],
                  "type": "string"
                },
                {
                  "description": "Editing or correcting previous input",
                  "enum": [
                    "CORRECTION"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Output from purpose classification",
          "properties": {
            "command_analysis": {
              "anyOf": [
                {
                  "$ref": "#/definitions/CommandAnalysis"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Command analysis (if purpose is Command)"
            },
            "pipeline": {
              "allOf": [
                {
                  "$ref": "#/definitions/PurposePipeline"
                }
              ],
              "description": "Recommended processing pipeline"
            },
            "primary": {
              "allOf": [
                {
                  "$ref": "#/definitions/ClassifiedPurpose"
                }
              ],
              "description": "Primary classified purpose"
            },
            "query_analysis": {
              "anyOf": [
                {
                  "$ref": "#/definitions/QueryAnalysis"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Query analysis (if purpose is Query-related)"
            },
            "secondary": {
              "default": [],
              "description": "Secondary purposes (if multi-purpose detected)",
              "items": {
                "$ref": "#/definitions/ClassifiedPurpose"
              },
              "type": "array"
            }
          },
          "required": [
            "pipeline",
            "primary"
          ],
          "title": "PurposeClassifierOutput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/PurposeClassifierOutput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "3971f5fd77f99db414a8a1db4f308404b9b2859cabb2585994b6d69c9b667d82",
      "created_at": "2025-12-18T18:59:43.175886Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ExistingBond",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "RelationshipType": {
              "description": "Types of relationships",
              "enum": [
                "family",
                "friend",
                "close_friend",
                "best_friend",
                "romantic",
                "ex_romantic",
                "spouse",
                "parent",
                "child",
                "sibling",
                "colleague",
                "manager",
                "direct_report",
                "mentor",
                "mentee",
                "client",
                "vendor",
                "partner",
                "acquaintance",
                "neighbor",
                "classmate",
                "teammate",
                "adversary",
                "rival",
                "service_provider",
                "other"
              ],
              "type": "string"
            }
          },
          "description": "An existing bond for context",
          "properties": {
            "head_thread_id": {
              "type": "string"
            },
            "id": {
              "type": "string"
            },
            "relationship_type": {
              "$ref": "#/definitions/RelationshipType"
            },
            "strength": {
              "format": "double",
              "type": "number"
            },
            "tail_thread_id": {
              "type": "string"
            }
          },
          "required": [
            "head_thread_id",
            "id",
            "relationship_type",
            "strength",
            "tail_thread_id"
          ],
          "title": "ExistingBond",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ExistingBond.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ab06b9f5ae1e10cc2cc41b68f551f039f813da30617abb515234edbf546efd72",
      "created_at": "2025-12-18T18:59:43.176056Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TemporalScope",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Temporal scope for queries",
          "properties": {
            "end": {
              "default": null,
              "description": "End of range",
              "type": [
                "string",
                "null"
              ]
            },
            "relative": {
              "default": null,
              "description": "Relative scope (today, this_week, all_time)",
              "type": [
                "string",
                "null"
              ]
            },
            "start": {
              "default": null,
              "description": "Start of range (ISO 8601 or relative)",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "title": "TemporalScope",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/TemporalScope.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "de786aaa417f7ca2fb4825e373652ac57283bc37117dd2402a6c3793831e0f7f",
      "created_at": "2025-12-18T18:59:43.176136Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DetectionMethod",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "How a thread was detected",
          "oneOf": [
            {
              "description": "Exact name match",
              "enum": [
                "exact_match"
              ],
              "type": "string"
            },
            {
              "description": "Alias match",
              "enum": [
                "alias_match"
              ],
              "type": "string"
            },
            {
              "description": "Fuzzy/similar match",
              "enum": [
                "fuzzy_match"
              ],
              "type": "string"
            },
            {
              "description": "Pronoun resolution from context",
              "enum": [
                "pronoun_resolution"
              ],
              "type": "string"
            },
            {
              "description": "Keyword match",
              "enum": [
                "keyword_match"
              ],
              "type": "string"
            },
            {
              "description": "Semantic similarity",
              "enum": [
                "semantic_match"
              ],
              "type": "string"
            }
          ],
          "title": "DetectionMethod"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/DetectionMethod.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "8af89c7a075c94ecf0aba9d952e80c3543cb738bb657e6c8f4f9588c1d13dc97",
      "created_at": "2025-12-18T18:59:43.176213Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PipelineTrigger",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "TriggerType": {
              "description": "Types of triggers",
              "oneOf": [
                {
                  "description": "Match on purpose type",
                  "enum": [
                    "purpose"
                  ],
                  "type": "string"
                },
                {
                  "description": "Match on modality",
                  "enum": [
                    "modality"
                  ],
                  "type": "string"
                },
                {
                  "description": "Match on entity type",
                  "enum": [
                    "entity_type"
                  ],
                  "type": "string"
                },
                {
                  "description": "Match on keyword",
                  "enum": [
                    "keyword"
                  ],
                  "type": "string"
                },
                {
                  "description": "Custom condition",
                  "enum": [
                    "custom"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Trigger for pipeline selection",
          "properties": {
            "priority": {
              "default": 0,
              "description": "Priority (higher = checked first)",
              "format": "uint32",
              "minimum": 0.0,
              "type": "integer"
            },
            "trigger_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/TriggerType"
                }
              ],
              "description": "Trigger type"
            },
            "value": {
              "description": "Value to match",
              "type": "string"
            }
          },
          "required": [
            "trigger_type",
            "value"
          ],
          "title": "PipelineTrigger",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/PipelineTrigger.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b86816cd7bc91cbdf24854c0534b902037c0aa0123e0fa38fd7bac13a4db64dc",
      "created_at": "2025-12-18T18:59:43.176293Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CommandType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Types of commands",
          "oneOf": [
            {
              "description": "Create something",
              "enum": [
                "CREATE"
              ],
              "type": "string"
            },
            {
              "description": "Update/modify",
              "enum": [
                "UPDATE"
              ],
              "type": "string"
            },
            {
              "description": "Delete/remove",
              "enum": [
                "DELETE"
              ],
              "type": "string"
            },
            {
              "description": "Link/connect entities",
              "enum": [
                "LINK"
              ],
              "type": "string"
            },
            {
              "description": "Unlink/disconnect entities",
              "enum": [
                "UNLINK"
              ],
              "type": "string"
            },
            {
              "description": "Export data",
              "enum": [
                "EXPORT"
              ],
              "type": "string"
            },
            {
              "description": "Import data",
              "enum": [
                "IMPORT"
              ],
              "type": "string"
            },
            {
              "description": "Configure settings",
              "enum": [
                "CONFIGURE"
              ],
              "type": "string"
            },
            {
              "description": "Unknown/custom command",
              "enum": [
                "CUSTOM"
              ],
              "type": "string"
            }
          ],
          "title": "CommandType"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/CommandType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "70afc259ac8396d31e2ff8fdf4883fbb4ca94ab06a3eb900ef6d853194ee773c",
      "created_at": "2025-12-18T18:59:43.176379Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PhysicsHintOutput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "DetectedEmotion": {
              "description": "A detected emotion in the content",
              "properties": {
                "emotion": {
                  "description": "Emotion name",
                  "type": "string"
                },
                "evidence": {
                  "description": "Evidence for detection",
                  "type": "string"
                },
                "intensity": {
                  "description": "Intensity (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "emotion",
                "evidence",
                "intensity"
              ],
              "type": "object"
            },
            "PhysicsAnalysis": {
              "description": "Analysis that led to physics values",
              "properties": {
                "certainty_indicators": {
                  "default": [],
                  "description": "Certainty indicators",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "emotions": {
                  "default": [],
                  "description": "Detected emotions",
                  "items": {
                    "$ref": "#/definitions/DetectedEmotion"
                  },
                  "type": "array"
                },
                "reasoning": {
                  "description": "Overall reasoning",
                  "type": "string"
                },
                "significance_indicators": {
                  "default": [],
                  "description": "Significance indicators",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                }
              },
              "required": [
                "reasoning"
              ],
              "type": "object"
            },
            "PhysicsHintValues": {
              "description": "Physics hint values",
              "properties": {
                "arousal": {
                  "description": "Arousal/activation: 0.0 (calm/low energy) to 1.0 (excited/high energy) Maps to Y-axis in VAE space",
                  "format": "double",
                  "type": "number"
                },
                "energy": {
                  "description": "Energy level for simulation",
                  "format": "double",
                  "type": "number"
                },
                "epistemic": {
                  "description": "Epistemic certainty: 0.0 (uncertain) to 1.0 (certain) Maps to Z-axis in VAE space",
                  "format": "double",
                  "type": "number"
                },
                "significance": {
                  "description": "Significance/mass: 0.0 (trivial) to 1.0 (very important) Affects physics simulation weight",
                  "format": "double",
                  "type": "number"
                },
                "temperature": {
                  "description": "Temperature (volatility/changeability)",
                  "format": "double",
                  "type": "number"
                },
                "valence": {
                  "description": "Emotional valence: -1.0 (very negative) to 1.0 (very positive) Maps to X-axis in VAE space",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "energy",
                "epistemic",
                "significance",
                "temperature",
                "valence"
              ],
              "type": "object"
            },
            "VAEPosition": {
              "description": "VAE space position (quantized for physics)",
              "properties": {
                "x": {
                  "description": "X: Valence (emotional polarity)",
                  "format": "int64",
                  "type": "integer"
                },
                "y": {
                  "description": "Y: Arousal (energy/activation)",
                  "format": "int64",
                  "type": "integer"
                },
                "z": {
                  "description": "Z: Epistemic (certainty)",
                  "format": "int64",
                  "type": "integer"
                }
              },
              "required": [
                "x",
                "y",
                "z"
              ],
              "type": "object"
            }
          },
          "description": "Output from physics hint generation",
          "properties": {
            "analysis": {
              "allOf": [
                {
                  "$ref": "#/definitions/PhysicsAnalysis"
                }
              ],
              "description": "Analysis that led to these values"
            },
            "hints": {
              "allOf": [
                {
                  "$ref": "#/definitions/PhysicsHintValues"
                }
              ],
              "description": "The computed physics hints"
            },
            "position": {
              "allOf": [
                {
                  "$ref": "#/definitions/VAEPosition"
                }
              ],
              "description": "Computed VAE position"
            }
          },
          "required": [
            "analysis",
            "hints",
            "position"
          ],
          "title": "PhysicsHintOutput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/PhysicsHintOutput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "c19b2a4b8625aec73d9d80571853f1402f531596ac145c2d35b0b70e17b924ab",
      "created_at": "2025-12-18T18:59:43.176469Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BindingPattern",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BindingType": {
              "description": "Types of cognitive binding",
              "oneOf": [
                {
                  "description": "Cause leads to effect",
                  "enum": [
                    "causal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal sequence (before/after)",
                  "enum": [
                    "temporal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Associated by proximity/context",
                  "enum": [
                    "associative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Part-whole relationship",
                  "enum": [
                    "compositional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Contrast/opposition",
                  "enum": [
                    "contrastive"
                  ],
                  "type": "string"
                },
                {
                  "description": "Similarity/analogy",
                  "enum": [
                    "analogical"
                  ],
                  "type": "string"
                },
                {
                  "description": "Enables/prerequisite",
                  "enum": [
                    "enabling"
                  ],
                  "type": "string"
                },
                {
                  "description": "Thematic connection",
                  "enum": [
                    "thematic"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Common binding patterns for detection",
          "properties": {
            "binding_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/BindingType"
                }
              ],
              "description": "Binding type this pattern indicates"
            },
            "confidence_boost": {
              "description": "Confidence boost when matched",
              "format": "double",
              "type": "number"
            },
            "name": {
              "description": "Pattern name",
              "type": "string"
            },
            "pattern": {
              "description": "Regex or linguistic pattern",
              "type": "string"
            }
          },
          "required": [
            "binding_type",
            "confidence_boost",
            "name",
            "pattern"
          ],
          "title": "BindingPattern",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BindingPattern.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "46ceb83e499a237ca1f31325677028e138d8b3852835834fa530fd61c9ebb9b5",
      "created_at": "2025-12-18T18:59:43.176625Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ToolParameter",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ParameterConstraints": {
              "description": "Validation constraints for parameters",
              "properties": {
                "allowed_values": {
                  "default": null,
                  "description": "Allowed values (enum constraint)",
                  "items": {
                    "type": "string"
                  },
                  "type": [
                    "array",
                    "null"
                  ]
                },
                "max": {
                  "default": null,
                  "description": "Maximum value (for numbers) or length (for strings/arrays)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "min": {
                  "default": null,
                  "description": "Minimum value (for numbers) or length (for strings/arrays)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "pattern": {
                  "default": null,
                  "description": "Regex pattern for string validation",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "ParameterType": {
              "description": "Supported parameter types",
              "oneOf": [
                {
                  "enum": [
                    "string",
                    "integer",
                    "float",
                    "boolean",
                    "array",
                    "object"
                  ],
                  "type": "string"
                },
                {
                  "description": "Reference to another entity",
                  "enum": [
                    "entity_ref"
                  ],
                  "type": "string"
                },
                {
                  "description": "Base64 encoded binary data",
                  "enum": [
                    "binary"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Parameter definition with type and validation",
          "properties": {
            "constraints": {
              "anyOf": [
                {
                  "$ref": "#/definitions/ParameterConstraints"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Validation constraints"
            },
            "default_value": {
              "default": null,
              "description": "Default value if not provided"
            },
            "description": {
              "description": "Description of what this parameter does",
              "type": "string"
            },
            "name": {
              "description": "Parameter name",
              "type": "string"
            },
            "param_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/ParameterType"
                }
              ],
              "description": "Data type"
            },
            "required": {
              "description": "Whether this parameter is required",
              "type": "boolean"
            }
          },
          "required": [
            "description",
            "name",
            "param_type",
            "required"
          ],
          "title": "ToolParameter",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ToolParameter.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2be85feda866749d1fb745277a48a727039f668cedc579f88f11d113a55417c0",
      "created_at": "2025-12-18T18:59:43.176726Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ContextStrategy",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "How context flows between tools",
          "oneOf": [
            {
              "description": "Pass full context to every tool",
              "enum": [
                "full_context"
              ],
              "type": "string"
            },
            {
              "description": "Only pass relevant context (filtered)",
              "enum": [
                "filtered_context"
              ],
              "type": "string"
            },
            {
              "description": "Accumulate results as context grows",
              "enum": [
                "accumulating_context"
              ],
              "type": "string"
            },
            {
              "description": "Each step gets fresh context",
              "enum": [
                "isolated_context"
              ],
              "type": "string"
            }
          ],
          "title": "ContextStrategy"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ContextStrategy.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6200765b8d97d86c5ed722d9d7891f9b4c1aa11894d3904d23bf05112aceda9d",
      "created_at": "2025-12-18T18:59:43.176806Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ThreadCategory",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Categories for threads",
          "oneOf": [
            {
              "description": "People (friends, family, colleagues)",
              "enum": [
                "people"
              ],
              "type": "string"
            },
            {
              "description": "Places (home, work, cities)",
              "enum": [
                "places"
              ],
              "type": "string"
            },
            {
              "description": "Activities (hobbies, work tasks)",
              "enum": [
                "activities"
              ],
              "type": "string"
            },
            {
              "description": "Projects (ongoing endeavors)",
              "enum": [
                "projects"
              ],
              "type": "string"
            },
            {
              "description": "Topics (interests, subjects)",
              "enum": [
                "topics"
              ],
              "type": "string"
            },
            {
              "description": "Events (recurring or one-time)",
              "enum": [
                "events"
              ],
              "type": "string"
            },
            {
              "description": "Groups (teams, organizations)",
              "enum": [
                "groups"
              ],
              "type": "string"
            },
            {
              "description": "Health (physical, mental)",
              "enum": [
                "health"
              ],
              "type": "string"
            },
            {
              "description": "Finance (money, investments)",
              "enum": [
                "finance"
              ],
              "type": "string"
            },
            {
              "description": "Relationships",
              "enum": [
                "relationships"
              ],
              "type": "string"
            }
          ],
          "title": "ThreadCategory"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ThreadCategory.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "55803233e96836693d71c95d1a6d4bff53b34e7a6cc766ce45e0bd6a1ccf8481",
      "created_at": "2025-12-18T18:59:43.176900Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ConditionOperator",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Condition operators",
          "enum": [
            "equals",
            "not_equals",
            "greater_than",
            "less_than",
            "contains",
            "not_contains",
            "is_null",
            "is_not_null",
            "in"
          ],
          "title": "ConditionOperator",
          "type": "string"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ConditionOperator.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "bcfaa339c19f00136f226f904d554ace0a6b6578759e6646c9ea41ef9ce0c3f1",
      "created_at": "2025-12-18T18:59:43.176992Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BondUpdate",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BondChanges": {
              "description": "Changes to bond characteristics",
              "properties": {
                "new_relationship_type": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/RelationshipType"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null
                },
                "strength_delta": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "trust_delta": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "valence_delta": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "RelationshipType": {
              "description": "Types of relationships",
              "enum": [
                "family",
                "friend",
                "close_friend",
                "best_friend",
                "romantic",
                "ex_romantic",
                "spouse",
                "parent",
                "child",
                "sibling",
                "colleague",
                "manager",
                "direct_report",
                "mentor",
                "mentee",
                "client",
                "vendor",
                "partner",
                "acquaintance",
                "neighbor",
                "classmate",
                "teammate",
                "adversary",
                "rival",
                "service_provider",
                "other"
              ],
              "type": "string"
            }
          },
          "description": "Update to an existing bond",
          "properties": {
            "bond_id": {
              "description": "ID of bond to update",
              "type": "string"
            },
            "changes": {
              "allOf": [
                {
                  "$ref": "#/definitions/BondChanges"
                }
              ],
              "description": "Changes to apply"
            },
            "reason": {
              "description": "Reason for update",
              "type": "string"
            }
          },
          "required": [
            "bond_id",
            "changes",
            "reason"
          ],
          "title": "BondUpdate",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BondUpdate.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "8905c8b36ef62c0eb7870f69802cc1fa811fdfaaa175e353a04631a182200473",
      "created_at": "2025-12-18T18:59:43.177086Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DetectedBond",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BondCharacteristics": {
              "description": "Bond characteristics",
              "properties": {
                "duration": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/RelationshipDuration"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Duration of relationship"
                },
                "interaction_frequency": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/InteractionFrequency"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Frequency of interaction"
                },
                "intimacy": {
                  "description": "Intimacy level (0.0 distant to 1.0 close)",
                  "format": "double",
                  "type": "number"
                },
                "reciprocity": {
                  "description": "Reciprocity (0.0 one-sided to 1.0 mutual)",
                  "format": "double",
                  "type": "number"
                },
                "relationship_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/RelationshipType"
                    }
                  ],
                  "description": "Type of relationship"
                },
                "strength": {
                  "description": "Strength of relationship (0.0 weak to 1.0 strong)",
                  "format": "double",
                  "type": "number"
                },
                "trust": {
                  "description": "Trust level (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "valence": {
                  "description": "Valence (-1.0 negative to 1.0 positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "intimacy",
                "reciprocity",
                "relationship_type",
                "strength",
                "trust",
                "valence"
              ],
              "type": "object"
            },
            "BondEvidence": {
              "description": "Evidence for bond detection",
              "properties": {
                "indicator_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/BondIndicatorType"
                    }
                  ],
                  "description": "Type of indicator"
                },
                "indicators": {
                  "default": [],
                  "description": "Specific indicators found",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "trigger_text": {
                  "description": "Text that indicates the relationship",
                  "type": "string"
                }
              },
              "required": [
                "indicator_type",
                "trigger_text"
              ],
              "type": "object"
            },
            "BondIndicatorType": {
              "description": "Types of bond indicators",
              "oneOf": [
                {
                  "description": "Explicit label (\"my friend\", \"my boss\")",
                  "enum": [
                    "explicit_label"
                  ],
                  "type": "string"
                },
                {
                  "description": "Action indicating relationship (\"had dinner with\")",
                  "enum": [
                    "relational_action"
                  ],
                  "type": "string"
                },
                {
                  "description": "Emotional language about entity",
                  "enum": [
                    "emotional_language"
                  ],
                  "type": "string"
                },
                {
                  "description": "Possessive language (\"my\", \"our\")",
                  "enum": [
                    "possessive_language"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency indicators (\"always see\", \"often talk\")",
                  "enum": [
                    "frequency_indicator"
                  ],
                  "type": "string"
                },
                {
                  "description": "Context from previous interactions",
                  "enum": [
                    "contextual_inference"
                  ],
                  "type": "string"
                }
              ]
            },
            "DurationCategory": {
              "description": "Duration categories",
              "enum": [
                "new",
                "recent",
                "established",
                "long_term",
                "lifelong"
              ],
              "type": "string"
            },
            "InteractionFrequency": {
              "description": "Interaction frequency",
              "enum": [
                "daily",
                "weekly",
                "monthly",
                "quarterly",
                "yearly",
                "rarely"
              ],
              "type": "string"
            },
            "RelationshipDuration": {
              "description": "Relationship duration",
              "properties": {
                "category": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/DurationCategory"
                    }
                  ],
                  "description": "Duration category"
                },
                "since": {
                  "default": null,
                  "description": "Start date if known",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "years": {
                  "default": null,
                  "description": "How long the relationship has existed",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "required": [
                "category"
              ],
              "type": "object"
            },
            "RelationshipType": {
              "description": "Types of relationships",
              "enum": [
                "family",
                "friend",
                "close_friend",
                "best_friend",
                "romantic",
                "ex_romantic",
                "spouse",
                "parent",
                "child",
                "sibling",
                "colleague",
                "manager",
                "direct_report",
                "mentor",
                "mentee",
                "client",
                "vendor",
                "partner",
                "acquaintance",
                "neighbor",
                "classmate",
                "teammate",
                "adversary",
                "rival",
                "service_provider",
                "other"
              ],
              "type": "string"
            },
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            }
          },
          "description": "A detected bond between entities",
          "properties": {
            "characteristics": {
              "allOf": [
                {
                  "$ref": "#/definitions/BondCharacteristics"
                }
              ],
              "description": "Bond characteristics"
            },
            "confidence": {
              "description": "Confidence in detection",
              "format": "double",
              "type": "number"
            },
            "evidence": {
              "allOf": [
                {
                  "$ref": "#/definitions/BondEvidence"
                }
              ],
              "description": "Evidence for this bond"
            },
            "head": {
              "allOf": [
                {
                  "$ref": "#/definitions/ThreadReference"
                }
              ],
              "description": "Source entity (head)"
            },
            "tail": {
              "allOf": [
                {
                  "$ref": "#/definitions/ThreadReference"
                }
              ],
              "description": "Target entity (tail)"
            }
          },
          "required": [
            "characteristics",
            "confidence",
            "evidence",
            "head",
            "tail"
          ],
          "title": "DetectedBond",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/DetectedBond.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "a6c3719e18be03d7c77b43c1ee744969bdaeea9cec83d0726d6ffd6fc359368b",
      "created_at": "2025-12-18T18:59:43.177192Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BondChanges",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "RelationshipType": {
              "description": "Types of relationships",
              "enum": [
                "family",
                "friend",
                "close_friend",
                "best_friend",
                "romantic",
                "ex_romantic",
                "spouse",
                "parent",
                "child",
                "sibling",
                "colleague",
                "manager",
                "direct_report",
                "mentor",
                "mentee",
                "client",
                "vendor",
                "partner",
                "acquaintance",
                "neighbor",
                "classmate",
                "teammate",
                "adversary",
                "rival",
                "service_provider",
                "other"
              ],
              "type": "string"
            }
          },
          "description": "Changes to bond characteristics",
          "properties": {
            "new_relationship_type": {
              "anyOf": [
                {
                  "$ref": "#/definitions/RelationshipType"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "strength_delta": {
              "default": null,
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "trust_delta": {
              "default": null,
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "valence_delta": {
              "default": null,
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            }
          },
          "title": "BondChanges",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BondChanges.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "10854df31dffec246884ce8273fe4dff9002bcb52ea2ad7def6b5a0b14728f33",
      "created_at": "2025-12-18T18:59:43.177340Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "VAEPosition",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "VAE space position (quantized for physics)",
          "properties": {
            "x": {
              "description": "X: Valence (emotional polarity)",
              "format": "int64",
              "type": "integer"
            },
            "y": {
              "description": "Y: Arousal (energy/activation)",
              "format": "int64",
              "type": "integer"
            },
            "z": {
              "description": "Z: Epistemic (certainty)",
              "format": "int64",
              "type": "integer"
            }
          },
          "required": [
            "x",
            "y",
            "z"
          ],
          "title": "VAEPosition",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/VAEPosition.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "742b141ea010d0733e8aa8acefed0bf15360f8f4ac18fe1fa1c67fdb73ceffd1",
      "created_at": "2025-12-18T18:59:43.177426Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SpawnAction",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Action to take for spawn",
          "oneOf": [
            {
              "description": "Auto-spawn without user confirmation",
              "enum": [
                "auto_spawn"
              ],
              "type": "string"
            },
            {
              "description": "Suggest to user for review",
              "enum": [
                "suggest"
              ],
              "type": "string"
            },
            {
              "description": "Skip but log for analysis",
              "enum": [
                "skip"
              ],
              "type": "string"
            },
            {
              "description": "Request clarification from user",
              "enum": [
                "clarify"
              ],
              "type": "string"
            }
          ],
          "title": "SpawnAction"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SpawnAction.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e87f4be6a3665cde10430a937003ac5daedb25d34266422c5269931923347acd",
      "created_at": "2025-12-18T18:59:43.177505Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DetectedAction",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A detected action in vision",
          "properties": {
            "action": {
              "type": "string"
            },
            "actor": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "confidence": {
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "action",
            "confidence"
          ],
          "title": "DetectedAction",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/DetectedAction.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e50ddfa02f627de35a510fb2287a5081051c208d2dd513127719c60e3ad42536",
      "created_at": "2025-12-18T18:59:43.177983Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AudioSegmentFeatures",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AudioFeatures": {
              "description": "Audio characteristics",
              "properties": {
                "pitch_variance": {
                  "default": null,
                  "description": "Pitch variation",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "speaking_rate": {
                  "default": null,
                  "description": "Speaking rate (words per minute)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "voice_emotion": {
                  "default": null,
                  "description": "Detected emotion from voice",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "volume": {
                  "description": "Average volume (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "volume"
              ],
              "type": "object"
            }
          },
          "description": "Audio-specific segment features",
          "properties": {
            "audio_features": {
              "allOf": [
                {
                  "$ref": "#/definitions/AudioFeatures"
                }
              ],
              "description": "Audio characteristics"
            },
            "speaker_id": {
              "default": null,
              "description": "Speaker ID",
              "type": [
                "string",
                "null"
              ]
            },
            "transcript": {
              "description": "Transcribed text",
              "type": "string"
            }
          },
          "required": [
            "audio_features",
            "transcript"
          ],
          "title": "AudioSegmentFeatures",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/AudioSegmentFeatures.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "770e163cd472798373c2b511ff66b03b8d0ff90ea0c03d5afce00e8bcfbce22a",
      "created_at": "2025-12-18T18:59:43.178119Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SegmentationContext",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EmotionalTone": {
              "description": "Emotional tone detected in segment",
              "properties": {
                "arousal": {
                  "description": "Arousal (0.0 calm to 1.0 excited)",
                  "format": "double",
                  "type": "number"
                },
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "primary": {
                  "description": "Primary emotion",
                  "type": "string"
                },
                "valence": {
                  "description": "Valence (-1.0 negative to 1.0 positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "confidence",
                "primary",
                "valence"
              ],
              "type": "object"
            },
            "EntityMention": {
              "description": "An entity mention within a segment",
              "properties": {
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "end": {
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityMentionType"
                    }
                  ],
                  "description": "Type of entity mentioned"
                },
                "resolved_id": {
                  "default": null,
                  "description": "Resolved entity ID (if matched to known entity)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Position in segment",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "text": {
                  "description": "The text of the mention",
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "end",
                "entity_type",
                "start",
                "text"
              ],
              "type": "object"
            },
            "EntityMentionType": {
              "description": "Types of entity mentions",
              "enum": [
                "PERSON",
                "PLACE",
                "ORGANIZATION",
                "DATE_TIME",
                "EVENT",
                "CONCEPT",
                "OBJECT",
                "ACTIVITY"
              ],
              "type": "string"
            },
            "KnownEntity": {
              "description": "Known entity for reference resolution",
              "properties": {
                "aliases": {
                  "default": [],
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "entity_type": {
                  "type": "string"
                },
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                }
              },
              "required": [
                "entity_type",
                "id",
                "name"
              ],
              "type": "object"
            },
            "Modality": {
              "description": "Supported input modalities",
              "enum": [
                "text",
                "audio",
                "vision",
                "video"
              ],
              "type": "string"
            },
            "ParsedTemporal": {
              "description": "Parsed temporal information",
              "properties": {
                "date": {
                  "default": null,
                  "description": "ISO 8601 date if specific",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relative_days": {
                  "default": null,
                  "description": "Relative offset (e.g., -1 for \"yesterday\")",
                  "format": "int32",
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "time_of_day": {
                  "default": null,
                  "description": "Time of day if mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "Segment": {
              "description": "A segmented unit of content",
              "properties": {
                "boundaries": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentBoundaries"
                    }
                  ],
                  "description": "Segment boundaries"
                },
                "confidence": {
                  "description": "Confidence in segmentation decision",
                  "format": "double",
                  "type": "number"
                },
                "content": {
                  "description": "The segmented content",
                  "type": "string"
                },
                "features": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentFeatures"
                    }
                  ],
                  "description": "Extracted features"
                },
                "id": {
                  "description": "Unique segment ID",
                  "type": "string"
                },
                "index": {
                  "description": "Index in the sequence",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "modality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Modality"
                    }
                  ],
                  "description": "Original modality"
                }
              },
              "required": [
                "boundaries",
                "confidence",
                "content",
                "features",
                "id",
                "index",
                "modality"
              ],
              "type": "object"
            },
            "SegmentBoundaries": {
              "description": "Boundaries of a segment within the original input",
              "properties": {
                "end": {
                  "description": "End position",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "speaker_id": {
                  "default": null,
                  "description": "For audio/video: speaker ID if detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Start position (char index for text, milliseconds for audio/video)",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "end",
                "start"
              ],
              "type": "object"
            },
            "SegmentFeatures": {
              "description": "Extracted features from a segment",
              "properties": {
                "emotional_tone": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/EmotionalTone"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Emotional tone (if detectable)"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "language": {
                  "default": null,
                  "description": "Language detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "mentions": {
                  "default": [],
                  "description": "Entity mentions found",
                  "items": {
                    "$ref": "#/definitions/EntityMention"
                  },
                  "type": "array"
                },
                "subject": {
                  "default": null,
                  "description": "Primary subject/actor mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "temporal_markers": {
                  "default": [],
                  "description": "Temporal markers detected",
                  "items": {
                    "$ref": "#/definitions/TemporalMarker"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "TemporalMarker": {
              "description": "A temporal marker in the segment",
              "properties": {
                "marker_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalMarkerType"
                    }
                  ],
                  "description": "Type of temporal reference"
                },
                "parsed": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ParsedTemporal"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Parsed temporal value (if parseable)"
                },
                "text": {
                  "description": "The text of the marker",
                  "type": "string"
                }
              },
              "required": [
                "marker_type",
                "text"
              ],
              "type": "object"
            },
            "TemporalMarkerType": {
              "description": "Types of temporal markers",
              "oneOf": [
                {
                  "description": "Specific date (January 5th)",
                  "enum": [
                    "absolute"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relative reference (yesterday, last week)",
                  "enum": [
                    "relative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Duration (for 2 hours)",
                  "enum": [
                    "duration"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency (every day, weekly)",
                  "enum": [
                    "frequency"
                  ],
                  "type": "string"
                },
                {
                  "description": "Time of day (in the morning)",
                  "enum": [
                    "time_of_day"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Context for segmentation",
          "properties": {
            "current_speaker": {
              "default": null,
              "description": "Current speaker (if known)",
              "type": [
                "string",
                "null"
              ]
            },
            "known_entities": {
              "default": [],
              "description": "Known entities for reference resolution",
              "items": {
                "$ref": "#/definitions/KnownEntity"
              },
              "type": "array"
            },
            "previous_segments": {
              "default": [],
              "description": "Previous segments in the conversation",
              "items": {
                "$ref": "#/definitions/Segment"
              },
              "type": "array"
            },
            "tenant_id": {
              "description": "Tenant ID for multi-tenancy",
              "type": "string"
            }
          },
          "required": [
            "tenant_id"
          ],
          "title": "SegmentationContext",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SegmentationContext.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ec11c0eb4ed10d62a335d056809f461859bd521b7e291c5f2abbe9c563eaeaff",
      "created_at": "2025-12-18T18:59:43.178304Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SubjectReference",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "SubjectType": {
              "description": "Types of subjects",
              "oneOf": [
                {
                  "description": "The user themselves",
                  "enum": [
                    "self_"
                  ],
                  "type": "string"
                },
                {
                  "description": "Another person",
                  "enum": [
                    "person"
                  ],
                  "type": "string"
                },
                {
                  "description": "A place",
                  "enum": [
                    "place"
                  ],
                  "type": "string"
                },
                {
                  "description": "An organization",
                  "enum": [
                    "organization"
                  ],
                  "type": "string"
                },
                {
                  "description": "A concept/topic",
                  "enum": [
                    "concept"
                  ],
                  "type": "string"
                },
                {
                  "description": "An event",
                  "enum": [
                    "event"
                  ],
                  "type": "string"
                },
                {
                  "description": "An object/thing",
                  "enum": [
                    "object"
                  ],
                  "type": "string"
                },
                {
                  "description": "Unknown/other",
                  "enum": [
                    "other"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Reference to a subject",
          "properties": {
            "confidence": {
              "description": "Confidence in identification",
              "format": "double",
              "type": "number"
            },
            "name": {
              "description": "Name/label of subject",
              "type": "string"
            },
            "subject_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/SubjectType"
                }
              ],
              "description": "Type of subject"
            },
            "thread_id": {
              "default": null,
              "description": "Matched thread ID (if resolved)",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "confidence",
            "name",
            "subject_type"
          ],
          "title": "SubjectReference",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SubjectReference.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "a3fc54a24d32614fc8efbe398e05c3be07f2d8aa1882e687334614878b409515",
      "created_at": "2025-12-18T18:59:43.178509Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BindingHints",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BindingType": {
              "description": "Types of cognitive binding",
              "oneOf": [
                {
                  "description": "Cause leads to effect",
                  "enum": [
                    "causal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal sequence (before/after)",
                  "enum": [
                    "temporal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Associated by proximity/context",
                  "enum": [
                    "associative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Part-whole relationship",
                  "enum": [
                    "compositional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Contrast/opposition",
                  "enum": [
                    "contrastive"
                  ],
                  "type": "string"
                },
                {
                  "description": "Similarity/analogy",
                  "enum": [
                    "analogical"
                  ],
                  "type": "string"
                },
                {
                  "description": "Enables/prerequisite",
                  "enum": [
                    "enabling"
                  ],
                  "type": "string"
                },
                {
                  "description": "Thematic connection",
                  "enum": [
                    "thematic"
                  ],
                  "type": "string"
                }
              ]
            },
            "Directionality": {
              "description": "Directionality of binding",
              "oneOf": [
                {
                  "description": "Only source  target",
                  "enum": [
                    "unidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Both directions",
                  "enum": [
                    "bidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "No inherent direction",
                  "enum": [
                    "undirected"
                  ],
                  "type": "string"
                }
              ]
            },
            "EntityReference": {
              "description": "Reference to an entity for binding",
              "properties": {
                "description": {
                  "description": "Description for matching",
                  "type": "string"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityType"
                    }
                  ],
                  "description": "Entity type"
                },
                "id": {
                  "default": null,
                  "description": "Entity ID (if existing)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "description",
                "entity_type"
              ],
              "type": "object"
            },
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            },
            "TemporalBinding": {
              "description": "Temporal aspect of binding",
              "properties": {
                "gap": {
                  "default": null,
                  "description": "Time gap (if known)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relation": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalRelation"
                    }
                  ],
                  "description": "Time relationship"
                }
              },
              "required": [
                "relation"
              ],
              "type": "object"
            },
            "TemporalRelation": {
              "description": "Temporal relationships",
              "enum": [
                "before",
                "after",
                "during",
                "simultaneous",
                "overlapping"
              ],
              "type": "string"
            }
          },
          "description": "Hints for cognitive binding between entities",
          "properties": {
            "binding_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/BindingType"
                }
              ],
              "description": "Type of cognitive binding"
            },
            "context": {
              "default": null,
              "description": "Context explaining the binding",
              "type": [
                "string",
                "null"
              ]
            },
            "directionality": {
              "allOf": [
                {
                  "$ref": "#/definitions/Directionality"
                }
              ],
              "description": "Directionality of binding"
            },
            "source": {
              "allOf": [
                {
                  "$ref": "#/definitions/EntityReference"
                }
              ],
              "description": "Source entity"
            },
            "strength": {
              "description": "Strength of binding (0.0 to 1.0)",
              "format": "double",
              "type": "number"
            },
            "target": {
              "allOf": [
                {
                  "$ref": "#/definitions/EntityReference"
                }
              ],
              "description": "Target entity"
            },
            "temporal": {
              "anyOf": [
                {
                  "$ref": "#/definitions/TemporalBinding"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Temporal aspect of binding"
            }
          },
          "required": [
            "binding_type",
            "directionality",
            "source",
            "strength",
            "target"
          ],
          "title": "BindingHints",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BindingHints.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "a0f92b9117b4a43de48a6525e7f7f7486ad301b2c1b8f604df7bf4fb23a5e74f",
      "created_at": "2025-12-18T18:59:43.178619Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SegmentationConfig",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Configuration for segmentation behavior",
          "properties": {
            "extract_entities": {
              "default": true,
              "description": "Whether to extract entity mentions",
              "type": "boolean"
            },
            "extract_temporal": {
              "default": true,
              "description": "Whether to extract temporal markers",
              "type": "boolean"
            },
            "language": {
              "default": null,
              "description": "Language hint (ISO 639-1)",
              "type": [
                "string",
                "null"
              ]
            },
            "max_segments": {
              "default": 20,
              "description": "Maximum number of segments to produce",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "min_segment_length": {
              "default": null,
              "description": "Minimum segment length (chars for text, seconds for audio/video)",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            }
          },
          "title": "SegmentationConfig",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SegmentationConfig.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "5856ddb55746b47f8278f0e8b30f9bc24691444274dbe82f30dc92a438d53666",
      "created_at": "2025-12-18T18:59:43.178896Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BindingHintInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ContextWindow": {
              "description": "Context window for binding analysis",
              "properties": {
                "following": {
                  "default": [],
                  "description": "Following content",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "preceding": {
                  "default": [],
                  "description": "Preceding content",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "time_span_hours": {
                  "default": null,
                  "description": "Time span in hours",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "EmotionalTone": {
              "description": "Emotional tone detected in segment",
              "properties": {
                "arousal": {
                  "description": "Arousal (0.0 calm to 1.0 excited)",
                  "format": "double",
                  "type": "number"
                },
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "primary": {
                  "description": "Primary emotion",
                  "type": "string"
                },
                "valence": {
                  "description": "Valence (-1.0 negative to 1.0 positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "confidence",
                "primary",
                "valence"
              ],
              "type": "object"
            },
            "EntityMention": {
              "description": "An entity mention within a segment",
              "properties": {
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "end": {
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityMentionType"
                    }
                  ],
                  "description": "Type of entity mentioned"
                },
                "resolved_id": {
                  "default": null,
                  "description": "Resolved entity ID (if matched to known entity)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Position in segment",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "text": {
                  "description": "The text of the mention",
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "end",
                "entity_type",
                "start",
                "text"
              ],
              "type": "object"
            },
            "EntityMentionType": {
              "description": "Types of entity mentions",
              "enum": [
                "PERSON",
                "PLACE",
                "ORGANIZATION",
                "DATE_TIME",
                "EVENT",
                "CONCEPT",
                "OBJECT",
                "ACTIVITY"
              ],
              "type": "string"
            },
            "EntityRef": {
              "description": "Reference to an entity for binding",
              "properties": {
                "content": {
                  "description": "Content/description",
                  "type": "string"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityType"
                    }
                  ],
                  "description": "Entity type"
                },
                "id": {
                  "default": null,
                  "description": "Entity ID (if existing)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "timestamp": {
                  "default": null,
                  "description": "When created (for temporal binding)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content",
                "entity_type"
              ],
              "type": "object"
            },
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            },
            "Modality": {
              "description": "Supported input modalities",
              "enum": [
                "text",
                "audio",
                "vision",
                "video"
              ],
              "type": "string"
            },
            "ParsedTemporal": {
              "description": "Parsed temporal information",
              "properties": {
                "date": {
                  "default": null,
                  "description": "ISO 8601 date if specific",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relative_days": {
                  "default": null,
                  "description": "Relative offset (e.g., -1 for \"yesterday\")",
                  "format": "int32",
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "time_of_day": {
                  "default": null,
                  "description": "Time of day if mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "Segment": {
              "description": "A segmented unit of content",
              "properties": {
                "boundaries": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentBoundaries"
                    }
                  ],
                  "description": "Segment boundaries"
                },
                "confidence": {
                  "description": "Confidence in segmentation decision",
                  "format": "double",
                  "type": "number"
                },
                "content": {
                  "description": "The segmented content",
                  "type": "string"
                },
                "features": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentFeatures"
                    }
                  ],
                  "description": "Extracted features"
                },
                "id": {
                  "description": "Unique segment ID",
                  "type": "string"
                },
                "index": {
                  "description": "Index in the sequence",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "modality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Modality"
                    }
                  ],
                  "description": "Original modality"
                }
              },
              "required": [
                "boundaries",
                "confidence",
                "content",
                "features",
                "id",
                "index",
                "modality"
              ],
              "type": "object"
            },
            "SegmentBoundaries": {
              "description": "Boundaries of a segment within the original input",
              "properties": {
                "end": {
                  "description": "End position",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "speaker_id": {
                  "default": null,
                  "description": "For audio/video: speaker ID if detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Start position (char index for text, milliseconds for audio/video)",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "end",
                "start"
              ],
              "type": "object"
            },
            "SegmentFeatures": {
              "description": "Extracted features from a segment",
              "properties": {
                "emotional_tone": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/EmotionalTone"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Emotional tone (if detectable)"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "language": {
                  "default": null,
                  "description": "Language detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "mentions": {
                  "default": [],
                  "description": "Entity mentions found",
                  "items": {
                    "$ref": "#/definitions/EntityMention"
                  },
                  "type": "array"
                },
                "subject": {
                  "default": null,
                  "description": "Primary subject/actor mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "temporal_markers": {
                  "default": [],
                  "description": "Temporal markers detected",
                  "items": {
                    "$ref": "#/definitions/TemporalMarker"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "TemporalMarker": {
              "description": "A temporal marker in the segment",
              "properties": {
                "marker_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalMarkerType"
                    }
                  ],
                  "description": "Type of temporal reference"
                },
                "parsed": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ParsedTemporal"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Parsed temporal value (if parseable)"
                },
                "text": {
                  "description": "The text of the marker",
                  "type": "string"
                }
              },
              "required": [
                "marker_type",
                "text"
              ],
              "type": "object"
            },
            "TemporalMarkerType": {
              "description": "Types of temporal markers",
              "oneOf": [
                {
                  "description": "Specific date (January 5th)",
                  "enum": [
                    "absolute"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relative reference (yesterday, last week)",
                  "enum": [
                    "relative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Duration (for 2 hours)",
                  "enum": [
                    "duration"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency (every day, weekly)",
                  "enum": [
                    "frequency"
                  ],
                  "type": "string"
                },
                {
                  "description": "Time of day (in the morning)",
                  "enum": [
                    "time_of_day"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Input for binding hint generation",
          "properties": {
            "context_window": {
              "anyOf": [
                {
                  "$ref": "#/definitions/ContextWindow"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Context window for binding analysis"
            },
            "current_entity": {
              "allOf": [
                {
                  "$ref": "#/definitions/EntityRef"
                }
              ],
              "description": "Entity being spawned"
            },
            "recent_entities": {
              "default": [],
              "description": "Recent entities for binding detection",
              "items": {
                "$ref": "#/definitions/EntityRef"
              },
              "type": "array"
            },
            "segment": {
              "allOf": [
                {
                  "$ref": "#/definitions/Segment"
                }
              ],
              "description": "The current segment"
            }
          },
          "required": [
            "current_entity",
            "segment"
          ],
          "title": "BindingHintInput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BindingHintInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "35fc31ea1c041907d66d7bafcb2f978a59bb0c313dd5bcaff5233bbdc80589fc",
      "created_at": "2025-12-18T18:59:43.179073Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EvidenceType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Types of evidence for classification",
          "oneOf": [
            {
              "description": "Verb type (action vs state)",
              "enum": [
                "verb_type"
              ],
              "type": "string"
            },
            {
              "description": "Keywords detected",
              "enum": [
                "keywords"
              ],
              "type": "string"
            },
            {
              "description": "Temporal indicators",
              "enum": [
                "temporal"
              ],
              "type": "string"
            },
            {
              "description": "Emotional indicators",
              "enum": [
                "emotional"
              ],
              "type": "string"
            },
            {
              "description": "Entity mentions",
              "enum": [
                "entity_mention"
              ],
              "type": "string"
            },
            {
              "description": "Relational language",
              "enum": [
                "relational"
              ],
              "type": "string"
            },
            {
              "description": "Pattern indicators",
              "enum": [
                "pattern"
              ],
              "type": "string"
            },
            {
              "description": "Context from surrounding content",
              "enum": [
                "context"
              ],
              "type": "string"
            }
          ],
          "title": "EvidenceType"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/EvidenceType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2e640f2a983e6000e2ef40166e40cf69189946b95c54dd460fa073b3a2eb460d",
      "created_at": "2025-12-18T18:59:43.179330Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ClassifiedPurpose",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ToolPurpose": {
              "description": "Primary purpose of user's message",
              "oneOf": [
                {
                  "description": "Recording memories, events, observations - wants to store",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information returned",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Making connections, deriving insights - wants system to infer",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities - wants existing data",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis or reflection - wants patterns identified",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "System command/instruction - wants action taken",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Social/conversational - greeting, acknowledgment",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Clarifying or continuing previous message",
                  "enum": [
                    "CONTINUATION"
                  ],
                  "type": "string"
                },
                {
                  "description": "Editing or correcting previous input",
                  "enum": [
                    "CORRECTION"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "A classified purpose with confidence",
          "properties": {
            "confidence": {
              "description": "Confidence score (0.0 to 1.0)",
              "format": "double",
              "type": "number"
            },
            "evidence": {
              "default": [],
              "description": "Evidence/reasoning for classification",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "purpose": {
              "allOf": [
                {
                  "$ref": "#/definitions/ToolPurpose"
                }
              ],
              "description": "The purpose of the message"
            }
          },
          "required": [
            "confidence",
            "purpose"
          ],
          "title": "ClassifiedPurpose",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ClassifiedPurpose.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "eb236f7e6f93adf5f36ea1cb3badba0a0d00a53d584caec4f1cd21169932c722",
      "created_at": "2025-12-18T18:59:43.179534Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ContextWindow",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Context window for binding analysis",
          "properties": {
            "following": {
              "default": [],
              "description": "Following content",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "preceding": {
              "default": [],
              "description": "Preceding content",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "time_span_hours": {
              "default": null,
              "description": "Time span in hours",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            }
          },
          "title": "ContextWindow",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ContextWindow.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "400551c84c82db496fe9c7c6064914b4b25fb2d5d84710c3bf95a54bf73d9839",
      "created_at": "2025-12-18T18:59:43.179637Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ThreadHintInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EmotionalTone": {
              "description": "Emotional tone detected in segment",
              "properties": {
                "arousal": {
                  "description": "Arousal (0.0 calm to 1.0 excited)",
                  "format": "double",
                  "type": "number"
                },
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "primary": {
                  "description": "Primary emotion",
                  "type": "string"
                },
                "valence": {
                  "description": "Valence (-1.0 negative to 1.0 positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "confidence",
                "primary",
                "valence"
              ],
              "type": "object"
            },
            "EntityMention": {
              "description": "An entity mention within a segment",
              "properties": {
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "end": {
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityMentionType"
                    }
                  ],
                  "description": "Type of entity mentioned"
                },
                "resolved_id": {
                  "default": null,
                  "description": "Resolved entity ID (if matched to known entity)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Position in segment",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "text": {
                  "description": "The text of the mention",
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "end",
                "entity_type",
                "start",
                "text"
              ],
              "type": "object"
            },
            "EntityMentionType": {
              "description": "Types of entity mentions",
              "enum": [
                "PERSON",
                "PLACE",
                "ORGANIZATION",
                "DATE_TIME",
                "EVENT",
                "CONCEPT",
                "OBJECT",
                "ACTIVITY"
              ],
              "type": "string"
            },
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            },
            "Modality": {
              "description": "Supported input modalities",
              "enum": [
                "text",
                "audio",
                "vision",
                "video"
              ],
              "type": "string"
            },
            "ParsedTemporal": {
              "description": "Parsed temporal information",
              "properties": {
                "date": {
                  "default": null,
                  "description": "ISO 8601 date if specific",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relative_days": {
                  "default": null,
                  "description": "Relative offset (e.g., -1 for \"yesterday\")",
                  "format": "int32",
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "time_of_day": {
                  "default": null,
                  "description": "Time of day if mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "RecentThread": {
              "description": "A recently referenced thread",
              "properties": {
                "mention_count": {
                  "description": "Mention count in recent context",
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "recency": {
                  "description": "How recently mentioned (in messages)",
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "thread": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadReference"
                    }
                  ],
                  "description": "Thread reference"
                }
              },
              "required": [
                "mention_count",
                "recency",
                "thread"
              ],
              "type": "object"
            },
            "Segment": {
              "description": "A segmented unit of content",
              "properties": {
                "boundaries": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentBoundaries"
                    }
                  ],
                  "description": "Segment boundaries"
                },
                "confidence": {
                  "description": "Confidence in segmentation decision",
                  "format": "double",
                  "type": "number"
                },
                "content": {
                  "description": "The segmented content",
                  "type": "string"
                },
                "features": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentFeatures"
                    }
                  ],
                  "description": "Extracted features"
                },
                "id": {
                  "description": "Unique segment ID",
                  "type": "string"
                },
                "index": {
                  "description": "Index in the sequence",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "modality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Modality"
                    }
                  ],
                  "description": "Original modality"
                }
              },
              "required": [
                "boundaries",
                "confidence",
                "content",
                "features",
                "id",
                "index",
                "modality"
              ],
              "type": "object"
            },
            "SegmentBoundaries": {
              "description": "Boundaries of a segment within the original input",
              "properties": {
                "end": {
                  "description": "End position",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "speaker_id": {
                  "default": null,
                  "description": "For audio/video: speaker ID if detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Start position (char index for text, milliseconds for audio/video)",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "end",
                "start"
              ],
              "type": "object"
            },
            "SegmentFeatures": {
              "description": "Extracted features from a segment",
              "properties": {
                "emotional_tone": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/EmotionalTone"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Emotional tone (if detectable)"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "language": {
                  "default": null,
                  "description": "Language detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "mentions": {
                  "default": [],
                  "description": "Entity mentions found",
                  "items": {
                    "$ref": "#/definitions/EntityMention"
                  },
                  "type": "array"
                },
                "subject": {
                  "default": null,
                  "description": "Primary subject/actor mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "temporal_markers": {
                  "default": [],
                  "description": "Temporal markers detected",
                  "items": {
                    "$ref": "#/definitions/TemporalMarker"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "TemporalMarker": {
              "description": "A temporal marker in the segment",
              "properties": {
                "marker_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalMarkerType"
                    }
                  ],
                  "description": "Type of temporal reference"
                },
                "parsed": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ParsedTemporal"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Parsed temporal value (if parseable)"
                },
                "text": {
                  "description": "The text of the marker",
                  "type": "string"
                }
              },
              "required": [
                "marker_type",
                "text"
              ],
              "type": "object"
            },
            "TemporalMarkerType": {
              "description": "Types of temporal markers",
              "oneOf": [
                {
                  "description": "Specific date (January 5th)",
                  "enum": [
                    "absolute"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relative reference (yesterday, last week)",
                  "enum": [
                    "relative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Duration (for 2 hours)",
                  "enum": [
                    "duration"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency (every day, weekly)",
                  "enum": [
                    "frequency"
                  ],
                  "type": "string"
                },
                {
                  "description": "Time of day (in the morning)",
                  "enum": [
                    "time_of_day"
                  ],
                  "type": "string"
                }
              ]
            },
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            }
          },
          "description": "Input for thread hint generation",
          "properties": {
            "entity_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/EntityType"
                }
              ],
              "description": "Entity type being spawned"
            },
            "known_threads": {
              "default": [],
              "description": "Known threads for matching",
              "items": {
                "$ref": "#/definitions/ThreadReference"
              },
              "type": "array"
            },
            "recent_threads": {
              "default": [],
              "description": "Recent threads for context",
              "items": {
                "$ref": "#/definitions/RecentThread"
              },
              "type": "array"
            },
            "segment": {
              "allOf": [
                {
                  "$ref": "#/definitions/Segment"
                }
              ],
              "description": "The segment to analyze"
            }
          },
          "required": [
            "entity_type",
            "segment"
          ],
          "title": "ThreadHintInput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ThreadHintInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "73c2f54a47519ce3a78ab8309c50a22f6d2876fa40c93178f32109904af13891",
      "created_at": "2025-12-18T18:59:43.179775Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "FilterOperator",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Filter operators",
          "enum": [
            "equals",
            "not_equals",
            "contains",
            "starts_with",
            "ends_with",
            "greater_than",
            "less_than",
            "between",
            "in",
            "not_in"
          ],
          "title": "FilterOperator",
          "type": "string"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/FilterOperator.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "0b839103f711ae74fe4a7da3edd0034c35943e6c26909d3dd4c392eade2bab1c",
      "created_at": "2025-12-18T18:59:43.180049Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SuggestedThread",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "SubjectType": {
              "description": "Types of subjects",
              "oneOf": [
                {
                  "description": "The user themselves",
                  "enum": [
                    "self_"
                  ],
                  "type": "string"
                },
                {
                  "description": "Another person",
                  "enum": [
                    "person"
                  ],
                  "type": "string"
                },
                {
                  "description": "A place",
                  "enum": [
                    "place"
                  ],
                  "type": "string"
                },
                {
                  "description": "An organization",
                  "enum": [
                    "organization"
                  ],
                  "type": "string"
                },
                {
                  "description": "A concept/topic",
                  "enum": [
                    "concept"
                  ],
                  "type": "string"
                },
                {
                  "description": "An event",
                  "enum": [
                    "event"
                  ],
                  "type": "string"
                },
                {
                  "description": "An object/thing",
                  "enum": [
                    "object"
                  ],
                  "type": "string"
                },
                {
                  "description": "Unknown/other",
                  "enum": [
                    "other"
                  ],
                  "type": "string"
                }
              ]
            },
            "ThreadCategory": {
              "description": "Categories for threads",
              "oneOf": [
                {
                  "description": "People (friends, family, colleagues)",
                  "enum": [
                    "people"
                  ],
                  "type": "string"
                },
                {
                  "description": "Places (home, work, cities)",
                  "enum": [
                    "places"
                  ],
                  "type": "string"
                },
                {
                  "description": "Activities (hobbies, work tasks)",
                  "enum": [
                    "activities"
                  ],
                  "type": "string"
                },
                {
                  "description": "Projects (ongoing endeavors)",
                  "enum": [
                    "projects"
                  ],
                  "type": "string"
                },
                {
                  "description": "Topics (interests, subjects)",
                  "enum": [
                    "topics"
                  ],
                  "type": "string"
                },
                {
                  "description": "Events (recurring or one-time)",
                  "enum": [
                    "events"
                  ],
                  "type": "string"
                },
                {
                  "description": "Groups (teams, organizations)",
                  "enum": [
                    "groups"
                  ],
                  "type": "string"
                },
                {
                  "description": "Health (physical, mental)",
                  "enum": [
                    "health"
                  ],
                  "type": "string"
                },
                {
                  "description": "Finance (money, investments)",
                  "enum": [
                    "finance"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationships",
                  "enum": [
                    "relationships"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "A suggested new thread to create",
          "properties": {
            "aliases": {
              "default": [],
              "description": "Aliases to register",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "category": {
              "allOf": [
                {
                  "$ref": "#/definitions/ThreadCategory"
                }
              ],
              "description": "Category"
            },
            "confidence": {
              "description": "Confidence in suggestion",
              "format": "double",
              "type": "number"
            },
            "name": {
              "description": "Suggested name",
              "type": "string"
            },
            "reason": {
              "description": "Why this thread should be created",
              "type": "string"
            },
            "thread_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/SubjectType"
                }
              ],
              "description": "Type of thread"
            }
          },
          "required": [
            "category",
            "confidence",
            "name",
            "reason",
            "thread_type"
          ],
          "title": "SuggestedThread",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SuggestedThread.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "9e204e0d7cf9095c4fcb55959ed2ef092ca568861e0891779fbb947a43f6dbb9",
      "created_at": "2025-12-18T18:59:43.180159Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityClassificationContext",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EntityPatterns": {
              "description": "User's historical entity patterns",
              "properties": {
                "distribution": {
                  "additionalProperties": {
                    "format": "double",
                    "type": "number"
                  },
                  "default": {},
                  "description": "Distribution (entity_type -> frequency)",
                  "type": "object"
                },
                "primary_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityType"
                    }
                  ],
                  "description": "Most common entity type"
                }
              },
              "required": [
                "primary_type"
              ],
              "type": "object"
            },
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            },
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            }
          },
          "description": "Context for entity classification",
          "properties": {
            "following": {
              "default": null,
              "description": "Following segment content (for context)",
              "type": [
                "string",
                "null"
              ]
            },
            "known_threads": {
              "default": [],
              "description": "Known threads for reference",
              "items": {
                "$ref": "#/definitions/ThreadReference"
              },
              "type": "array"
            },
            "preceding": {
              "default": null,
              "description": "Preceding segment content (for context)",
              "type": [
                "string",
                "null"
              ]
            },
            "user_patterns": {
              "anyOf": [
                {
                  "$ref": "#/definitions/EntityPatterns"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "User's entity type distribution"
            }
          },
          "title": "EntityClassificationContext",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/EntityClassificationContext.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ce354c62165d453de9d08b4e53c095c6b8c77fd13aa93fe30d4f742de9186ccd",
      "created_at": "2025-12-18T18:59:43.180261Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityMention",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EntityMentionType": {
              "description": "Types of entity mentions",
              "enum": [
                "PERSON",
                "PLACE",
                "ORGANIZATION",
                "DATE_TIME",
                "EVENT",
                "CONCEPT",
                "OBJECT",
                "ACTIVITY"
              ],
              "type": "string"
            }
          },
          "description": "An entity mention within a segment",
          "properties": {
            "confidence": {
              "description": "Confidence in detection",
              "format": "double",
              "type": "number"
            },
            "end": {
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "entity_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/EntityMentionType"
                }
              ],
              "description": "Type of entity mentioned"
            },
            "resolved_id": {
              "default": null,
              "description": "Resolved entity ID (if matched to known entity)",
              "type": [
                "string",
                "null"
              ]
            },
            "start": {
              "description": "Position in segment",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "text": {
              "description": "The text of the mention",
              "type": "string"
            }
          },
          "required": [
            "confidence",
            "end",
            "entity_type",
            "start",
            "text"
          ],
          "title": "EntityMention",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/EntityMention.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6b18871b59afc1f9c14652b377c7165f6fc1e5497c261712c4a64d7498cbf268",
      "created_at": "2025-12-18T18:59:43.180424Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BondHintOutput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BondChanges": {
              "description": "Changes to bond characteristics",
              "properties": {
                "new_relationship_type": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/RelationshipType"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null
                },
                "strength_delta": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "trust_delta": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "valence_delta": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "BondCharacteristics": {
              "description": "Bond characteristics",
              "properties": {
                "duration": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/RelationshipDuration"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Duration of relationship"
                },
                "interaction_frequency": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/InteractionFrequency"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Frequency of interaction"
                },
                "intimacy": {
                  "description": "Intimacy level (0.0 distant to 1.0 close)",
                  "format": "double",
                  "type": "number"
                },
                "reciprocity": {
                  "description": "Reciprocity (0.0 one-sided to 1.0 mutual)",
                  "format": "double",
                  "type": "number"
                },
                "relationship_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/RelationshipType"
                    }
                  ],
                  "description": "Type of relationship"
                },
                "strength": {
                  "description": "Strength of relationship (0.0 weak to 1.0 strong)",
                  "format": "double",
                  "type": "number"
                },
                "trust": {
                  "description": "Trust level (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "valence": {
                  "description": "Valence (-1.0 negative to 1.0 positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "intimacy",
                "reciprocity",
                "relationship_type",
                "strength",
                "trust",
                "valence"
              ],
              "type": "object"
            },
            "BondEvidence": {
              "description": "Evidence for bond detection",
              "properties": {
                "indicator_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/BondIndicatorType"
                    }
                  ],
                  "description": "Type of indicator"
                },
                "indicators": {
                  "default": [],
                  "description": "Specific indicators found",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "trigger_text": {
                  "description": "Text that indicates the relationship",
                  "type": "string"
                }
              },
              "required": [
                "indicator_type",
                "trigger_text"
              ],
              "type": "object"
            },
            "BondIndicatorType": {
              "description": "Types of bond indicators",
              "oneOf": [
                {
                  "description": "Explicit label (\"my friend\", \"my boss\")",
                  "enum": [
                    "explicit_label"
                  ],
                  "type": "string"
                },
                {
                  "description": "Action indicating relationship (\"had dinner with\")",
                  "enum": [
                    "relational_action"
                  ],
                  "type": "string"
                },
                {
                  "description": "Emotional language about entity",
                  "enum": [
                    "emotional_language"
                  ],
                  "type": "string"
                },
                {
                  "description": "Possessive language (\"my\", \"our\")",
                  "enum": [
                    "possessive_language"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency indicators (\"always see\", \"often talk\")",
                  "enum": [
                    "frequency_indicator"
                  ],
                  "type": "string"
                },
                {
                  "description": "Context from previous interactions",
                  "enum": [
                    "contextual_inference"
                  ],
                  "type": "string"
                }
              ]
            },
            "BondUpdate": {
              "description": "Update to an existing bond",
              "properties": {
                "bond_id": {
                  "description": "ID of bond to update",
                  "type": "string"
                },
                "changes": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/BondChanges"
                    }
                  ],
                  "description": "Changes to apply"
                },
                "reason": {
                  "description": "Reason for update",
                  "type": "string"
                }
              },
              "required": [
                "bond_id",
                "changes",
                "reason"
              ],
              "type": "object"
            },
            "DetectedBond": {
              "description": "A detected bond between entities",
              "properties": {
                "characteristics": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/BondCharacteristics"
                    }
                  ],
                  "description": "Bond characteristics"
                },
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "evidence": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/BondEvidence"
                    }
                  ],
                  "description": "Evidence for this bond"
                },
                "head": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadReference"
                    }
                  ],
                  "description": "Source entity (head)"
                },
                "tail": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadReference"
                    }
                  ],
                  "description": "Target entity (tail)"
                }
              },
              "required": [
                "characteristics",
                "confidence",
                "evidence",
                "head",
                "tail"
              ],
              "type": "object"
            },
            "DurationCategory": {
              "description": "Duration categories",
              "enum": [
                "new",
                "recent",
                "established",
                "long_term",
                "lifelong"
              ],
              "type": "string"
            },
            "InteractionFrequency": {
              "description": "Interaction frequency",
              "enum": [
                "daily",
                "weekly",
                "monthly",
                "quarterly",
                "yearly",
                "rarely"
              ],
              "type": "string"
            },
            "RelationshipDuration": {
              "description": "Relationship duration",
              "properties": {
                "category": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/DurationCategory"
                    }
                  ],
                  "description": "Duration category"
                },
                "since": {
                  "default": null,
                  "description": "Start date if known",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "years": {
                  "default": null,
                  "description": "How long the relationship has existed",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "required": [
                "category"
              ],
              "type": "object"
            },
            "RelationshipType": {
              "description": "Types of relationships",
              "enum": [
                "family",
                "friend",
                "close_friend",
                "best_friend",
                "romantic",
                "ex_romantic",
                "spouse",
                "parent",
                "child",
                "sibling",
                "colleague",
                "manager",
                "direct_report",
                "mentor",
                "mentee",
                "client",
                "vendor",
                "partner",
                "acquaintance",
                "neighbor",
                "classmate",
                "teammate",
                "adversary",
                "rival",
                "service_provider",
                "other"
              ],
              "type": "string"
            },
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            }
          },
          "description": "Output from bond hint generation",
          "properties": {
            "bond_updates": {
              "default": [],
              "description": "Updates to existing bonds",
              "items": {
                "$ref": "#/definitions/BondUpdate"
              },
              "type": "array"
            },
            "bonds": {
              "description": "Detected bonds",
              "items": {
                "$ref": "#/definitions/DetectedBond"
              },
              "type": "array"
            }
          },
          "required": [
            "bonds"
          ],
          "title": "BondHintOutput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BondHintOutput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b7c59aef85a91462a5fbcecdb2bca17b83886bcae226df54b1e2c6e965707b30",
      "created_at": "2025-12-18T18:59:43.180548Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ToolPurpose",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Primary purpose of user's message",
          "oneOf": [
            {
              "description": "Recording memories, events, observations - wants to store",
              "enum": [
                "LOG"
              ],
              "type": "string"
            },
            {
              "description": "Asking a question - wants information returned",
              "enum": [
                "QUERY"
              ],
              "type": "string"
            },
            {
              "description": "Making connections, deriving insights - wants system to infer",
              "enum": [
                "INFER"
              ],
              "type": "string"
            },
            {
              "description": "Looking up specific entities - wants existing data",
              "enum": [
                "REFERENCE"
              ],
              "type": "string"
            },
            {
              "description": "Requesting analysis or reflection - wants patterns identified",
              "enum": [
                "REFLECT"
              ],
              "type": "string"
            },
            {
              "description": "System command/instruction - wants action taken",
              "enum": [
                "COMMAND"
              ],
              "type": "string"
            },
            {
              "description": "Social/conversational - greeting, acknowledgment",
              "enum": [
                "SOCIAL"
              ],
              "type": "string"
            },
            {
              "description": "Clarifying or continuing previous message",
              "enum": [
                "CONTINUATION"
              ],
              "type": "string"
            },
            {
              "description": "Editing or correcting previous input",
              "enum": [
                "CORRECTION"
              ],
              "type": "string"
            }
          ],
          "title": "ToolPurpose"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ToolPurpose.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "5c76fe9d2fd0ecd25c1625c52f68b9fbd7dbdb8472d8ffab0638d3d2d7304f36",
      "created_at": "2025-12-18T18:59:43.180725Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ToolError",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ToolErrorCode": {
              "description": "Error codes for tool failures",
              "oneOf": [
                {
                  "description": "Invalid input parameters",
                  "enum": [
                    "INVALID_INPUT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Missing required parameter",
                  "enum": [
                    "MISSING_PARAMETER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Parameter validation failed",
                  "enum": [
                    "VALIDATION_FAILED"
                  ],
                  "type": "string"
                },
                {
                  "description": "Tool execution timed out",
                  "enum": [
                    "TIMEOUT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Rate limit exceeded",
                  "enum": [
                    "RATE_LIMITED"
                  ],
                  "type": "string"
                },
                {
                  "description": "External service unavailable",
                  "enum": [
                    "SERVICE_UNAVAILABLE"
                  ],
                  "type": "string"
                },
                {
                  "description": "LLM API error",
                  "enum": [
                    "LLM_ERROR"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal tool error",
                  "enum": [
                    "INTERNAL_ERROR"
                  ],
                  "type": "string"
                },
                {
                  "description": "Resource not found",
                  "enum": [
                    "NOT_FOUND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Permission denied",
                  "enum": [
                    "PERMISSION_DENIED"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Error types for tool failures",
          "properties": {
            "code": {
              "allOf": [
                {
                  "$ref": "#/definitions/ToolErrorCode"
                }
              ],
              "description": "Error code for programmatic handling"
            },
            "details": {
              "default": null,
              "description": "Additional error details"
            },
            "message": {
              "description": "Human-readable error message",
              "type": "string"
            },
            "retryable": {
              "description": "Whether this error is retryable",
              "type": "boolean"
            }
          },
          "required": [
            "code",
            "message",
            "retryable"
          ],
          "title": "ToolError",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ToolError.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e259123f0e468156c26a207ab9d3c76d345634c9f6b1254218f7f6d0b28333b0",
      "created_at": "2025-12-18T18:59:43.180824Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Entity types from the Symmetric Seven ontology",
          "oneOf": [
            {
              "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
              "enum": [
                "MOMENT"
              ],
              "type": "string"
            },
            {
              "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
              "enum": [
                "PULSE"
              ],
              "type": "string"
            },
            {
              "description": "Definition of person, place, or concept (Definitional/Object)",
              "enum": [
                "THREAD"
              ],
              "type": "string"
            },
            {
              "description": "Relationship between entities (Relational/Connection)",
              "enum": [
                "BOND"
              ],
              "type": "string"
            },
            {
              "description": "A recurring external pattern (External Wave)",
              "enum": [
                "MOTIF"
              ],
              "type": "string"
            },
            {
              "description": "A recurring internal pattern (Internal Wave)",
              "enum": [
                "FILAMENT"
              ],
              "type": "string"
            },
            {
              "description": "An active thematic goal (Intentional Wave)",
              "enum": [
                "FOCUS"
              ],
              "type": "string"
            },
            {
              "description": "A task or goal for the future (Operational/Intentional Particle)",
              "enum": [
                "INTENT"
              ],
              "type": "string"
            }
          ],
          "title": "EntityType"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/EntityType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "beaa71f71bc433e007154ed4f6d13c2b3a0fdd2c9eafe700b777b9ad0d05db0f",
      "created_at": "2025-12-18T18:59:43.180913Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityClassifierInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ClassifiedPurpose": {
              "description": "A classified purpose with confidence",
              "properties": {
                "confidence": {
                  "description": "Confidence score (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "evidence": {
                  "default": [],
                  "description": "Evidence/reasoning for classification",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "purpose": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ToolPurpose"
                    }
                  ],
                  "description": "The purpose of the message"
                }
              },
              "required": [
                "confidence",
                "purpose"
              ],
              "type": "object"
            },
            "EmotionalTone": {
              "description": "Emotional tone detected in segment",
              "properties": {
                "arousal": {
                  "description": "Arousal (0.0 calm to 1.0 excited)",
                  "format": "double",
                  "type": "number"
                },
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "primary": {
                  "description": "Primary emotion",
                  "type": "string"
                },
                "valence": {
                  "description": "Valence (-1.0 negative to 1.0 positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "confidence",
                "primary",
                "valence"
              ],
              "type": "object"
            },
            "EntityClassificationContext": {
              "description": "Context for entity classification",
              "properties": {
                "following": {
                  "default": null,
                  "description": "Following segment content (for context)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "known_threads": {
                  "default": [],
                  "description": "Known threads for reference",
                  "items": {
                    "$ref": "#/definitions/ThreadReference"
                  },
                  "type": "array"
                },
                "preceding": {
                  "default": null,
                  "description": "Preceding segment content (for context)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "user_patterns": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/EntityPatterns"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "User's entity type distribution"
                }
              },
              "type": "object"
            },
            "EntityMention": {
              "description": "An entity mention within a segment",
              "properties": {
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "end": {
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityMentionType"
                    }
                  ],
                  "description": "Type of entity mentioned"
                },
                "resolved_id": {
                  "default": null,
                  "description": "Resolved entity ID (if matched to known entity)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Position in segment",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "text": {
                  "description": "The text of the mention",
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "end",
                "entity_type",
                "start",
                "text"
              ],
              "type": "object"
            },
            "EntityMentionType": {
              "description": "Types of entity mentions",
              "enum": [
                "PERSON",
                "PLACE",
                "ORGANIZATION",
                "DATE_TIME",
                "EVENT",
                "CONCEPT",
                "OBJECT",
                "ACTIVITY"
              ],
              "type": "string"
            },
            "EntityPatterns": {
              "description": "User's historical entity patterns",
              "properties": {
                "distribution": {
                  "additionalProperties": {
                    "format": "double",
                    "type": "number"
                  },
                  "default": {},
                  "description": "Distribution (entity_type -> frequency)",
                  "type": "object"
                },
                "primary_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityType"
                    }
                  ],
                  "description": "Most common entity type"
                }
              },
              "required": [
                "primary_type"
              ],
              "type": "object"
            },
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            },
            "Modality": {
              "description": "Supported input modalities",
              "enum": [
                "text",
                "audio",
                "vision",
                "video"
              ],
              "type": "string"
            },
            "ParsedTemporal": {
              "description": "Parsed temporal information",
              "properties": {
                "date": {
                  "default": null,
                  "description": "ISO 8601 date if specific",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relative_days": {
                  "default": null,
                  "description": "Relative offset (e.g., -1 for \"yesterday\")",
                  "format": "int32",
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "time_of_day": {
                  "default": null,
                  "description": "Time of day if mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "Segment": {
              "description": "A segmented unit of content",
              "properties": {
                "boundaries": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentBoundaries"
                    }
                  ],
                  "description": "Segment boundaries"
                },
                "confidence": {
                  "description": "Confidence in segmentation decision",
                  "format": "double",
                  "type": "number"
                },
                "content": {
                  "description": "The segmented content",
                  "type": "string"
                },
                "features": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentFeatures"
                    }
                  ],
                  "description": "Extracted features"
                },
                "id": {
                  "description": "Unique segment ID",
                  "type": "string"
                },
                "index": {
                  "description": "Index in the sequence",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "modality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Modality"
                    }
                  ],
                  "description": "Original modality"
                }
              },
              "required": [
                "boundaries",
                "confidence",
                "content",
                "features",
                "id",
                "index",
                "modality"
              ],
              "type": "object"
            },
            "SegmentBoundaries": {
              "description": "Boundaries of a segment within the original input",
              "properties": {
                "end": {
                  "description": "End position",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "speaker_id": {
                  "default": null,
                  "description": "For audio/video: speaker ID if detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Start position (char index for text, milliseconds for audio/video)",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "end",
                "start"
              ],
              "type": "object"
            },
            "SegmentFeatures": {
              "description": "Extracted features from a segment",
              "properties": {
                "emotional_tone": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/EmotionalTone"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Emotional tone (if detectable)"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "language": {
                  "default": null,
                  "description": "Language detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "mentions": {
                  "default": [],
                  "description": "Entity mentions found",
                  "items": {
                    "$ref": "#/definitions/EntityMention"
                  },
                  "type": "array"
                },
                "subject": {
                  "default": null,
                  "description": "Primary subject/actor mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "temporal_markers": {
                  "default": [],
                  "description": "Temporal markers detected",
                  "items": {
                    "$ref": "#/definitions/TemporalMarker"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "TemporalMarker": {
              "description": "A temporal marker in the segment",
              "properties": {
                "marker_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalMarkerType"
                    }
                  ],
                  "description": "Type of temporal reference"
                },
                "parsed": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ParsedTemporal"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Parsed temporal value (if parseable)"
                },
                "text": {
                  "description": "The text of the marker",
                  "type": "string"
                }
              },
              "required": [
                "marker_type",
                "text"
              ],
              "type": "object"
            },
            "TemporalMarkerType": {
              "description": "Types of temporal markers",
              "oneOf": [
                {
                  "description": "Specific date (January 5th)",
                  "enum": [
                    "absolute"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relative reference (yesterday, last week)",
                  "enum": [
                    "relative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Duration (for 2 hours)",
                  "enum": [
                    "duration"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency (every day, weekly)",
                  "enum": [
                    "frequency"
                  ],
                  "type": "string"
                },
                {
                  "description": "Time of day (in the morning)",
                  "enum": [
                    "time_of_day"
                  ],
                  "type": "string"
                }
              ]
            },
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            },
            "ToolPurpose": {
              "description": "Primary purpose of user's message",
              "oneOf": [
                {
                  "description": "Recording memories, events, observations - wants to store",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information returned",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Making connections, deriving insights - wants system to infer",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities - wants existing data",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis or reflection - wants patterns identified",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "System command/instruction - wants action taken",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Social/conversational - greeting, acknowledgment",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Clarifying or continuing previous message",
                  "enum": [
                    "CONTINUATION"
                  ],
                  "type": "string"
                },
                {
                  "description": "Editing or correcting previous input",
                  "enum": [
                    "CORRECTION"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Input for entity classification",
          "properties": {
            "context": {
              "anyOf": [
                {
                  "$ref": "#/definitions/EntityClassificationContext"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Context for classification"
            },
            "purpose": {
              "allOf": [
                {
                  "$ref": "#/definitions/ClassifiedPurpose"
                }
              ],
              "description": "Purpose classification result"
            },
            "segment": {
              "allOf": [
                {
                  "$ref": "#/definitions/Segment"
                }
              ],
              "description": "The segment to classify"
            }
          },
          "required": [
            "purpose",
            "segment"
          ],
          "title": "EntityClassifierInput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/EntityClassifierInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "341ac4c63491be735a05012cd514edebbe83a92c459eb5f3548becbdee3b8112",
      "created_at": "2025-12-18T18:59:43.181045Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ClassificationReasoning",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "VerbCategory": {
              "description": "Categories of verbs for classification",
              "oneOf": [
                {
                  "description": "Action verbs (went, did, called)  MOMENT",
                  "enum": [
                    "action"
                  ],
                  "type": "string"
                },
                {
                  "description": "State verbs (was, felt, is)  often PULSE",
                  "enum": [
                    "state"
                  ],
                  "type": "string"
                },
                {
                  "description": "Stative + evaluative (was nice, felt good)  PULSE",
                  "enum": [
                    "evaluative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relational verbs (met, talked with)  may indicate BOND",
                  "enum": [
                    "relational"
                  ],
                  "type": "string"
                },
                {
                  "description": "Habitual (always, usually does)  may indicate MOTIF/FILAMENT",
                  "enum": [
                    "habitual"
                  ],
                  "type": "string"
                },
                {
                  "description": "Intentional (want to, plan to)  INTENT",
                  "enum": [
                    "intentional"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Reasoning behind classification",
          "properties": {
            "explanations": {
              "default": [],
              "description": "Why certain types were included/excluded",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "key_phrases": {
              "default": [],
              "description": "Key phrases that influenced classification",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "main_verb": {
              "default": null,
              "description": "Main verb identified",
              "type": [
                "string",
                "null"
              ]
            },
            "verb_category": {
              "anyOf": [
                {
                  "$ref": "#/definitions/VerbCategory"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Verb category"
            }
          },
          "title": "ClassificationReasoning",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ClassificationReasoning.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "8879719672e1946bd2bb44071a8144ad58e9ad0d2b22eaf71cbe7e5433805d11",
      "created_at": "2025-12-18T18:59:43.181268Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DetectedBinding",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BindingCharacteristics": {
              "description": "Binding characteristics",
              "properties": {
                "binding_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/BindingType"
                    }
                  ],
                  "description": "Type of cognitive binding"
                },
                "directionality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Directionality"
                    }
                  ],
                  "description": "Directionality"
                },
                "salience": {
                  "description": "Salience (how notable/memorable)",
                  "format": "double",
                  "type": "number"
                },
                "semantic": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/SemanticProperties"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Semantic properties"
                },
                "strength": {
                  "description": "Strength of binding (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "temporal": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/TemporalProperties"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Temporal properties"
                }
              },
              "required": [
                "binding_type",
                "directionality",
                "salience",
                "strength"
              ],
              "type": "object"
            },
            "BindingEvidence": {
              "description": "Evidence for a detected binding",
              "properties": {
                "evidence_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/BindingEvidenceType"
                    }
                  ],
                  "description": "Type of evidence"
                },
                "explanation": {
                  "description": "Explanation",
                  "type": "string"
                },
                "markers": {
                  "default": [],
                  "description": "Specific markers found",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "trigger_text": {
                  "description": "Text that triggered detection",
                  "type": "string"
                }
              },
              "required": [
                "evidence_type",
                "explanation",
                "trigger_text"
              ],
              "type": "object"
            },
            "BindingEvidenceType": {
              "description": "Types of binding evidence",
              "oneOf": [
                {
                  "description": "Explicit linguistic marker",
                  "enum": [
                    "linguistic_marker"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal proximity",
                  "enum": [
                    "temporal_proximity"
                  ],
                  "type": "string"
                },
                {
                  "description": "Semantic similarity",
                  "enum": [
                    "semantic_similarity"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity co-reference",
                  "enum": [
                    "co_reference"
                  ],
                  "type": "string"
                },
                {
                  "description": "Emotional similarity",
                  "enum": [
                    "emotional_similarity"
                  ],
                  "type": "string"
                },
                {
                  "description": "Narrative continuity",
                  "enum": [
                    "narrative_continuity"
                  ],
                  "type": "string"
                },
                {
                  "description": "User explicit statement",
                  "enum": [
                    "explicit_statement"
                  ],
                  "type": "string"
                },
                {
                  "description": "Inferred from context",
                  "enum": [
                    "contextual_inference"
                  ],
                  "type": "string"
                }
              ]
            },
            "BindingType": {
              "description": "Types of cognitive binding",
              "oneOf": [
                {
                  "description": "Cause leads to effect",
                  "enum": [
                    "causal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal sequence (before/after)",
                  "enum": [
                    "temporal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Associated by proximity/context",
                  "enum": [
                    "associative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Part-whole relationship",
                  "enum": [
                    "compositional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Contrast/opposition",
                  "enum": [
                    "contrastive"
                  ],
                  "type": "string"
                },
                {
                  "description": "Similarity/analogy",
                  "enum": [
                    "analogical"
                  ],
                  "type": "string"
                },
                {
                  "description": "Enables/prerequisite",
                  "enum": [
                    "enabling"
                  ],
                  "type": "string"
                },
                {
                  "description": "Thematic connection",
                  "enum": [
                    "thematic"
                  ],
                  "type": "string"
                }
              ]
            },
            "Directionality": {
              "description": "Directionality of binding",
              "oneOf": [
                {
                  "description": "Only source  target",
                  "enum": [
                    "unidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Both directions",
                  "enum": [
                    "bidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "No inherent direction",
                  "enum": [
                    "undirected"
                  ],
                  "type": "string"
                }
              ]
            },
            "EntityRef": {
              "description": "Reference to an entity for binding",
              "properties": {
                "content": {
                  "description": "Content/description",
                  "type": "string"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityType"
                    }
                  ],
                  "description": "Entity type"
                },
                "id": {
                  "default": null,
                  "description": "Entity ID (if existing)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "timestamp": {
                  "default": null,
                  "description": "When created (for temporal binding)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content",
                "entity_type"
              ],
              "type": "object"
            },
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            },
            "SemanticProperties": {
              "description": "Semantic properties of binding",
              "properties": {
                "relationship_description": {
                  "default": null,
                  "description": "Relationship description",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "shared_concepts": {
                  "default": [],
                  "description": "Shared concepts/topics",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "similarity": {
                  "description": "Semantic similarity score",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "similarity"
              ],
              "type": "object"
            },
            "TemporalProperties": {
              "description": "Temporal properties of binding",
              "properties": {
                "gap": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/TimeGap"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Time gap between entities"
                },
                "recurring": {
                  "default": false,
                  "description": "Is this a recurring pattern?",
                  "type": "boolean"
                },
                "relation": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalRelation"
                    }
                  ],
                  "description": "Time relation"
                }
              },
              "required": [
                "relation"
              ],
              "type": "object"
            },
            "TemporalRelation": {
              "description": "Temporal relationships",
              "enum": [
                "before",
                "after",
                "during",
                "simultaneous",
                "overlapping"
              ],
              "type": "string"
            },
            "TimeGap": {
              "description": "Time gap between entities",
              "properties": {
                "approximate": {
                  "description": "Is this approximate?",
                  "type": "boolean"
                },
                "unit": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TimeUnit"
                    }
                  ],
                  "description": "Duration unit"
                },
                "value": {
                  "description": "Duration value",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "approximate",
                "unit",
                "value"
              ],
              "type": "object"
            },
            "TimeUnit": {
              "description": "Time units",
              "enum": [
                "seconds",
                "minutes",
                "hours",
                "days",
                "weeks",
                "months",
                "years"
              ],
              "type": "string"
            }
          },
          "description": "A detected binding between entities",
          "properties": {
            "binding": {
              "allOf": [
                {
                  "$ref": "#/definitions/BindingCharacteristics"
                }
              ],
              "description": "Binding characteristics"
            },
            "confidence": {
              "description": "Confidence in detection",
              "format": "double",
              "type": "number"
            },
            "evidence": {
              "allOf": [
                {
                  "$ref": "#/definitions/BindingEvidence"
                }
              ],
              "description": "Evidence for the binding"
            },
            "source": {
              "allOf": [
                {
                  "$ref": "#/definitions/EntityRef"
                }
              ],
              "description": "Source entity"
            },
            "target": {
              "allOf": [
                {
                  "$ref": "#/definitions/EntityRef"
                }
              ],
              "description": "Target entity"
            }
          },
          "required": [
            "binding",
            "confidence",
            "evidence",
            "source",
            "target"
          ],
          "title": "DetectedBinding",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/DetectedBinding.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "9755eac83a79999e3543fd3d382d16f81c68ace7d277c53c47e8135af089186c",
      "created_at": "2025-12-18T18:59:43.181399Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BondCharacteristics",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "DurationCategory": {
              "description": "Duration categories",
              "enum": [
                "new",
                "recent",
                "established",
                "long_term",
                "lifelong"
              ],
              "type": "string"
            },
            "InteractionFrequency": {
              "description": "Interaction frequency",
              "enum": [
                "daily",
                "weekly",
                "monthly",
                "quarterly",
                "yearly",
                "rarely"
              ],
              "type": "string"
            },
            "RelationshipDuration": {
              "description": "Relationship duration",
              "properties": {
                "category": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/DurationCategory"
                    }
                  ],
                  "description": "Duration category"
                },
                "since": {
                  "default": null,
                  "description": "Start date if known",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "years": {
                  "default": null,
                  "description": "How long the relationship has existed",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "required": [
                "category"
              ],
              "type": "object"
            },
            "RelationshipType": {
              "description": "Types of relationships",
              "enum": [
                "family",
                "friend",
                "close_friend",
                "best_friend",
                "romantic",
                "ex_romantic",
                "spouse",
                "parent",
                "child",
                "sibling",
                "colleague",
                "manager",
                "direct_report",
                "mentor",
                "mentee",
                "client",
                "vendor",
                "partner",
                "acquaintance",
                "neighbor",
                "classmate",
                "teammate",
                "adversary",
                "rival",
                "service_provider",
                "other"
              ],
              "type": "string"
            }
          },
          "description": "Bond characteristics",
          "properties": {
            "duration": {
              "anyOf": [
                {
                  "$ref": "#/definitions/RelationshipDuration"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Duration of relationship"
            },
            "interaction_frequency": {
              "anyOf": [
                {
                  "$ref": "#/definitions/InteractionFrequency"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Frequency of interaction"
            },
            "intimacy": {
              "description": "Intimacy level (0.0 distant to 1.0 close)",
              "format": "double",
              "type": "number"
            },
            "reciprocity": {
              "description": "Reciprocity (0.0 one-sided to 1.0 mutual)",
              "format": "double",
              "type": "number"
            },
            "relationship_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/RelationshipType"
                }
              ],
              "description": "Type of relationship"
            },
            "strength": {
              "description": "Strength of relationship (0.0 weak to 1.0 strong)",
              "format": "double",
              "type": "number"
            },
            "trust": {
              "description": "Trust level (0.0 to 1.0)",
              "format": "double",
              "type": "number"
            },
            "valence": {
              "description": "Valence (-1.0 negative to 1.0 positive)",
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "intimacy",
            "reciprocity",
            "relationship_type",
            "strength",
            "trust",
            "valence"
          ],
          "title": "BondCharacteristics",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BondCharacteristics.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4668a3acede9456da717dfba41f873ccdb26a7cc8300e20b9b66e19e2693b3d0",
      "created_at": "2025-12-18T18:59:43.181577Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "VisionSegmentFeatures",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BoundingBox": {
              "description": "Bounding box for object detection",
              "properties": {
                "height": {
                  "format": "double",
                  "type": "number"
                },
                "width": {
                  "format": "double",
                  "type": "number"
                },
                "x": {
                  "format": "double",
                  "type": "number"
                },
                "y": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "height",
                "width",
                "x",
                "y"
              ],
              "type": "object"
            },
            "DetectedAction": {
              "description": "A detected action in vision",
              "properties": {
                "action": {
                  "type": "string"
                },
                "actor": {
                  "default": null,
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "confidence": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "action",
                "confidence"
              ],
              "type": "object"
            },
            "DetectedObject": {
              "description": "A detected object in vision",
              "properties": {
                "bounding_box": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/BoundingBox"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null
                },
                "confidence": {
                  "format": "double",
                  "type": "number"
                },
                "label": {
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "label"
              ],
              "type": "object"
            },
            "DetectedPerson": {
              "description": "A detected person in vision",
              "properties": {
                "bounding_box": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/BoundingBox"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null
                },
                "emotion": {
                  "default": null,
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "face_id": {
                  "default": null,
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            }
          },
          "description": "Vision-specific segment features",
          "properties": {
            "actions": {
              "default": [],
              "description": "Actions/activities",
              "items": {
                "$ref": "#/definitions/DetectedAction"
              },
              "type": "array"
            },
            "objects": {
              "description": "Objects detected",
              "items": {
                "$ref": "#/definitions/DetectedObject"
              },
              "type": "array"
            },
            "people": {
              "default": [],
              "description": "People detected",
              "items": {
                "$ref": "#/definitions/DetectedPerson"
              },
              "type": "array"
            },
            "scene_description": {
              "description": "Scene description",
              "type": "string"
            },
            "text_content": {
              "default": null,
              "description": "Text in image (OCR)",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "objects",
            "scene_description"
          ],
          "title": "VisionSegmentFeatures",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/VisionSegmentFeatures.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d5cd8f0931d93fa954dc1f0db393dcc7b54b66eb370041273b96216b44e22ee5",
      "created_at": "2025-12-18T18:59:43.181671Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PhysicsHints",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Hints for physics/VAE space positioning",
          "properties": {
            "arousal": {
              "description": "Arousal: 0.0 (calm) to 1.0 (excited/energized)",
              "format": "double",
              "type": "number"
            },
            "certainty": {
              "default": 0.5,
              "description": "Epistemic certainty: 0.0 (uncertain) to 1.0 (certain)",
              "format": "double",
              "type": "number"
            },
            "reasoning": {
              "default": null,
              "description": "Reasoning for physics values",
              "type": [
                "string",
                "null"
              ]
            },
            "significance": {
              "description": "Significance/mass: 0.0 (trivial) to 1.0 (very important)",
              "format": "double",
              "type": "number"
            },
            "valence": {
              "description": "Valence: -1.0 (negative) to 1.0 (positive)",
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "arousal",
            "significance",
            "valence"
          ],
          "title": "PhysicsHints",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/PhysicsHints.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2c90889b765fcd2017bbc936962fc111396a540690488a6390a299b99979a377",
      "created_at": "2025-12-18T18:59:43.181761Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ToolChainStep",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ConditionOperator": {
              "description": "Condition operators",
              "enum": [
                "equals",
                "not_equals",
                "greater_than",
                "less_than",
                "contains",
                "not_contains",
                "is_null",
                "is_not_null",
                "in"
              ],
              "type": "string"
            },
            "ConditionType": {
              "description": "Types of conditions",
              "oneOf": [
                {
                  "description": "Check output value",
                  "enum": [
                    "output_value"
                  ],
                  "type": "string"
                },
                {
                  "description": "Check if step succeeded",
                  "enum": [
                    "step_success"
                  ],
                  "type": "string"
                },
                {
                  "description": "Check if step failed",
                  "enum": [
                    "step_failed"
                  ],
                  "type": "string"
                },
                {
                  "description": "Check output exists",
                  "enum": [
                    "output_exists"
                  ],
                  "type": "string"
                }
              ]
            },
            "ExecutionOrder": {
              "description": "Execution order types",
              "oneOf": [
                {
                  "description": "Execute in sequence",
                  "enum": [
                    "sequential"
                  ],
                  "type": "string"
                },
                {
                  "description": "Execute in parallel with other parallel steps",
                  "enum": [
                    "parallel"
                  ],
                  "type": "string"
                },
                {
                  "description": "Execute only if condition is met",
                  "enum": [
                    "conditional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Execute as fallback if previous failed",
                  "enum": [
                    "fallback"
                  ],
                  "type": "string"
                }
              ]
            },
            "InputMapping": {
              "description": "Input mapping from previous step output",
              "properties": {
                "from_path": {
                  "description": "Path in source output",
                  "type": "string"
                },
                "from_step": {
                  "description": "Source step ID",
                  "type": "string"
                },
                "to_path": {
                  "description": "Path in this step's input",
                  "type": "string"
                },
                "transform": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/InputTransform"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Transform to apply"
                }
              },
              "required": [
                "from_path",
                "from_step",
                "to_path"
              ],
              "type": "object"
            },
            "InputTransform": {
              "description": "Transforms for input mapping",
              "oneOf": [
                {
                  "description": "Direct pass-through",
                  "properties": {
                    "type": {
                      "enum": [
                        "identity"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Extract array item",
                  "properties": {
                    "index": {
                      "format": "uint",
                      "minimum": 0.0,
                      "type": "integer"
                    },
                    "type": {
                      "enum": [
                        "array_item"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "index",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Filter array by condition",
                  "properties": {
                    "path": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "array_filter"
                      ],
                      "type": "string"
                    },
                    "value": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "path",
                    "type",
                    "value"
                  ],
                  "type": "object"
                },
                {
                  "description": "Map array items",
                  "properties": {
                    "template": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "array_map"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "template",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Concatenate strings",
                  "properties": {
                    "separator": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "concat"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "separator",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Custom transform function",
                  "properties": {
                    "function": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "custom"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "function",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "StepCondition": {
              "description": "Condition for conditional execution",
              "properties": {
                "condition_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ConditionType"
                    }
                  ],
                  "description": "Type of condition"
                },
                "operator": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ConditionOperator"
                    }
                  ],
                  "description": "Operator"
                },
                "path": {
                  "description": "Path to check",
                  "type": "string"
                },
                "source_step": {
                  "description": "Source step to check",
                  "type": "string"
                },
                "value": {
                  "description": "Value to compare"
                }
              },
              "required": [
                "condition_type",
                "operator",
                "path",
                "source_step",
                "value"
              ],
              "type": "object"
            }
          },
          "description": "A step in a tool chain",
          "properties": {
            "condition": {
              "anyOf": [
                {
                  "$ref": "#/definitions/StepCondition"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Condition for execution (if conditional)"
            },
            "execution_order": {
              "allOf": [
                {
                  "$ref": "#/definitions/ExecutionOrder"
                }
              ],
              "description": "Execution order"
            },
            "id": {
              "description": "Step identifier",
              "type": "string"
            },
            "input_mapping": {
              "default": [],
              "description": "Input mapping from previous steps",
              "items": {
                "$ref": "#/definitions/InputMapping"
              },
              "type": "array"
            },
            "parallel_with": {
              "default": [],
              "description": "Steps to run in parallel with this one",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "required": {
              "default": true,
              "description": "Whether step is required or optional",
              "type": "boolean"
            },
            "timeout_ms": {
              "default": null,
              "description": "Timeout in milliseconds",
              "format": "uint64",
              "minimum": 0.0,
              "type": [
                "integer",
                "null"
              ]
            },
            "tool": {
              "description": "Tool to execute",
              "type": "string"
            }
          },
          "required": [
            "execution_order",
            "id",
            "tool"
          ],
          "title": "ToolChainStep",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ToolChainStep.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "84916c910fd4a5530539135f7813efa5966aeb35fbddc34bbeb1e0b578c644c0",
      "created_at": "2025-12-18T18:59:43.181866Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SpawnHints",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BindingHints": {
              "description": "Hints for cognitive binding between entities",
              "properties": {
                "binding_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/BindingType"
                    }
                  ],
                  "description": "Type of cognitive binding"
                },
                "context": {
                  "default": null,
                  "description": "Context explaining the binding",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "directionality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Directionality"
                    }
                  ],
                  "description": "Directionality of binding"
                },
                "source": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityReference"
                    }
                  ],
                  "description": "Source entity"
                },
                "strength": {
                  "description": "Strength of binding (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "target": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityReference"
                    }
                  ],
                  "description": "Target entity"
                },
                "temporal": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/TemporalBinding"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Temporal aspect of binding"
                }
              },
              "required": [
                "binding_type",
                "directionality",
                "source",
                "strength",
                "target"
              ],
              "type": "object"
            },
            "BindingType": {
              "description": "Types of cognitive binding",
              "oneOf": [
                {
                  "description": "Cause leads to effect",
                  "enum": [
                    "causal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal sequence (before/after)",
                  "enum": [
                    "temporal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Associated by proximity/context",
                  "enum": [
                    "associative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Part-whole relationship",
                  "enum": [
                    "compositional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Contrast/opposition",
                  "enum": [
                    "contrastive"
                  ],
                  "type": "string"
                },
                {
                  "description": "Similarity/analogy",
                  "enum": [
                    "analogical"
                  ],
                  "type": "string"
                },
                {
                  "description": "Enables/prerequisite",
                  "enum": [
                    "enabling"
                  ],
                  "type": "string"
                },
                {
                  "description": "Thematic connection",
                  "enum": [
                    "thematic"
                  ],
                  "type": "string"
                }
              ]
            },
            "BondHints": {
              "description": "Hints for relationship bonds",
              "properties": {
                "description": {
                  "default": null,
                  "description": "Description of relationship",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "reciprocity": {
                  "default": 0.5,
                  "description": "Reciprocity (0.0 one-way to 1.0 mutual)",
                  "format": "double",
                  "type": "number"
                },
                "relationship_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/RelationshipType"
                    }
                  ],
                  "description": "Relationship type"
                },
                "source": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadReference"
                    }
                  ],
                  "description": "Source entity (head of relationship)"
                },
                "strength": {
                  "description": "Strength of relationship (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "target": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadReference"
                    }
                  ],
                  "description": "Target entity (tail of relationship)"
                },
                "valence": {
                  "description": "Valence of relationship (-1.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "relationship_type",
                "source",
                "strength",
                "target",
                "valence"
              ],
              "type": "object"
            },
            "Directionality": {
              "description": "Directionality of binding",
              "oneOf": [
                {
                  "description": "Only source  target",
                  "enum": [
                    "unidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Both directions",
                  "enum": [
                    "bidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "No inherent direction",
                  "enum": [
                    "undirected"
                  ],
                  "type": "string"
                }
              ]
            },
            "EntityReference": {
              "description": "Reference to an entity for binding",
              "properties": {
                "description": {
                  "description": "Description for matching",
                  "type": "string"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityType"
                    }
                  ],
                  "description": "Entity type"
                },
                "id": {
                  "default": null,
                  "description": "Entity ID (if existing)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "description",
                "entity_type"
              ],
              "type": "object"
            },
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            },
            "PhysicsHints": {
              "description": "Hints for physics/VAE space positioning",
              "properties": {
                "arousal": {
                  "description": "Arousal: 0.0 (calm) to 1.0 (excited/energized)",
                  "format": "double",
                  "type": "number"
                },
                "certainty": {
                  "default": 0.5,
                  "description": "Epistemic certainty: 0.0 (uncertain) to 1.0 (certain)",
                  "format": "double",
                  "type": "number"
                },
                "reasoning": {
                  "default": null,
                  "description": "Reasoning for physics values",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "significance": {
                  "description": "Significance/mass: 0.0 (trivial) to 1.0 (very important)",
                  "format": "double",
                  "type": "number"
                },
                "valence": {
                  "description": "Valence: -1.0 (negative) to 1.0 (positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "significance",
                "valence"
              ],
              "type": "object"
            },
            "RelationshipType": {
              "description": "Types of relationships",
              "enum": [
                "family",
                "friend",
                "close_friend",
                "best_friend",
                "romantic",
                "ex_romantic",
                "spouse",
                "parent",
                "child",
                "sibling",
                "colleague",
                "manager",
                "direct_report",
                "mentor",
                "mentee",
                "client",
                "vendor",
                "partner",
                "acquaintance",
                "neighbor",
                "classmate",
                "teammate",
                "adversary",
                "rival",
                "service_provider",
                "other"
              ],
              "type": "string"
            },
            "TemporalBinding": {
              "description": "Temporal aspect of binding",
              "properties": {
                "gap": {
                  "default": null,
                  "description": "Time gap (if known)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relation": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalRelation"
                    }
                  ],
                  "description": "Time relationship"
                }
              },
              "required": [
                "relation"
              ],
              "type": "object"
            },
            "TemporalRelation": {
              "description": "Temporal relationships",
              "enum": [
                "before",
                "after",
                "during",
                "simultaneous",
                "overlapping"
              ],
              "type": "string"
            },
            "ThreadHints": {
              "description": "Hints for thread/narrative connections",
              "properties": {
                "create_if_missing": {
                  "default": false,
                  "description": "Should create new thread if no match?",
                  "type": "boolean"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords for thread matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "primary_subject": {
                  "description": "Primary subject/actor",
                  "type": "string"
                },
                "related_threads": {
                  "default": [],
                  "description": "Related threads to link",
                  "items": {
                    "$ref": "#/definitions/ThreadReference"
                  },
                  "type": "array"
                },
                "thread_role": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadRole"
                    }
                  ],
                  "description": "Role of entity in narrative"
                }
              },
              "required": [
                "primary_subject",
                "thread_role"
              ],
              "type": "object"
            },
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            },
            "ThreadRole": {
              "description": "Role of entity relative to threads",
              "oneOf": [
                {
                  "description": "Entity is the actor/doer",
                  "enum": [
                    "actor"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is the subject being discussed",
                  "enum": [
                    "subject"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is observing/witnessing",
                  "enum": [
                    "observer"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is the target of action",
                  "enum": [
                    "target"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is setting/location",
                  "enum": [
                    "setting"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is an instrument/tool",
                  "enum": [
                    "instrument"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "All hints for a spawned entity",
          "properties": {
            "binding": {
              "anyOf": [
                {
                  "$ref": "#/definitions/BindingHints"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Binding hints for cognitive connections"
            },
            "bond": {
              "anyOf": [
                {
                  "$ref": "#/definitions/BondHints"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Bond hints for relationships"
            },
            "physics": {
              "allOf": [
                {
                  "$ref": "#/definitions/PhysicsHints"
                }
              ],
              "description": "Physics hints for VAE space positioning"
            },
            "thread": {
              "allOf": [
                {
                  "$ref": "#/definitions/ThreadHints"
                }
              ],
              "description": "Thread hints for narrative connections"
            }
          },
          "required": [
            "physics",
            "thread"
          ],
          "title": "SpawnHints",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SpawnHints.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "03ac1293a697a7b9be9bfdd0c1b411ff47feebd0654b39f497c0f507d1aad7df",
      "created_at": "2025-12-18T18:59:43.182113Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Directionality",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Directionality of binding",
          "oneOf": [
            {
              "description": "Only source  target",
              "enum": [
                "unidirectional"
              ],
              "type": "string"
            },
            {
              "description": "Both directions",
              "enum": [
                "bidirectional"
              ],
              "type": "string"
            },
            {
              "description": "No inherent direction",
              "enum": [
                "undirected"
              ],
              "type": "string"
            }
          ],
          "title": "Directionality"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/Directionality.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b2973c14969f57a62106a1a4c7d79c4dabec77e14c902188f3f648948893ea38",
      "created_at": "2025-12-18T18:59:43.182334Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "QueryAnalysis",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "FilterOperator": {
              "description": "Filter operators",
              "enum": [
                "equals",
                "not_equals",
                "contains",
                "starts_with",
                "ends_with",
                "greater_than",
                "less_than",
                "between",
                "in",
                "not_in"
              ],
              "type": "string"
            },
            "QueryFilter": {
              "description": "A filter for queries",
              "properties": {
                "field": {
                  "description": "Field to filter on",
                  "type": "string"
                },
                "operator": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/FilterOperator"
                    }
                  ],
                  "description": "Filter operator"
                },
                "value": {
                  "description": "Filter value"
                }
              },
              "required": [
                "field",
                "operator",
                "value"
              ],
              "type": "object"
            },
            "QueryTarget": {
              "description": "Query target - what data is the query looking for?",
              "properties": {
                "entity_types": {
                  "default": [],
                  "description": "The entity/thread types being queried (e.g., \"moments\", \"threads\", \"pulses\")",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted from the query",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "temporal_scope": {
                  "default": null,
                  "description": "Temporal scope (e.g., \"today\", \"last week\", \"all time\")",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "thread_hints": {
                  "default": [],
                  "description": "Specific thread hints (names, concepts) to search for",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "QueryType": {
              "description": "The type of query (when MessageIntent is QUERY)",
              "oneOf": [
                {
                  "description": "When did X happen? Time-based lookup",
                  "enum": [
                    "TEMPORAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Who/what questions - entity lookup",
                  "enum": [
                    "ENTITY"
                  ],
                  "type": "string"
                },
                {
                  "description": "How often? Pattern/frequency questions",
                  "enum": [
                    "PATTERN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Compare X and Y",
                  "enum": [
                    "COMPARISON"
                  ],
                  "type": "string"
                },
                {
                  "description": "Give me a summary/overview",
                  "enum": [
                    "SUMMARY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Count/quantity questions (how many?)",
                  "enum": [
                    "QUANTITATIVE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Yes/no questions (did X happen?)",
                  "enum": [
                    "BOOLEAN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Why questions - causation",
                  "enum": [
                    "CAUSAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Location-based questions",
                  "enum": [
                    "SPATIAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Open-ended/exploratory",
                  "enum": [
                    "EXPLORATORY"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Analysis of a query purpose",
          "properties": {
            "filters": {
              "default": [],
              "description": "Filters to apply",
              "items": {
                "$ref": "#/definitions/QueryFilter"
              },
              "type": "array"
            },
            "query_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/QueryType"
                }
              ],
              "description": "Type of query"
            },
            "search_terms": {
              "description": "Extracted search terms",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "target": {
              "allOf": [
                {
                  "$ref": "#/definitions/QueryTarget"
                }
              ],
              "description": "What the query is targeting"
            }
          },
          "required": [
            "query_type",
            "search_terms",
            "target"
          ],
          "title": "QueryAnalysis",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/QueryAnalysis.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f9664844fae0de9a97ead7e5c000baaca0d8ab992e8f75dcf4c2e49b8464f54c",
      "created_at": "2025-12-18T18:59:43.182445Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ParsedTemporal",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Parsed temporal information",
          "properties": {
            "date": {
              "default": null,
              "description": "ISO 8601 date if specific",
              "type": [
                "string",
                "null"
              ]
            },
            "relative_days": {
              "default": null,
              "description": "Relative offset (e.g., -1 for \"yesterday\")",
              "format": "int32",
              "type": [
                "integer",
                "null"
              ]
            },
            "time_of_day": {
              "default": null,
              "description": "Time of day if mentioned",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "title": "ParsedTemporal",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ParsedTemporal.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2739e01c1c0579f6b44fb951e40b8d7b2489d45edd8962d7622d34d59fbe7d16",
      "created_at": "2025-12-18T18:59:43.182594Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SegmentationInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EmotionalTone": {
              "description": "Emotional tone detected in segment",
              "properties": {
                "arousal": {
                  "description": "Arousal (0.0 calm to 1.0 excited)",
                  "format": "double",
                  "type": "number"
                },
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "primary": {
                  "description": "Primary emotion",
                  "type": "string"
                },
                "valence": {
                  "description": "Valence (-1.0 negative to 1.0 positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "confidence",
                "primary",
                "valence"
              ],
              "type": "object"
            },
            "EntityMention": {
              "description": "An entity mention within a segment",
              "properties": {
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "end": {
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityMentionType"
                    }
                  ],
                  "description": "Type of entity mentioned"
                },
                "resolved_id": {
                  "default": null,
                  "description": "Resolved entity ID (if matched to known entity)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Position in segment",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "text": {
                  "description": "The text of the mention",
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "end",
                "entity_type",
                "start",
                "text"
              ],
              "type": "object"
            },
            "EntityMentionType": {
              "description": "Types of entity mentions",
              "enum": [
                "PERSON",
                "PLACE",
                "ORGANIZATION",
                "DATE_TIME",
                "EVENT",
                "CONCEPT",
                "OBJECT",
                "ACTIVITY"
              ],
              "type": "string"
            },
            "KnownEntity": {
              "description": "Known entity for reference resolution",
              "properties": {
                "aliases": {
                  "default": [],
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "entity_type": {
                  "type": "string"
                },
                "id": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                }
              },
              "required": [
                "entity_type",
                "id",
                "name"
              ],
              "type": "object"
            },
            "Modality": {
              "description": "Supported input modalities",
              "enum": [
                "text",
                "audio",
                "vision",
                "video"
              ],
              "type": "string"
            },
            "ModalityInput": {
              "description": "Input container for different modalities",
              "oneOf": [
                {
                  "properties": {
                    "content": {
                      "type": "string"
                    },
                    "language": {
                      "default": null,
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "modality": {
                      "enum": [
                        "text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "content",
                    "modality"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "data": {
                      "description": "Base64 encoded audio data",
                      "type": "string"
                    },
                    "duration_seconds": {
                      "default": null,
                      "description": "Duration in seconds",
                      "format": "double",
                      "type": [
                        "number",
                        "null"
                      ]
                    },
                    "format": {
                      "description": "Audio format (mp3, wav, etc.)",
                      "type": "string"
                    },
                    "modality": {
                      "enum": [
                        "audio"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "data",
                    "format",
                    "modality"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "data": {
                      "description": "Base64 encoded image data",
                      "type": "string"
                    },
                    "format": {
                      "description": "Image format (png, jpg, etc.)",
                      "type": "string"
                    },
                    "height": {
                      "default": null,
                      "format": "uint32",
                      "minimum": 0.0,
                      "type": [
                        "integer",
                        "null"
                      ]
                    },
                    "modality": {
                      "enum": [
                        "vision"
                      ],
                      "type": "string"
                    },
                    "width": {
                      "default": null,
                      "description": "Image dimensions",
                      "format": "uint32",
                      "minimum": 0.0,
                      "type": [
                        "integer",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "data",
                    "format",
                    "modality"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "data": {
                      "description": "Base64 encoded video data or URL",
                      "type": "string"
                    },
                    "duration_seconds": {
                      "default": null,
                      "description": "Duration in seconds",
                      "format": "double",
                      "type": [
                        "number",
                        "null"
                      ]
                    },
                    "format": {
                      "description": "Video format (mp4, webm, etc.)",
                      "type": "string"
                    },
                    "fps": {
                      "default": null,
                      "description": "Frame rate",
                      "format": "double",
                      "type": [
                        "number",
                        "null"
                      ]
                    },
                    "modality": {
                      "enum": [
                        "video"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "data",
                    "format",
                    "modality"
                  ],
                  "type": "object"
                }
              ]
            },
            "ParsedTemporal": {
              "description": "Parsed temporal information",
              "properties": {
                "date": {
                  "default": null,
                  "description": "ISO 8601 date if specific",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relative_days": {
                  "default": null,
                  "description": "Relative offset (e.g., -1 for \"yesterday\")",
                  "format": "int32",
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "time_of_day": {
                  "default": null,
                  "description": "Time of day if mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "Segment": {
              "description": "A segmented unit of content",
              "properties": {
                "boundaries": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentBoundaries"
                    }
                  ],
                  "description": "Segment boundaries"
                },
                "confidence": {
                  "description": "Confidence in segmentation decision",
                  "format": "double",
                  "type": "number"
                },
                "content": {
                  "description": "The segmented content",
                  "type": "string"
                },
                "features": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentFeatures"
                    }
                  ],
                  "description": "Extracted features"
                },
                "id": {
                  "description": "Unique segment ID",
                  "type": "string"
                },
                "index": {
                  "description": "Index in the sequence",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "modality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Modality"
                    }
                  ],
                  "description": "Original modality"
                }
              },
              "required": [
                "boundaries",
                "confidence",
                "content",
                "features",
                "id",
                "index",
                "modality"
              ],
              "type": "object"
            },
            "SegmentBoundaries": {
              "description": "Boundaries of a segment within the original input",
              "properties": {
                "end": {
                  "description": "End position",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "speaker_id": {
                  "default": null,
                  "description": "For audio/video: speaker ID if detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Start position (char index for text, milliseconds for audio/video)",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "end",
                "start"
              ],
              "type": "object"
            },
            "SegmentFeatures": {
              "description": "Extracted features from a segment",
              "properties": {
                "emotional_tone": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/EmotionalTone"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Emotional tone (if detectable)"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "language": {
                  "default": null,
                  "description": "Language detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "mentions": {
                  "default": [],
                  "description": "Entity mentions found",
                  "items": {
                    "$ref": "#/definitions/EntityMention"
                  },
                  "type": "array"
                },
                "subject": {
                  "default": null,
                  "description": "Primary subject/actor mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "temporal_markers": {
                  "default": [],
                  "description": "Temporal markers detected",
                  "items": {
                    "$ref": "#/definitions/TemporalMarker"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "SegmentationConfig": {
              "description": "Configuration for segmentation behavior",
              "properties": {
                "extract_entities": {
                  "default": true,
                  "description": "Whether to extract entity mentions",
                  "type": "boolean"
                },
                "extract_temporal": {
                  "default": true,
                  "description": "Whether to extract temporal markers",
                  "type": "boolean"
                },
                "language": {
                  "default": null,
                  "description": "Language hint (ISO 639-1)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "max_segments": {
                  "default": 20,
                  "description": "Maximum number of segments to produce",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "min_segment_length": {
                  "default": null,
                  "description": "Minimum segment length (chars for text, seconds for audio/video)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "SegmentationContext": {
              "description": "Context for segmentation",
              "properties": {
                "current_speaker": {
                  "default": null,
                  "description": "Current speaker (if known)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "known_entities": {
                  "default": [],
                  "description": "Known entities for reference resolution",
                  "items": {
                    "$ref": "#/definitions/KnownEntity"
                  },
                  "type": "array"
                },
                "previous_segments": {
                  "default": [],
                  "description": "Previous segments in the conversation",
                  "items": {
                    "$ref": "#/definitions/Segment"
                  },
                  "type": "array"
                },
                "tenant_id": {
                  "description": "Tenant ID for multi-tenancy",
                  "type": "string"
                }
              },
              "required": [
                "tenant_id"
              ],
              "type": "object"
            },
            "TemporalMarker": {
              "description": "A temporal marker in the segment",
              "properties": {
                "marker_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalMarkerType"
                    }
                  ],
                  "description": "Type of temporal reference"
                },
                "parsed": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ParsedTemporal"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Parsed temporal value (if parseable)"
                },
                "text": {
                  "description": "The text of the marker",
                  "type": "string"
                }
              },
              "required": [
                "marker_type",
                "text"
              ],
              "type": "object"
            },
            "TemporalMarkerType": {
              "description": "Types of temporal markers",
              "oneOf": [
                {
                  "description": "Specific date (January 5th)",
                  "enum": [
                    "absolute"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relative reference (yesterday, last week)",
                  "enum": [
                    "relative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Duration (for 2 hours)",
                  "enum": [
                    "duration"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency (every day, weekly)",
                  "enum": [
                    "frequency"
                  ],
                  "type": "string"
                },
                {
                  "description": "Time of day (in the morning)",
                  "enum": [
                    "time_of_day"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Input for segmentation tools",
          "properties": {
            "config": {
              "allOf": [
                {
                  "$ref": "#/definitions/SegmentationConfig"
                }
              ],
              "default": {
                "extract_entities": true,
                "extract_temporal": true,
                "language": null,
                "max_segments": 20,
                "min_segment_length": null
              },
              "description": "Configuration options"
            },
            "context": {
              "anyOf": [
                {
                  "$ref": "#/definitions/SegmentationContext"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Context from conversation/session"
            },
            "input": {
              "allOf": [
                {
                  "$ref": "#/definitions/ModalityInput"
                }
              ],
              "description": "The input to segment"
            }
          },
          "required": [
            "input"
          ],
          "title": "SegmentationInput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SegmentationInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2f0a4f00fc668be6db13629a3cbbbaf145c512568bf2f844b20de4e2894366e9",
      "created_at": "2025-12-18T18:59:43.182807Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ThreadHintOutput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "DetectedThread": {
              "description": "A detected thread reference",
              "properties": {
                "confidence": {
                  "description": "Confidence in match",
                  "format": "double",
                  "type": "number"
                },
                "detection_method": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/DetectionMethod"
                    }
                  ],
                  "description": "How it was detected"
                },
                "role": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadRole"
                    }
                  ],
                  "description": "Role in this entity"
                },
                "thread": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadReference"
                    }
                  ],
                  "description": "The matched thread"
                },
                "trigger_text": {
                  "description": "Text that triggered detection",
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "detection_method",
                "role",
                "thread",
                "trigger_text"
              ],
              "type": "object"
            },
            "DetectionMethod": {
              "description": "How a thread was detected",
              "oneOf": [
                {
                  "description": "Exact name match",
                  "enum": [
                    "exact_match"
                  ],
                  "type": "string"
                },
                {
                  "description": "Alias match",
                  "enum": [
                    "alias_match"
                  ],
                  "type": "string"
                },
                {
                  "description": "Fuzzy/similar match",
                  "enum": [
                    "fuzzy_match"
                  ],
                  "type": "string"
                },
                {
                  "description": "Pronoun resolution from context",
                  "enum": [
                    "pronoun_resolution"
                  ],
                  "type": "string"
                },
                {
                  "description": "Keyword match",
                  "enum": [
                    "keyword_match"
                  ],
                  "type": "string"
                },
                {
                  "description": "Semantic similarity",
                  "enum": [
                    "semantic_match"
                  ],
                  "type": "string"
                }
              ]
            },
            "SubjectReference": {
              "description": "Reference to a subject",
              "properties": {
                "confidence": {
                  "description": "Confidence in identification",
                  "format": "double",
                  "type": "number"
                },
                "name": {
                  "description": "Name/label of subject",
                  "type": "string"
                },
                "subject_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SubjectType"
                    }
                  ],
                  "description": "Type of subject"
                },
                "thread_id": {
                  "default": null,
                  "description": "Matched thread ID (if resolved)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "confidence",
                "name",
                "subject_type"
              ],
              "type": "object"
            },
            "SubjectType": {
              "description": "Types of subjects",
              "oneOf": [
                {
                  "description": "The user themselves",
                  "enum": [
                    "self_"
                  ],
                  "type": "string"
                },
                {
                  "description": "Another person",
                  "enum": [
                    "person"
                  ],
                  "type": "string"
                },
                {
                  "description": "A place",
                  "enum": [
                    "place"
                  ],
                  "type": "string"
                },
                {
                  "description": "An organization",
                  "enum": [
                    "organization"
                  ],
                  "type": "string"
                },
                {
                  "description": "A concept/topic",
                  "enum": [
                    "concept"
                  ],
                  "type": "string"
                },
                {
                  "description": "An event",
                  "enum": [
                    "event"
                  ],
                  "type": "string"
                },
                {
                  "description": "An object/thing",
                  "enum": [
                    "object"
                  ],
                  "type": "string"
                },
                {
                  "description": "Unknown/other",
                  "enum": [
                    "other"
                  ],
                  "type": "string"
                }
              ]
            },
            "SuggestedThread": {
              "description": "A suggested new thread to create",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases to register",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "category": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadCategory"
                    }
                  ],
                  "description": "Category"
                },
                "confidence": {
                  "description": "Confidence in suggestion",
                  "format": "double",
                  "type": "number"
                },
                "name": {
                  "description": "Suggested name",
                  "type": "string"
                },
                "reason": {
                  "description": "Why this thread should be created",
                  "type": "string"
                },
                "thread_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SubjectType"
                    }
                  ],
                  "description": "Type of thread"
                }
              },
              "required": [
                "category",
                "confidence",
                "name",
                "reason",
                "thread_type"
              ],
              "type": "object"
            },
            "ThreadCategory": {
              "description": "Categories for threads",
              "oneOf": [
                {
                  "description": "People (friends, family, colleagues)",
                  "enum": [
                    "people"
                  ],
                  "type": "string"
                },
                {
                  "description": "Places (home, work, cities)",
                  "enum": [
                    "places"
                  ],
                  "type": "string"
                },
                {
                  "description": "Activities (hobbies, work tasks)",
                  "enum": [
                    "activities"
                  ],
                  "type": "string"
                },
                {
                  "description": "Projects (ongoing endeavors)",
                  "enum": [
                    "projects"
                  ],
                  "type": "string"
                },
                {
                  "description": "Topics (interests, subjects)",
                  "enum": [
                    "topics"
                  ],
                  "type": "string"
                },
                {
                  "description": "Events (recurring or one-time)",
                  "enum": [
                    "events"
                  ],
                  "type": "string"
                },
                {
                  "description": "Groups (teams, organizations)",
                  "enum": [
                    "groups"
                  ],
                  "type": "string"
                },
                {
                  "description": "Health (physical, mental)",
                  "enum": [
                    "health"
                  ],
                  "type": "string"
                },
                {
                  "description": "Finance (money, investments)",
                  "enum": [
                    "finance"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationships",
                  "enum": [
                    "relationships"
                  ],
                  "type": "string"
                }
              ]
            },
            "ThreadHintValues": {
              "description": "Thread hint values",
              "properties": {
                "categories": {
                  "default": [],
                  "description": "Thread categories",
                  "items": {
                    "$ref": "#/definitions/ThreadCategory"
                  },
                  "type": "array"
                },
                "create_if_missing": {
                  "default": false,
                  "description": "Whether to create thread if no match found",
                  "type": "boolean"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords for thread matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "primary_subject": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SubjectReference"
                    }
                  ],
                  "description": "Primary subject/actor (who/what is the main focus)"
                },
                "related_threads": {
                  "default": [],
                  "description": "Related threads",
                  "items": {
                    "$ref": "#/definitions/ThreadReference"
                  },
                  "type": "array"
                },
                "thread_role": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadRole"
                    }
                  ],
                  "description": "Role of entity relative to thread"
                }
              },
              "required": [
                "primary_subject",
                "thread_role"
              ],
              "type": "object"
            },
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            },
            "ThreadRole": {
              "description": "Role of entity relative to threads",
              "oneOf": [
                {
                  "description": "Entity is the actor/doer",
                  "enum": [
                    "actor"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is the subject being discussed",
                  "enum": [
                    "subject"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is observing/witnessing",
                  "enum": [
                    "observer"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is the target of action",
                  "enum": [
                    "target"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is setting/location",
                  "enum": [
                    "setting"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is an instrument/tool",
                  "enum": [
                    "instrument"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Output from thread hint generation",
          "properties": {
            "detected_threads": {
              "description": "Detected thread references",
              "items": {
                "$ref": "#/definitions/DetectedThread"
              },
              "type": "array"
            },
            "hints": {
              "allOf": [
                {
                  "$ref": "#/definitions/ThreadHintValues"
                }
              ],
              "description": "Thread hints"
            },
            "suggested_threads": {
              "default": [],
              "description": "Suggested new threads to create",
              "items": {
                "$ref": "#/definitions/SuggestedThread"
              },
              "type": "array"
            }
          },
          "required": [
            "detected_threads",
            "hints"
          ],
          "title": "ThreadHintOutput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ThreadHintOutput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "adb206bccb793ec143ce36faf0d259da90137910a183360aca2a4a3757efa71e",
      "created_at": "2025-12-18T18:59:43.183100Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PipelineType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Types of standard pipelines",
          "oneOf": [
            {
              "description": "Memory recording: Segment  Classify  Spawn  Hints  Store",
              "enum": [
                "memory_recording"
              ],
              "type": "string"
            },
            {
              "description": "Query: Parse  Search  Format  Return",
              "enum": [
                "query"
              ],
              "type": "string"
            },
            {
              "description": "Analysis: Parse  Search  Analyze  Synthesize",
              "enum": [
                "analysis"
              ],
              "type": "string"
            },
            {
              "description": "Command: Parse  Validate  Execute  Confirm",
              "enum": [
                "command"
              ],
              "type": "string"
            },
            {
              "description": "Conversation: Understand  Respond",
              "enum": [
                "conversation"
              ],
              "type": "string"
            },
            {
              "description": "Multi-modal: Route  Process per modality  Merge",
              "enum": [
                "multi_modal"
              ],
              "type": "string"
            }
          ],
          "title": "PipelineType"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/PipelineType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "802218fb63ec77327c862ec12e562df38e04ac3d05665f1a6b6b05dc0e8128cd",
      "created_at": "2025-12-18T18:59:43.183277Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityReference",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Reference to an entity for binding",
          "properties": {
            "description": {
              "description": "Description for matching",
              "type": "string"
            },
            "entity_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/EntityType"
                }
              ],
              "description": "Entity type"
            },
            "id": {
              "default": null,
              "description": "Entity ID (if existing)",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "description",
            "entity_type"
          ],
          "title": "EntityReference",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/EntityReference.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "fd8d572cb01dfc1c1c769c90d48e68b0335a1e7ce10ba0606d2ab663c19de7da",
      "created_at": "2025-12-18T18:59:43.183374Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TimeGap",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "TimeUnit": {
              "description": "Time units",
              "enum": [
                "seconds",
                "minutes",
                "hours",
                "days",
                "weeks",
                "months",
                "years"
              ],
              "type": "string"
            }
          },
          "description": "Time gap between entities",
          "properties": {
            "approximate": {
              "description": "Is this approximate?",
              "type": "boolean"
            },
            "unit": {
              "allOf": [
                {
                  "$ref": "#/definitions/TimeUnit"
                }
              ],
              "description": "Duration unit"
            },
            "value": {
              "description": "Duration value",
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "approximate",
            "unit",
            "value"
          ],
          "title": "TimeGap",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/TimeGap.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4d72d45d2ce0dfd593f935c9bdd80c60d156860ae6138ed8d84f25ccf1c8886d",
      "created_at": "2025-12-18T18:59:43.183461Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "InputTransform",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Transforms for input mapping",
          "oneOf": [
            {
              "description": "Direct pass-through",
              "properties": {
                "type": {
                  "enum": [
                    "identity"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Extract array item",
              "properties": {
                "index": {
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "type": {
                  "enum": [
                    "array_item"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "index",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Filter array by condition",
              "properties": {
                "path": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "array_filter"
                  ],
                  "type": "string"
                },
                "value": {
                  "type": "string"
                }
              },
              "required": [
                "path",
                "type",
                "value"
              ],
              "type": "object"
            },
            {
              "description": "Map array items",
              "properties": {
                "template": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "array_map"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "template",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Concatenate strings",
              "properties": {
                "separator": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "concat"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "separator",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Custom transform function",
              "properties": {
                "function": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "custom"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "function",
                "type"
              ],
              "type": "object"
            }
          ],
          "title": "InputTransform"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/InputTransform.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "98d0d743efe5080fd7722d106c06b5e0133f1f42e0abf4e053fee8d325993d0f",
      "created_at": "2025-12-18T18:59:43.183542Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ThreadRelation",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ThreadRelationType": {
              "description": "Types of thread relations",
              "oneOf": [
                {
                  "description": "Part of (belongs to)",
                  "enum": [
                    "part_of"
                  ],
                  "type": "string"
                },
                {
                  "description": "Contains (has parts)",
                  "enum": [
                    "contains"
                  ],
                  "type": "string"
                },
                {
                  "description": "Related to (general association)",
                  "enum": [
                    "related_to"
                  ],
                  "type": "string"
                },
                {
                  "description": "Causes / leads to",
                  "enum": [
                    "causes_of"
                  ],
                  "type": "string"
                },
                {
                  "description": "Opposite of",
                  "enum": [
                    "opposite_of"
                  ],
                  "type": "string"
                },
                {
                  "description": "Same as (alias)",
                  "enum": [
                    "same_as"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Thread relationship in the graph",
          "properties": {
            "relation_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/ThreadRelationType"
                }
              ],
              "description": "Type of relation"
            },
            "source_id": {
              "description": "Source thread",
              "type": "string"
            },
            "strength": {
              "description": "Strength (0.0 to 1.0)",
              "format": "double",
              "type": "number"
            },
            "target_id": {
              "description": "Target thread",
              "type": "string"
            }
          },
          "required": [
            "relation_type",
            "source_id",
            "strength",
            "target_id"
          ],
          "title": "ThreadRelation",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ThreadRelation.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "0da6e62216caa62fe060884500ef174e07a1445a4926ad0e570f004c323318cb",
      "created_at": "2025-12-18T18:59:43.183627Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UserPurposePatterns",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ToolPurpose": {
              "description": "Primary purpose of user's message",
              "oneOf": [
                {
                  "description": "Recording memories, events, observations - wants to store",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information returned",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Making connections, deriving insights - wants system to infer",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities - wants existing data",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis or reflection - wants patterns identified",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "System command/instruction - wants action taken",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Social/conversational - greeting, acknowledgment",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Clarifying or continuing previous message",
                  "enum": [
                    "CONTINUATION"
                  ],
                  "type": "string"
                },
                {
                  "description": "Editing or correcting previous input",
                  "enum": [
                    "CORRECTION"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "User's historical purpose patterns",
          "properties": {
            "primary_purpose": {
              "allOf": [
                {
                  "$ref": "#/definitions/ToolPurpose"
                }
              ],
              "description": "Most common purpose"
            },
            "purpose_distribution": {
              "additionalProperties": {
                "format": "double",
                "type": "number"
              },
              "default": {},
              "description": "Distribution of purposes (purpose -> frequency)",
              "type": "object"
            }
          },
          "required": [
            "primary_purpose"
          ],
          "title": "UserPurposePatterns",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/UserPurposePatterns.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "372fbed22f114c3cd4bd2e33f02c314a227ae1e16b3f095ef07722ba08388e6a",
      "created_at": "2025-12-18T18:59:43.183714Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ToolChain",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ConditionOperator": {
              "description": "Condition operators",
              "enum": [
                "equals",
                "not_equals",
                "greater_than",
                "less_than",
                "contains",
                "not_contains",
                "is_null",
                "is_not_null",
                "in"
              ],
              "type": "string"
            },
            "ConditionType": {
              "description": "Types of conditions",
              "oneOf": [
                {
                  "description": "Check output value",
                  "enum": [
                    "output_value"
                  ],
                  "type": "string"
                },
                {
                  "description": "Check if step succeeded",
                  "enum": [
                    "step_success"
                  ],
                  "type": "string"
                },
                {
                  "description": "Check if step failed",
                  "enum": [
                    "step_failed"
                  ],
                  "type": "string"
                },
                {
                  "description": "Check output exists",
                  "enum": [
                    "output_exists"
                  ],
                  "type": "string"
                }
              ]
            },
            "ContextStrategy": {
              "description": "How context flows between tools",
              "oneOf": [
                {
                  "description": "Pass full context to every tool",
                  "enum": [
                    "full_context"
                  ],
                  "type": "string"
                },
                {
                  "description": "Only pass relevant context (filtered)",
                  "enum": [
                    "filtered_context"
                  ],
                  "type": "string"
                },
                {
                  "description": "Accumulate results as context grows",
                  "enum": [
                    "accumulating_context"
                  ],
                  "type": "string"
                },
                {
                  "description": "Each step gets fresh context",
                  "enum": [
                    "isolated_context"
                  ],
                  "type": "string"
                }
              ]
            },
            "ErrorStrategy": {
              "description": "Error handling strategy",
              "oneOf": [
                {
                  "description": "Fail the entire chain on any error",
                  "enum": [
                    "fail_fast"
                  ],
                  "type": "string"
                },
                {
                  "description": "Continue with remaining steps",
                  "enum": [
                    "continue_on_error"
                  ],
                  "type": "string"
                },
                {
                  "description": "Retry failed steps",
                  "enum": [
                    "retry_on_error"
                  ],
                  "type": "string"
                },
                {
                  "description": "Use fallback tool",
                  "enum": [
                    "use_fallback"
                  ],
                  "type": "string"
                }
              ]
            },
            "ExecutionOrder": {
              "description": "Execution order types",
              "oneOf": [
                {
                  "description": "Execute in sequence",
                  "enum": [
                    "sequential"
                  ],
                  "type": "string"
                },
                {
                  "description": "Execute in parallel with other parallel steps",
                  "enum": [
                    "parallel"
                  ],
                  "type": "string"
                },
                {
                  "description": "Execute only if condition is met",
                  "enum": [
                    "conditional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Execute as fallback if previous failed",
                  "enum": [
                    "fallback"
                  ],
                  "type": "string"
                }
              ]
            },
            "InputMapping": {
              "description": "Input mapping from previous step output",
              "properties": {
                "from_path": {
                  "description": "Path in source output",
                  "type": "string"
                },
                "from_step": {
                  "description": "Source step ID",
                  "type": "string"
                },
                "to_path": {
                  "description": "Path in this step's input",
                  "type": "string"
                },
                "transform": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/InputTransform"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Transform to apply"
                }
              },
              "required": [
                "from_path",
                "from_step",
                "to_path"
              ],
              "type": "object"
            },
            "InputTransform": {
              "description": "Transforms for input mapping",
              "oneOf": [
                {
                  "description": "Direct pass-through",
                  "properties": {
                    "type": {
                      "enum": [
                        "identity"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Extract array item",
                  "properties": {
                    "index": {
                      "format": "uint",
                      "minimum": 0.0,
                      "type": "integer"
                    },
                    "type": {
                      "enum": [
                        "array_item"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "index",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Filter array by condition",
                  "properties": {
                    "path": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "array_filter"
                      ],
                      "type": "string"
                    },
                    "value": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "path",
                    "type",
                    "value"
                  ],
                  "type": "object"
                },
                {
                  "description": "Map array items",
                  "properties": {
                    "template": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "array_map"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "template",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Concatenate strings",
                  "properties": {
                    "separator": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "concat"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "separator",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Custom transform function",
                  "properties": {
                    "function": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "custom"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "function",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "StepCondition": {
              "description": "Condition for conditional execution",
              "properties": {
                "condition_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ConditionType"
                    }
                  ],
                  "description": "Type of condition"
                },
                "operator": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ConditionOperator"
                    }
                  ],
                  "description": "Operator"
                },
                "path": {
                  "description": "Path to check",
                  "type": "string"
                },
                "source_step": {
                  "description": "Source step to check",
                  "type": "string"
                },
                "value": {
                  "description": "Value to compare"
                }
              },
              "required": [
                "condition_type",
                "operator",
                "path",
                "source_step",
                "value"
              ],
              "type": "object"
            },
            "ToolChainStep": {
              "description": "A step in a tool chain",
              "properties": {
                "condition": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/StepCondition"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Condition for execution (if conditional)"
                },
                "execution_order": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ExecutionOrder"
                    }
                  ],
                  "description": "Execution order"
                },
                "id": {
                  "description": "Step identifier",
                  "type": "string"
                },
                "input_mapping": {
                  "default": [],
                  "description": "Input mapping from previous steps",
                  "items": {
                    "$ref": "#/definitions/InputMapping"
                  },
                  "type": "array"
                },
                "parallel_with": {
                  "default": [],
                  "description": "Steps to run in parallel with this one",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "required": {
                  "default": true,
                  "description": "Whether step is required or optional",
                  "type": "boolean"
                },
                "timeout_ms": {
                  "default": null,
                  "description": "Timeout in milliseconds",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "tool": {
                  "description": "Tool to execute",
                  "type": "string"
                }
              },
              "required": [
                "execution_order",
                "id",
                "tool"
              ],
              "type": "object"
            }
          },
          "description": "A chain of tools to execute",
          "properties": {
            "context_strategy": {
              "allOf": [
                {
                  "$ref": "#/definitions/ContextStrategy"
                }
              ],
              "description": "How context flows between steps"
            },
            "description": {
              "description": "Description",
              "type": "string"
            },
            "error_strategy": {
              "allOf": [
                {
                  "$ref": "#/definitions/ErrorStrategy"
                }
              ],
              "description": "Error handling strategy"
            },
            "id": {
              "description": "Chain identifier",
              "type": "string"
            },
            "name": {
              "description": "Human-readable name",
              "type": "string"
            },
            "steps": {
              "description": "Steps in the chain",
              "items": {
                "$ref": "#/definitions/ToolChainStep"
              },
              "type": "array"
            }
          },
          "required": [
            "context_strategy",
            "description",
            "error_strategy",
            "id",
            "name",
            "steps"
          ],
          "title": "ToolChain",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ToolChain.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f9ff5d368c8234e7882045cf738053d163163144d0971c75090f34061bf90d99",
      "created_at": "2025-12-18T18:59:43.183825Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityClassification",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ClassificationEvidence": {
              "description": "Evidence for a classification",
              "properties": {
                "description": {
                  "description": "Description of evidence",
                  "type": "string"
                },
                "evidence_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EvidenceType"
                    }
                  ],
                  "description": "Type of evidence"
                },
                "weight": {
                  "description": "How much this evidence contributes",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "description",
                "evidence_type",
                "weight"
              ],
              "type": "object"
            },
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            },
            "EvidenceType": {
              "description": "Types of evidence for classification",
              "oneOf": [
                {
                  "description": "Verb type (action vs state)",
                  "enum": [
                    "verb_type"
                  ],
                  "type": "string"
                },
                {
                  "description": "Keywords detected",
                  "enum": [
                    "keywords"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal indicators",
                  "enum": [
                    "temporal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Emotional indicators",
                  "enum": [
                    "emotional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity mentions",
                  "enum": [
                    "entity_mention"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relational language",
                  "enum": [
                    "relational"
                  ],
                  "type": "string"
                },
                {
                  "description": "Pattern indicators",
                  "enum": [
                    "pattern"
                  ],
                  "type": "string"
                },
                {
                  "description": "Context from surrounding content",
                  "enum": [
                    "context"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "A single entity classification with probability",
          "properties": {
            "entity_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/EntityType"
                }
              ],
              "description": "Entity type"
            },
            "evidence": {
              "default": [],
              "description": "Evidence supporting this classification",
              "items": {
                "$ref": "#/definitions/ClassificationEvidence"
              },
              "type": "array"
            },
            "probability": {
              "description": "Probability (0.0 to 1.0)",
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "entity_type",
            "probability"
          ],
          "title": "EntityClassification",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/EntityClassification.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "00f9549f1cf33ca2c04b851206efc347df5ba8443e31b5e0200b21d8a463d79e",
      "created_at": "2025-12-18T18:59:43.184013Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SpawnSuggestion",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BindingHints": {
              "description": "Hints for cognitive binding between entities",
              "properties": {
                "binding_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/BindingType"
                    }
                  ],
                  "description": "Type of cognitive binding"
                },
                "context": {
                  "default": null,
                  "description": "Context explaining the binding",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "directionality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Directionality"
                    }
                  ],
                  "description": "Directionality of binding"
                },
                "source": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityReference"
                    }
                  ],
                  "description": "Source entity"
                },
                "strength": {
                  "description": "Strength of binding (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "target": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityReference"
                    }
                  ],
                  "description": "Target entity"
                },
                "temporal": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/TemporalBinding"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Temporal aspect of binding"
                }
              },
              "required": [
                "binding_type",
                "directionality",
                "source",
                "strength",
                "target"
              ],
              "type": "object"
            },
            "BindingType": {
              "description": "Types of cognitive binding",
              "oneOf": [
                {
                  "description": "Cause leads to effect",
                  "enum": [
                    "causal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal sequence (before/after)",
                  "enum": [
                    "temporal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Associated by proximity/context",
                  "enum": [
                    "associative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Part-whole relationship",
                  "enum": [
                    "compositional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Contrast/opposition",
                  "enum": [
                    "contrastive"
                  ],
                  "type": "string"
                },
                {
                  "description": "Similarity/analogy",
                  "enum": [
                    "analogical"
                  ],
                  "type": "string"
                },
                {
                  "description": "Enables/prerequisite",
                  "enum": [
                    "enabling"
                  ],
                  "type": "string"
                },
                {
                  "description": "Thematic connection",
                  "enum": [
                    "thematic"
                  ],
                  "type": "string"
                }
              ]
            },
            "BondHints": {
              "description": "Hints for relationship bonds",
              "properties": {
                "description": {
                  "default": null,
                  "description": "Description of relationship",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "reciprocity": {
                  "default": 0.5,
                  "description": "Reciprocity (0.0 one-way to 1.0 mutual)",
                  "format": "double",
                  "type": "number"
                },
                "relationship_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/RelationshipType"
                    }
                  ],
                  "description": "Relationship type"
                },
                "source": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadReference"
                    }
                  ],
                  "description": "Source entity (head of relationship)"
                },
                "strength": {
                  "description": "Strength of relationship (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "target": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadReference"
                    }
                  ],
                  "description": "Target entity (tail of relationship)"
                },
                "valence": {
                  "description": "Valence of relationship (-1.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "relationship_type",
                "source",
                "strength",
                "target",
                "valence"
              ],
              "type": "object"
            },
            "Directionality": {
              "description": "Directionality of binding",
              "oneOf": [
                {
                  "description": "Only source  target",
                  "enum": [
                    "unidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Both directions",
                  "enum": [
                    "bidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "No inherent direction",
                  "enum": [
                    "undirected"
                  ],
                  "type": "string"
                }
              ]
            },
            "EntityContent": {
              "description": "Content for the spawned entity",
              "properties": {
                "enriched_text": {
                  "default": null,
                  "description": "Enriched/contextualized content",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "tags": {
                  "default": [],
                  "description": "Tags extracted",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "text": {
                  "description": "Primary content text",
                  "type": "string"
                },
                "title": {
                  "default": null,
                  "description": "Title/summary",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            },
            "EntityReference": {
              "description": "Reference to an entity for binding",
              "properties": {
                "description": {
                  "description": "Description for matching",
                  "type": "string"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityType"
                    }
                  ],
                  "description": "Entity type"
                },
                "id": {
                  "default": null,
                  "description": "Entity ID (if existing)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "description",
                "entity_type"
              ],
              "type": "object"
            },
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            },
            "PhysicsHints": {
              "description": "Hints for physics/VAE space positioning",
              "properties": {
                "arousal": {
                  "description": "Arousal: 0.0 (calm) to 1.0 (excited/energized)",
                  "format": "double",
                  "type": "number"
                },
                "certainty": {
                  "default": 0.5,
                  "description": "Epistemic certainty: 0.0 (uncertain) to 1.0 (certain)",
                  "format": "double",
                  "type": "number"
                },
                "reasoning": {
                  "default": null,
                  "description": "Reasoning for physics values",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "significance": {
                  "description": "Significance/mass: 0.0 (trivial) to 1.0 (very important)",
                  "format": "double",
                  "type": "number"
                },
                "valence": {
                  "description": "Valence: -1.0 (negative) to 1.0 (positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "significance",
                "valence"
              ],
              "type": "object"
            },
            "RelationshipType": {
              "description": "Types of relationships",
              "enum": [
                "family",
                "friend",
                "close_friend",
                "best_friend",
                "romantic",
                "ex_romantic",
                "spouse",
                "parent",
                "child",
                "sibling",
                "colleague",
                "manager",
                "direct_report",
                "mentor",
                "mentee",
                "client",
                "vendor",
                "partner",
                "acquaintance",
                "neighbor",
                "classmate",
                "teammate",
                "adversary",
                "rival",
                "service_provider",
                "other"
              ],
              "type": "string"
            },
            "SpawnAction": {
              "description": "Action to take for spawn",
              "oneOf": [
                {
                  "description": "Auto-spawn without user confirmation",
                  "enum": [
                    "auto_spawn"
                  ],
                  "type": "string"
                },
                {
                  "description": "Suggest to user for review",
                  "enum": [
                    "suggest"
                  ],
                  "type": "string"
                },
                {
                  "description": "Skip but log for analysis",
                  "enum": [
                    "skip"
                  ],
                  "type": "string"
                },
                {
                  "description": "Request clarification from user",
                  "enum": [
                    "clarify"
                  ],
                  "type": "string"
                }
              ]
            },
            "SpawnHints": {
              "description": "All hints for a spawned entity",
              "properties": {
                "binding": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/BindingHints"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Binding hints for cognitive connections"
                },
                "bond": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/BondHints"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Bond hints for relationships"
                },
                "physics": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/PhysicsHints"
                    }
                  ],
                  "description": "Physics hints for VAE space positioning"
                },
                "thread": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadHints"
                    }
                  ],
                  "description": "Thread hints for narrative connections"
                }
              },
              "required": [
                "physics",
                "thread"
              ],
              "type": "object"
            },
            "TemporalBinding": {
              "description": "Temporal aspect of binding",
              "properties": {
                "gap": {
                  "default": null,
                  "description": "Time gap (if known)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relation": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalRelation"
                    }
                  ],
                  "description": "Time relationship"
                }
              },
              "required": [
                "relation"
              ],
              "type": "object"
            },
            "TemporalRelation": {
              "description": "Temporal relationships",
              "enum": [
                "before",
                "after",
                "during",
                "simultaneous",
                "overlapping"
              ],
              "type": "string"
            },
            "ThreadHints": {
              "description": "Hints for thread/narrative connections",
              "properties": {
                "create_if_missing": {
                  "default": false,
                  "description": "Should create new thread if no match?",
                  "type": "boolean"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords for thread matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "primary_subject": {
                  "description": "Primary subject/actor",
                  "type": "string"
                },
                "related_threads": {
                  "default": [],
                  "description": "Related threads to link",
                  "items": {
                    "$ref": "#/definitions/ThreadReference"
                  },
                  "type": "array"
                },
                "thread_role": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadRole"
                    }
                  ],
                  "description": "Role of entity in narrative"
                }
              },
              "required": [
                "primary_subject",
                "thread_role"
              ],
              "type": "object"
            },
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            },
            "ThreadRole": {
              "description": "Role of entity relative to threads",
              "oneOf": [
                {
                  "description": "Entity is the actor/doer",
                  "enum": [
                    "actor"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is the subject being discussed",
                  "enum": [
                    "subject"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is observing/witnessing",
                  "enum": [
                    "observer"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is the target of action",
                  "enum": [
                    "target"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is setting/location",
                  "enum": [
                    "setting"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is an instrument/tool",
                  "enum": [
                    "instrument"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "A suggestion to spawn an entity",
          "properties": {
            "action": {
              "allOf": [
                {
                  "$ref": "#/definitions/SpawnAction"
                }
              ],
              "description": "Spawn action"
            },
            "confidence": {
              "description": "Confidence in this spawn",
              "format": "double",
              "type": "number"
            },
            "content": {
              "allOf": [
                {
                  "$ref": "#/definitions/EntityContent"
                }
              ],
              "description": "Content to use for entity"
            },
            "entity_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/EntityType"
                }
              ],
              "description": "Entity type to spawn"
            },
            "hints": {
              "allOf": [
                {
                  "$ref": "#/definitions/SpawnHints"
                }
              ],
              "description": "All hints for the entity"
            },
            "reason": {
              "description": "Reason for suggestion",
              "type": "string"
            }
          },
          "required": [
            "action",
            "confidence",
            "content",
            "entity_type",
            "hints",
            "reason"
          ],
          "title": "SpawnSuggestion",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SpawnSuggestion.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "25d6f4cde572e0f1d984457216f58b838d8598ec2cf50e9f42d1c86b371aff4e",
      "created_at": "2025-12-18T18:59:43.184221Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "KnownEntity",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Known entity for reference resolution",
          "properties": {
            "aliases": {
              "default": [],
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "entity_type": {
              "type": "string"
            },
            "id": {
              "type": "string"
            },
            "name": {
              "type": "string"
            }
          },
          "required": [
            "entity_type",
            "id",
            "name"
          ],
          "title": "KnownEntity",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/KnownEntity.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "8d0c198c2220ed4b22c5535eed992d03ff4a5d8b1ca6cb7a820f3bb48f298959",
      "created_at": "2025-12-18T18:59:43.184349Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TimeUnit",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Time units",
          "enum": [
            "seconds",
            "minutes",
            "hours",
            "days",
            "weeks",
            "months",
            "years"
          ],
          "title": "TimeUnit",
          "type": "string"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/TimeUnit.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "7c1952e19c3cbebd37a43067c2b19cf81b9fc5984d38b1192a92b0a3a8020318",
      "created_at": "2025-12-18T18:59:43.184444Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BondHintInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EmotionalTone": {
              "description": "Emotional tone detected in segment",
              "properties": {
                "arousal": {
                  "description": "Arousal (0.0 calm to 1.0 excited)",
                  "format": "double",
                  "type": "number"
                },
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "primary": {
                  "description": "Primary emotion",
                  "type": "string"
                },
                "valence": {
                  "description": "Valence (-1.0 negative to 1.0 positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "confidence",
                "primary",
                "valence"
              ],
              "type": "object"
            },
            "EntityMention": {
              "description": "An entity mention within a segment",
              "properties": {
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "end": {
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityMentionType"
                    }
                  ],
                  "description": "Type of entity mentioned"
                },
                "resolved_id": {
                  "default": null,
                  "description": "Resolved entity ID (if matched to known entity)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Position in segment",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "text": {
                  "description": "The text of the mention",
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "end",
                "entity_type",
                "start",
                "text"
              ],
              "type": "object"
            },
            "EntityMentionType": {
              "description": "Types of entity mentions",
              "enum": [
                "PERSON",
                "PLACE",
                "ORGANIZATION",
                "DATE_TIME",
                "EVENT",
                "CONCEPT",
                "OBJECT",
                "ACTIVITY"
              ],
              "type": "string"
            },
            "ExistingBond": {
              "description": "An existing bond for context",
              "properties": {
                "head_thread_id": {
                  "type": "string"
                },
                "id": {
                  "type": "string"
                },
                "relationship_type": {
                  "$ref": "#/definitions/RelationshipType"
                },
                "strength": {
                  "format": "double",
                  "type": "number"
                },
                "tail_thread_id": {
                  "type": "string"
                }
              },
              "required": [
                "head_thread_id",
                "id",
                "relationship_type",
                "strength",
                "tail_thread_id"
              ],
              "type": "object"
            },
            "Modality": {
              "description": "Supported input modalities",
              "enum": [
                "text",
                "audio",
                "vision",
                "video"
              ],
              "type": "string"
            },
            "ParsedTemporal": {
              "description": "Parsed temporal information",
              "properties": {
                "date": {
                  "default": null,
                  "description": "ISO 8601 date if specific",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relative_days": {
                  "default": null,
                  "description": "Relative offset (e.g., -1 for \"yesterday\")",
                  "format": "int32",
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "time_of_day": {
                  "default": null,
                  "description": "Time of day if mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "RelationshipType": {
              "description": "Types of relationships",
              "enum": [
                "family",
                "friend",
                "close_friend",
                "best_friend",
                "romantic",
                "ex_romantic",
                "spouse",
                "parent",
                "child",
                "sibling",
                "colleague",
                "manager",
                "direct_report",
                "mentor",
                "mentee",
                "client",
                "vendor",
                "partner",
                "acquaintance",
                "neighbor",
                "classmate",
                "teammate",
                "adversary",
                "rival",
                "service_provider",
                "other"
              ],
              "type": "string"
            },
            "Segment": {
              "description": "A segmented unit of content",
              "properties": {
                "boundaries": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentBoundaries"
                    }
                  ],
                  "description": "Segment boundaries"
                },
                "confidence": {
                  "description": "Confidence in segmentation decision",
                  "format": "double",
                  "type": "number"
                },
                "content": {
                  "description": "The segmented content",
                  "type": "string"
                },
                "features": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SegmentFeatures"
                    }
                  ],
                  "description": "Extracted features"
                },
                "id": {
                  "description": "Unique segment ID",
                  "type": "string"
                },
                "index": {
                  "description": "Index in the sequence",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "modality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Modality"
                    }
                  ],
                  "description": "Original modality"
                }
              },
              "required": [
                "boundaries",
                "confidence",
                "content",
                "features",
                "id",
                "index",
                "modality"
              ],
              "type": "object"
            },
            "SegmentBoundaries": {
              "description": "Boundaries of a segment within the original input",
              "properties": {
                "end": {
                  "description": "End position",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "speaker_id": {
                  "default": null,
                  "description": "For audio/video: speaker ID if detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Start position (char index for text, milliseconds for audio/video)",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "end",
                "start"
              ],
              "type": "object"
            },
            "SegmentFeatures": {
              "description": "Extracted features from a segment",
              "properties": {
                "emotional_tone": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/EmotionalTone"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Emotional tone (if detectable)"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "language": {
                  "default": null,
                  "description": "Language detected",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "mentions": {
                  "default": [],
                  "description": "Entity mentions found",
                  "items": {
                    "$ref": "#/definitions/EntityMention"
                  },
                  "type": "array"
                },
                "subject": {
                  "default": null,
                  "description": "Primary subject/actor mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "temporal_markers": {
                  "default": [],
                  "description": "Temporal markers detected",
                  "items": {
                    "$ref": "#/definitions/TemporalMarker"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "TemporalMarker": {
              "description": "A temporal marker in the segment",
              "properties": {
                "marker_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalMarkerType"
                    }
                  ],
                  "description": "Type of temporal reference"
                },
                "parsed": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ParsedTemporal"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Parsed temporal value (if parseable)"
                },
                "text": {
                  "description": "The text of the marker",
                  "type": "string"
                }
              },
              "required": [
                "marker_type",
                "text"
              ],
              "type": "object"
            },
            "TemporalMarkerType": {
              "description": "Types of temporal markers",
              "oneOf": [
                {
                  "description": "Specific date (January 5th)",
                  "enum": [
                    "absolute"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relative reference (yesterday, last week)",
                  "enum": [
                    "relative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Duration (for 2 hours)",
                  "enum": [
                    "duration"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency (every day, weekly)",
                  "enum": [
                    "frequency"
                  ],
                  "type": "string"
                },
                {
                  "description": "Time of day (in the morning)",
                  "enum": [
                    "time_of_day"
                  ],
                  "type": "string"
                }
              ]
            },
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            }
          },
          "description": "Input for bond hint generation",
          "properties": {
            "known_bonds": {
              "default": [],
              "description": "Known bonds for context",
              "items": {
                "$ref": "#/definitions/ExistingBond"
              },
              "type": "array"
            },
            "segment": {
              "allOf": [
                {
                  "$ref": "#/definitions/Segment"
                }
              ],
              "description": "The segment containing relationship information"
            },
            "threads": {
              "description": "Detected threads in the segment",
              "items": {
                "$ref": "#/definitions/ThreadReference"
              },
              "type": "array"
            }
          },
          "required": [
            "segment",
            "threads"
          ],
          "title": "BondHintInput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/BondHintInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "0c9f1b828aae098ff4117597c7ed3a1bbd987008030bf842c80cb07569729377",
      "created_at": "2025-12-18T18:59:43.184551Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ToolDefinition",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ParameterConstraints": {
              "description": "Validation constraints for parameters",
              "properties": {
                "allowed_values": {
                  "default": null,
                  "description": "Allowed values (enum constraint)",
                  "items": {
                    "type": "string"
                  },
                  "type": [
                    "array",
                    "null"
                  ]
                },
                "max": {
                  "default": null,
                  "description": "Maximum value (for numbers) or length (for strings/arrays)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "min": {
                  "default": null,
                  "description": "Minimum value (for numbers) or length (for strings/arrays)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "pattern": {
                  "default": null,
                  "description": "Regex pattern for string validation",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "ParameterType": {
              "description": "Supported parameter types",
              "oneOf": [
                {
                  "enum": [
                    "string",
                    "integer",
                    "float",
                    "boolean",
                    "array",
                    "object"
                  ],
                  "type": "string"
                },
                {
                  "description": "Reference to another entity",
                  "enum": [
                    "entity_ref"
                  ],
                  "type": "string"
                },
                {
                  "description": "Base64 encoded binary data",
                  "enum": [
                    "binary"
                  ],
                  "type": "string"
                }
              ]
            },
            "ToolCategory": {
              "description": "Categories of tools",
              "oneOf": [
                {
                  "description": "Segmentation tools (break input into units)",
                  "enum": [
                    "segmentation"
                  ],
                  "type": "string"
                },
                {
                  "description": "Classification tools (label content)",
                  "enum": [
                    "classification"
                  ],
                  "type": "string"
                },
                {
                  "description": "Spawn tools (create entities)",
                  "enum": [
                    "spawn"
                  ],
                  "type": "string"
                },
                {
                  "description": "Hint generation tools",
                  "enum": [
                    "hints"
                  ],
                  "type": "string"
                },
                {
                  "description": "Search and retrieval tools",
                  "enum": [
                    "retrieval"
                  ],
                  "type": "string"
                },
                {
                  "description": "Orchestration tools",
                  "enum": [
                    "orchestration"
                  ],
                  "type": "string"
                }
              ]
            },
            "ToolParameter": {
              "description": "Parameter definition with type and validation",
              "properties": {
                "constraints": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ParameterConstraints"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Validation constraints"
                },
                "default_value": {
                  "default": null,
                  "description": "Default value if not provided"
                },
                "description": {
                  "description": "Description of what this parameter does",
                  "type": "string"
                },
                "name": {
                  "description": "Parameter name",
                  "type": "string"
                },
                "param_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ParameterType"
                    }
                  ],
                  "description": "Data type"
                },
                "required": {
                  "description": "Whether this parameter is required",
                  "type": "boolean"
                }
              },
              "required": [
                "description",
                "name",
                "param_type",
                "required"
              ],
              "type": "object"
            }
          },
          "description": "Base schema for all tools",
          "properties": {
            "category": {
              "allOf": [
                {
                  "$ref": "#/definitions/ToolCategory"
                }
              ],
              "description": "Category for organization"
            },
            "description": {
              "description": "Human-readable description",
              "type": "string"
            },
            "estimated_latency_ms": {
              "default": null,
              "description": "Estimated latency in milliseconds",
              "format": "uint32",
              "minimum": 0.0,
              "type": [
                "integer",
                "null"
              ]
            },
            "name": {
              "description": "Unique identifier for the tool",
              "type": "string"
            },
            "parallelizable": {
              "description": "Whether this tool can run in parallel with others",
              "type": "boolean"
            },
            "parameters": {
              "description": "Input parameters schema",
              "items": {
                "$ref": "#/definitions/ToolParameter"
              },
              "type": "array"
            },
            "version": {
              "description": "Version string (semver)",
              "type": "string"
            }
          },
          "required": [
            "category",
            "description",
            "name",
            "parallelizable",
            "parameters",
            "version"
          ],
          "title": "ToolDefinition",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ToolDefinition.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4f6f931e2a6f9420a787c670ba5b5b019a1e7381540cb626e24ff0ccfc8c59c6",
      "created_at": "2025-12-18T18:59:43.184733Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DetectedObject",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BoundingBox": {
              "description": "Bounding box for object detection",
              "properties": {
                "height": {
                  "format": "double",
                  "type": "number"
                },
                "width": {
                  "format": "double",
                  "type": "number"
                },
                "x": {
                  "format": "double",
                  "type": "number"
                },
                "y": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "height",
                "width",
                "x",
                "y"
              ],
              "type": "object"
            }
          },
          "description": "A detected object in vision",
          "properties": {
            "bounding_box": {
              "anyOf": [
                {
                  "$ref": "#/definitions/BoundingBox"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "confidence": {
              "format": "double",
              "type": "number"
            },
            "label": {
              "type": "string"
            }
          },
          "required": [
            "confidence",
            "label"
          ],
          "title": "DetectedObject",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/DetectedObject.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "fa2b942256b5120e614e1a3269e1ab36486172dff24d592da6657e073525396a",
      "created_at": "2025-12-18T18:59:43.184869Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ParameterConstraints",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Validation constraints for parameters",
          "properties": {
            "allowed_values": {
              "default": null,
              "description": "Allowed values (enum constraint)",
              "items": {
                "type": "string"
              },
              "type": [
                "array",
                "null"
              ]
            },
            "max": {
              "default": null,
              "description": "Maximum value (for numbers) or length (for strings/arrays)",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "min": {
              "default": null,
              "description": "Minimum value (for numbers) or length (for strings/arrays)",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "pattern": {
              "default": null,
              "description": "Regex pattern for string validation",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "title": "ParameterConstraints",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ParameterConstraints.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "046563ccefc9c19b933243413ecc498b53b6e72129567a8f5216bc0d1184e352",
      "created_at": "2025-12-18T18:59:43.184948Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SegmentFeatures",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EmotionalTone": {
              "description": "Emotional tone detected in segment",
              "properties": {
                "arousal": {
                  "description": "Arousal (0.0 calm to 1.0 excited)",
                  "format": "double",
                  "type": "number"
                },
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "primary": {
                  "description": "Primary emotion",
                  "type": "string"
                },
                "valence": {
                  "description": "Valence (-1.0 negative to 1.0 positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "confidence",
                "primary",
                "valence"
              ],
              "type": "object"
            },
            "EntityMention": {
              "description": "An entity mention within a segment",
              "properties": {
                "confidence": {
                  "description": "Confidence in detection",
                  "format": "double",
                  "type": "number"
                },
                "end": {
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityMentionType"
                    }
                  ],
                  "description": "Type of entity mentioned"
                },
                "resolved_id": {
                  "default": null,
                  "description": "Resolved entity ID (if matched to known entity)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "start": {
                  "description": "Position in segment",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "text": {
                  "description": "The text of the mention",
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "end",
                "entity_type",
                "start",
                "text"
              ],
              "type": "object"
            },
            "EntityMentionType": {
              "description": "Types of entity mentions",
              "enum": [
                "PERSON",
                "PLACE",
                "ORGANIZATION",
                "DATE_TIME",
                "EVENT",
                "CONCEPT",
                "OBJECT",
                "ACTIVITY"
              ],
              "type": "string"
            },
            "ParsedTemporal": {
              "description": "Parsed temporal information",
              "properties": {
                "date": {
                  "default": null,
                  "description": "ISO 8601 date if specific",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relative_days": {
                  "default": null,
                  "description": "Relative offset (e.g., -1 for \"yesterday\")",
                  "format": "int32",
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "time_of_day": {
                  "default": null,
                  "description": "Time of day if mentioned",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "TemporalMarker": {
              "description": "A temporal marker in the segment",
              "properties": {
                "marker_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalMarkerType"
                    }
                  ],
                  "description": "Type of temporal reference"
                },
                "parsed": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ParsedTemporal"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Parsed temporal value (if parseable)"
                },
                "text": {
                  "description": "The text of the marker",
                  "type": "string"
                }
              },
              "required": [
                "marker_type",
                "text"
              ],
              "type": "object"
            },
            "TemporalMarkerType": {
              "description": "Types of temporal markers",
              "oneOf": [
                {
                  "description": "Specific date (January 5th)",
                  "enum": [
                    "absolute"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relative reference (yesterday, last week)",
                  "enum": [
                    "relative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Duration (for 2 hours)",
                  "enum": [
                    "duration"
                  ],
                  "type": "string"
                },
                {
                  "description": "Frequency (every day, weekly)",
                  "enum": [
                    "frequency"
                  ],
                  "type": "string"
                },
                {
                  "description": "Time of day (in the morning)",
                  "enum": [
                    "time_of_day"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Extracted features from a segment",
          "properties": {
            "emotional_tone": {
              "anyOf": [
                {
                  "$ref": "#/definitions/EmotionalTone"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Emotional tone (if detectable)"
            },
            "keywords": {
              "default": [],
              "description": "Keywords extracted",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "language": {
              "default": null,
              "description": "Language detected",
              "type": [
                "string",
                "null"
              ]
            },
            "mentions": {
              "default": [],
              "description": "Entity mentions found",
              "items": {
                "$ref": "#/definitions/EntityMention"
              },
              "type": "array"
            },
            "subject": {
              "default": null,
              "description": "Primary subject/actor mentioned",
              "type": [
                "string",
                "null"
              ]
            },
            "temporal_markers": {
              "default": [],
              "description": "Temporal markers detected",
              "items": {
                "$ref": "#/definitions/TemporalMarker"
              },
              "type": "array"
            }
          },
          "title": "SegmentFeatures",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SegmentFeatures.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "3b50a8b320c6c59941f0740fe561dd502989eaef52bfacadd4bdfae60b07b7ec",
      "created_at": "2025-12-18T18:59:43.185041Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ThreadRole",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Role of entity relative to threads",
          "oneOf": [
            {
              "description": "Entity is the actor/doer",
              "enum": [
                "actor"
              ],
              "type": "string"
            },
            {
              "description": "Entity is the subject being discussed",
              "enum": [
                "subject"
              ],
              "type": "string"
            },
            {
              "description": "Entity is observing/witnessing",
              "enum": [
                "observer"
              ],
              "type": "string"
            },
            {
              "description": "Entity is the target of action",
              "enum": [
                "target"
              ],
              "type": "string"
            },
            {
              "description": "Entity is setting/location",
              "enum": [
                "setting"
              ],
              "type": "string"
            },
            {
              "description": "Entity is an instrument/tool",
              "enum": [
                "instrument"
              ],
              "type": "string"
            }
          ],
          "title": "ThreadRole"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/ThreadRole.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6c838fa24d274e4b952678bfa3828b219ac004efaddc02c7a7459a6c31471ef6",
      "created_at": "2025-12-18T18:59:43.185183Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DurationCategory",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Duration categories",
          "enum": [
            "new",
            "recent",
            "established",
            "long_term",
            "lifelong"
          ],
          "title": "DurationCategory",
          "type": "string"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/DurationCategory.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2c0e727dd7f86de2bb411e0e0389ef716929357b70175ba4f4244105a3bc43da",
      "created_at": "2025-12-18T18:59:43.185274Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TemporalProperties",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "TemporalRelation": {
              "description": "Temporal relationships",
              "enum": [
                "before",
                "after",
                "during",
                "simultaneous",
                "overlapping"
              ],
              "type": "string"
            },
            "TimeGap": {
              "description": "Time gap between entities",
              "properties": {
                "approximate": {
                  "description": "Is this approximate?",
                  "type": "boolean"
                },
                "unit": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TimeUnit"
                    }
                  ],
                  "description": "Duration unit"
                },
                "value": {
                  "description": "Duration value",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "approximate",
                "unit",
                "value"
              ],
              "type": "object"
            },
            "TimeUnit": {
              "description": "Time units",
              "enum": [
                "seconds",
                "minutes",
                "hours",
                "days",
                "weeks",
                "months",
                "years"
              ],
              "type": "string"
            }
          },
          "description": "Temporal properties of binding",
          "properties": {
            "gap": {
              "anyOf": [
                {
                  "$ref": "#/definitions/TimeGap"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Time gap between entities"
            },
            "recurring": {
              "default": false,
              "description": "Is this a recurring pattern?",
              "type": "boolean"
            },
            "relation": {
              "allOf": [
                {
                  "$ref": "#/definitions/TemporalRelation"
                }
              ],
              "description": "Time relation"
            }
          },
          "required": [
            "relation"
          ],
          "title": "TemporalProperties",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/TemporalProperties.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "aa2c75e700066c7835470589ea0609152c2d349f8ad0edd77650c8c4294e89b2",
      "created_at": "2025-12-18T18:59:43.185367Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "StandardPipeline",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ConditionOperator": {
              "description": "Condition operators",
              "enum": [
                "equals",
                "not_equals",
                "greater_than",
                "less_than",
                "contains",
                "not_contains",
                "is_null",
                "is_not_null",
                "in"
              ],
              "type": "string"
            },
            "ConditionType": {
              "description": "Types of conditions",
              "oneOf": [
                {
                  "description": "Check output value",
                  "enum": [
                    "output_value"
                  ],
                  "type": "string"
                },
                {
                  "description": "Check if step succeeded",
                  "enum": [
                    "step_success"
                  ],
                  "type": "string"
                },
                {
                  "description": "Check if step failed",
                  "enum": [
                    "step_failed"
                  ],
                  "type": "string"
                },
                {
                  "description": "Check output exists",
                  "enum": [
                    "output_exists"
                  ],
                  "type": "string"
                }
              ]
            },
            "ContextStrategy": {
              "description": "How context flows between tools",
              "oneOf": [
                {
                  "description": "Pass full context to every tool",
                  "enum": [
                    "full_context"
                  ],
                  "type": "string"
                },
                {
                  "description": "Only pass relevant context (filtered)",
                  "enum": [
                    "filtered_context"
                  ],
                  "type": "string"
                },
                {
                  "description": "Accumulate results as context grows",
                  "enum": [
                    "accumulating_context"
                  ],
                  "type": "string"
                },
                {
                  "description": "Each step gets fresh context",
                  "enum": [
                    "isolated_context"
                  ],
                  "type": "string"
                }
              ]
            },
            "ErrorStrategy": {
              "description": "Error handling strategy",
              "oneOf": [
                {
                  "description": "Fail the entire chain on any error",
                  "enum": [
                    "fail_fast"
                  ],
                  "type": "string"
                },
                {
                  "description": "Continue with remaining steps",
                  "enum": [
                    "continue_on_error"
                  ],
                  "type": "string"
                },
                {
                  "description": "Retry failed steps",
                  "enum": [
                    "retry_on_error"
                  ],
                  "type": "string"
                },
                {
                  "description": "Use fallback tool",
                  "enum": [
                    "use_fallback"
                  ],
                  "type": "string"
                }
              ]
            },
            "ExecutionOrder": {
              "description": "Execution order types",
              "oneOf": [
                {
                  "description": "Execute in sequence",
                  "enum": [
                    "sequential"
                  ],
                  "type": "string"
                },
                {
                  "description": "Execute in parallel with other parallel steps",
                  "enum": [
                    "parallel"
                  ],
                  "type": "string"
                },
                {
                  "description": "Execute only if condition is met",
                  "enum": [
                    "conditional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Execute as fallback if previous failed",
                  "enum": [
                    "fallback"
                  ],
                  "type": "string"
                }
              ]
            },
            "InputMapping": {
              "description": "Input mapping from previous step output",
              "properties": {
                "from_path": {
                  "description": "Path in source output",
                  "type": "string"
                },
                "from_step": {
                  "description": "Source step ID",
                  "type": "string"
                },
                "to_path": {
                  "description": "Path in this step's input",
                  "type": "string"
                },
                "transform": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/InputTransform"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Transform to apply"
                }
              },
              "required": [
                "from_path",
                "from_step",
                "to_path"
              ],
              "type": "object"
            },
            "InputTransform": {
              "description": "Transforms for input mapping",
              "oneOf": [
                {
                  "description": "Direct pass-through",
                  "properties": {
                    "type": {
                      "enum": [
                        "identity"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Extract array item",
                  "properties": {
                    "index": {
                      "format": "uint",
                      "minimum": 0.0,
                      "type": "integer"
                    },
                    "type": {
                      "enum": [
                        "array_item"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "index",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Filter array by condition",
                  "properties": {
                    "path": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "array_filter"
                      ],
                      "type": "string"
                    },
                    "value": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "path",
                    "type",
                    "value"
                  ],
                  "type": "object"
                },
                {
                  "description": "Map array items",
                  "properties": {
                    "template": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "array_map"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "template",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Concatenate strings",
                  "properties": {
                    "separator": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "concat"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "separator",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Custom transform function",
                  "properties": {
                    "function": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "custom"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "function",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "PipelineTrigger": {
              "description": "Trigger for pipeline selection",
              "properties": {
                "priority": {
                  "default": 0,
                  "description": "Priority (higher = checked first)",
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "trigger_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TriggerType"
                    }
                  ],
                  "description": "Trigger type"
                },
                "value": {
                  "description": "Value to match",
                  "type": "string"
                }
              },
              "required": [
                "trigger_type",
                "value"
              ],
              "type": "object"
            },
            "PipelineType": {
              "description": "Types of standard pipelines",
              "oneOf": [
                {
                  "description": "Memory recording: Segment  Classify  Spawn  Hints  Store",
                  "enum": [
                    "memory_recording"
                  ],
                  "type": "string"
                },
                {
                  "description": "Query: Parse  Search  Format  Return",
                  "enum": [
                    "query"
                  ],
                  "type": "string"
                },
                {
                  "description": "Analysis: Parse  Search  Analyze  Synthesize",
                  "enum": [
                    "analysis"
                  ],
                  "type": "string"
                },
                {
                  "description": "Command: Parse  Validate  Execute  Confirm",
                  "enum": [
                    "command"
                  ],
                  "type": "string"
                },
                {
                  "description": "Conversation: Understand  Respond",
                  "enum": [
                    "conversation"
                  ],
                  "type": "string"
                },
                {
                  "description": "Multi-modal: Route  Process per modality  Merge",
                  "enum": [
                    "multi_modal"
                  ],
                  "type": "string"
                }
              ]
            },
            "StepCondition": {
              "description": "Condition for conditional execution",
              "properties": {
                "condition_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ConditionType"
                    }
                  ],
                  "description": "Type of condition"
                },
                "operator": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ConditionOperator"
                    }
                  ],
                  "description": "Operator"
                },
                "path": {
                  "description": "Path to check",
                  "type": "string"
                },
                "source_step": {
                  "description": "Source step to check",
                  "type": "string"
                },
                "value": {
                  "description": "Value to compare"
                }
              },
              "required": [
                "condition_type",
                "operator",
                "path",
                "source_step",
                "value"
              ],
              "type": "object"
            },
            "ToolChain": {
              "description": "A chain of tools to execute",
              "properties": {
                "context_strategy": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ContextStrategy"
                    }
                  ],
                  "description": "How context flows between steps"
                },
                "description": {
                  "description": "Description",
                  "type": "string"
                },
                "error_strategy": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ErrorStrategy"
                    }
                  ],
                  "description": "Error handling strategy"
                },
                "id": {
                  "description": "Chain identifier",
                  "type": "string"
                },
                "name": {
                  "description": "Human-readable name",
                  "type": "string"
                },
                "steps": {
                  "description": "Steps in the chain",
                  "items": {
                    "$ref": "#/definitions/ToolChainStep"
                  },
                  "type": "array"
                }
              },
              "required": [
                "context_strategy",
                "description",
                "error_strategy",
                "id",
                "name",
                "steps"
              ],
              "type": "object"
            },
            "ToolChainStep": {
              "description": "A step in a tool chain",
              "properties": {
                "condition": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/StepCondition"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Condition for execution (if conditional)"
                },
                "execution_order": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ExecutionOrder"
                    }
                  ],
                  "description": "Execution order"
                },
                "id": {
                  "description": "Step identifier",
                  "type": "string"
                },
                "input_mapping": {
                  "default": [],
                  "description": "Input mapping from previous steps",
                  "items": {
                    "$ref": "#/definitions/InputMapping"
                  },
                  "type": "array"
                },
                "parallel_with": {
                  "default": [],
                  "description": "Steps to run in parallel with this one",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "required": {
                  "default": true,
                  "description": "Whether step is required or optional",
                  "type": "boolean"
                },
                "timeout_ms": {
                  "default": null,
                  "description": "Timeout in milliseconds",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "tool": {
                  "description": "Tool to execute",
                  "type": "string"
                }
              },
              "required": [
                "execution_order",
                "id",
                "tool"
              ],
              "type": "object"
            },
            "TriggerType": {
              "description": "Types of triggers",
              "oneOf": [
                {
                  "description": "Match on purpose type",
                  "enum": [
                    "purpose"
                  ],
                  "type": "string"
                },
                {
                  "description": "Match on modality",
                  "enum": [
                    "modality"
                  ],
                  "type": "string"
                },
                {
                  "description": "Match on entity type",
                  "enum": [
                    "entity_type"
                  ],
                  "type": "string"
                },
                {
                  "description": "Match on keyword",
                  "enum": [
                    "keyword"
                  ],
                  "type": "string"
                },
                {
                  "description": "Custom condition",
                  "enum": [
                    "custom"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Standard processing pipeline definitions",
          "properties": {
            "chain": {
              "allOf": [
                {
                  "$ref": "#/definitions/ToolChain"
                }
              ],
              "description": "The tool chain"
            },
            "pipeline_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/PipelineType"
                }
              ],
              "description": "Pipeline type"
            },
            "triggers": {
              "description": "When to use this pipeline",
              "items": {
                "$ref": "#/definitions/PipelineTrigger"
              },
              "type": "array"
            }
          },
          "required": [
            "chain",
            "pipeline_type",
            "triggers"
          ],
          "title": "StandardPipeline",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/StandardPipeline.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "22322d2780416e5c9221bd6e8edfd641e7176dd0761342118a6894818720b5f5",
      "created_at": "2025-12-18T18:59:43.185507Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SpawnConfig",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Configuration for spawn decisions",
          "properties": {
            "auto_spawn_enabled": {
              "default": true,
              "description": "Whether to auto-spawn high confidence entities",
              "type": "boolean"
            },
            "high_confidence_threshold": {
              "default": 0.8,
              "description": "High confidence threshold (auto-spawn above this)",
              "format": "double",
              "type": "number"
            },
            "low_confidence_threshold": {
              "default": 0.3,
              "description": "Low confidence threshold (skip below this)",
              "format": "double",
              "type": "number"
            },
            "manual_only_types": {
              "default": [],
              "description": "Entity types that should never auto-spawn",
              "items": {
                "$ref": "#/definitions/EntityType"
              },
              "type": "array"
            },
            "max_entities_per_segment": {
              "default": 3,
              "description": "Maximum entities to spawn from one segment",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "medium_confidence_threshold": {
              "default": 0.5,
              "description": "Medium confidence threshold (suggest above this)",
              "format": "double",
              "type": "number"
            }
          },
          "title": "SpawnConfig",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SpawnConfig.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "fc886d637a33b22b31b87d71afdaf41ba9f71c22f763cf868dc5b08ed94a0284",
      "created_at": "2025-12-18T18:59:43.185916Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SpawnSuggesterOutput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "BindingHints": {
              "description": "Hints for cognitive binding between entities",
              "properties": {
                "binding_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/BindingType"
                    }
                  ],
                  "description": "Type of cognitive binding"
                },
                "context": {
                  "default": null,
                  "description": "Context explaining the binding",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "directionality": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/Directionality"
                    }
                  ],
                  "description": "Directionality of binding"
                },
                "source": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityReference"
                    }
                  ],
                  "description": "Source entity"
                },
                "strength": {
                  "description": "Strength of binding (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "target": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityReference"
                    }
                  ],
                  "description": "Target entity"
                },
                "temporal": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/TemporalBinding"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Temporal aspect of binding"
                }
              },
              "required": [
                "binding_type",
                "directionality",
                "source",
                "strength",
                "target"
              ],
              "type": "object"
            },
            "BindingType": {
              "description": "Types of cognitive binding",
              "oneOf": [
                {
                  "description": "Cause leads to effect",
                  "enum": [
                    "causal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Temporal sequence (before/after)",
                  "enum": [
                    "temporal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Associated by proximity/context",
                  "enum": [
                    "associative"
                  ],
                  "type": "string"
                },
                {
                  "description": "Part-whole relationship",
                  "enum": [
                    "compositional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Contrast/opposition",
                  "enum": [
                    "contrastive"
                  ],
                  "type": "string"
                },
                {
                  "description": "Similarity/analogy",
                  "enum": [
                    "analogical"
                  ],
                  "type": "string"
                },
                {
                  "description": "Enables/prerequisite",
                  "enum": [
                    "enabling"
                  ],
                  "type": "string"
                },
                {
                  "description": "Thematic connection",
                  "enum": [
                    "thematic"
                  ],
                  "type": "string"
                }
              ]
            },
            "BondHints": {
              "description": "Hints for relationship bonds",
              "properties": {
                "description": {
                  "default": null,
                  "description": "Description of relationship",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "reciprocity": {
                  "default": 0.5,
                  "description": "Reciprocity (0.0 one-way to 1.0 mutual)",
                  "format": "double",
                  "type": "number"
                },
                "relationship_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/RelationshipType"
                    }
                  ],
                  "description": "Relationship type"
                },
                "source": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadReference"
                    }
                  ],
                  "description": "Source entity (head of relationship)"
                },
                "strength": {
                  "description": "Strength of relationship (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "target": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadReference"
                    }
                  ],
                  "description": "Target entity (tail of relationship)"
                },
                "valence": {
                  "description": "Valence of relationship (-1.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "relationship_type",
                "source",
                "strength",
                "target",
                "valence"
              ],
              "type": "object"
            },
            "Directionality": {
              "description": "Directionality of binding",
              "oneOf": [
                {
                  "description": "Only source  target",
                  "enum": [
                    "unidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "Both directions",
                  "enum": [
                    "bidirectional"
                  ],
                  "type": "string"
                },
                {
                  "description": "No inherent direction",
                  "enum": [
                    "undirected"
                  ],
                  "type": "string"
                }
              ]
            },
            "EntityContent": {
              "description": "Content for the spawned entity",
              "properties": {
                "enriched_text": {
                  "default": null,
                  "description": "Enriched/contextualized content",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "tags": {
                  "default": [],
                  "description": "Tags extracted",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "text": {
                  "description": "Primary content text",
                  "type": "string"
                },
                "title": {
                  "default": null,
                  "description": "Title/summary",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            },
            "EntityReference": {
              "description": "Reference to an entity for binding",
              "properties": {
                "description": {
                  "description": "Description for matching",
                  "type": "string"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityType"
                    }
                  ],
                  "description": "Entity type"
                },
                "id": {
                  "default": null,
                  "description": "Entity ID (if existing)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "description",
                "entity_type"
              ],
              "type": "object"
            },
            "EntityType": {
              "description": "Entity types from the Symmetric Seven ontology",
              "oneOf": [
                {
                  "description": "A specific event/action that happened (Narrative/External Particle) Linguistic marker: Action verbs (went, did, met, called)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Internal state/feeling/emotion (Internal Particle) Linguistic marker: State verbs + evaluative language (felt, was nice)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Definition of person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "Relationship between entities (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                }
              ]
            },
            "PhysicsHints": {
              "description": "Hints for physics/VAE space positioning",
              "properties": {
                "arousal": {
                  "description": "Arousal: 0.0 (calm) to 1.0 (excited/energized)",
                  "format": "double",
                  "type": "number"
                },
                "certainty": {
                  "default": 0.5,
                  "description": "Epistemic certainty: 0.0 (uncertain) to 1.0 (certain)",
                  "format": "double",
                  "type": "number"
                },
                "reasoning": {
                  "default": null,
                  "description": "Reasoning for physics values",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "significance": {
                  "description": "Significance/mass: 0.0 (trivial) to 1.0 (very important)",
                  "format": "double",
                  "type": "number"
                },
                "valence": {
                  "description": "Valence: -1.0 (negative) to 1.0 (positive)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "significance",
                "valence"
              ],
              "type": "object"
            },
            "RelationshipType": {
              "description": "Types of relationships",
              "enum": [
                "family",
                "friend",
                "close_friend",
                "best_friend",
                "romantic",
                "ex_romantic",
                "spouse",
                "parent",
                "child",
                "sibling",
                "colleague",
                "manager",
                "direct_report",
                "mentor",
                "mentee",
                "client",
                "vendor",
                "partner",
                "acquaintance",
                "neighbor",
                "classmate",
                "teammate",
                "adversary",
                "rival",
                "service_provider",
                "other"
              ],
              "type": "string"
            },
            "SpawnAction": {
              "description": "Action to take for spawn",
              "oneOf": [
                {
                  "description": "Auto-spawn without user confirmation",
                  "enum": [
                    "auto_spawn"
                  ],
                  "type": "string"
                },
                {
                  "description": "Suggest to user for review",
                  "enum": [
                    "suggest"
                  ],
                  "type": "string"
                },
                {
                  "description": "Skip but log for analysis",
                  "enum": [
                    "skip"
                  ],
                  "type": "string"
                },
                {
                  "description": "Request clarification from user",
                  "enum": [
                    "clarify"
                  ],
                  "type": "string"
                }
              ]
            },
            "SpawnHints": {
              "description": "All hints for a spawned entity",
              "properties": {
                "binding": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/BindingHints"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Binding hints for cognitive connections"
                },
                "bond": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/BondHints"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Bond hints for relationships"
                },
                "physics": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/PhysicsHints"
                    }
                  ],
                  "description": "Physics hints for VAE space positioning"
                },
                "thread": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadHints"
                    }
                  ],
                  "description": "Thread hints for narrative connections"
                }
              },
              "required": [
                "physics",
                "thread"
              ],
              "type": "object"
            },
            "SpawnSuggestion": {
              "description": "A suggestion to spawn an entity",
              "properties": {
                "action": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SpawnAction"
                    }
                  ],
                  "description": "Spawn action"
                },
                "confidence": {
                  "description": "Confidence in this spawn",
                  "format": "double",
                  "type": "number"
                },
                "content": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityContent"
                    }
                  ],
                  "description": "Content to use for entity"
                },
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/EntityType"
                    }
                  ],
                  "description": "Entity type to spawn"
                },
                "hints": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SpawnHints"
                    }
                  ],
                  "description": "All hints for the entity"
                },
                "reason": {
                  "description": "Reason for suggestion",
                  "type": "string"
                }
              },
              "required": [
                "action",
                "confidence",
                "content",
                "entity_type",
                "hints",
                "reason"
              ],
              "type": "object"
            },
            "SpawnSummary": {
              "description": "Summary of spawn decisions",
              "properties": {
                "auto_spawn_count": {
                  "description": "Auto-spawn count",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "primary_type": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/EntityType"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Primary entity type suggested"
                },
                "review_count": {
                  "description": "Needs review count",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "skipped_count": {
                  "description": "Skipped count",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "total_suggestions": {
                  "description": "Total suggestions",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "auto_spawn_count",
                "review_count",
                "skipped_count",
                "total_suggestions"
              ],
              "type": "object"
            },
            "TemporalBinding": {
              "description": "Temporal aspect of binding",
              "properties": {
                "gap": {
                  "default": null,
                  "description": "Time gap (if known)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "relation": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/TemporalRelation"
                    }
                  ],
                  "description": "Time relationship"
                }
              },
              "required": [
                "relation"
              ],
              "type": "object"
            },
            "TemporalRelation": {
              "description": "Temporal relationships",
              "enum": [
                "before",
                "after",
                "during",
                "simultaneous",
                "overlapping"
              ],
              "type": "string"
            },
            "ThreadHints": {
              "description": "Hints for thread/narrative connections",
              "properties": {
                "create_if_missing": {
                  "default": false,
                  "description": "Should create new thread if no match?",
                  "type": "boolean"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords for thread matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "primary_subject": {
                  "description": "Primary subject/actor",
                  "type": "string"
                },
                "related_threads": {
                  "default": [],
                  "description": "Related threads to link",
                  "items": {
                    "$ref": "#/definitions/ThreadReference"
                  },
                  "type": "array"
                },
                "thread_role": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ThreadRole"
                    }
                  ],
                  "description": "Role of entity in narrative"
                }
              },
              "required": [
                "primary_subject",
                "thread_role"
              ],
              "type": "object"
            },
            "ThreadReference": {
              "description": "Reference to an existing thread",
              "properties": {
                "aliases": {
                  "default": [],
                  "description": "Aliases for matching",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "name": {
                  "description": "Thread name/label",
                  "type": "string"
                },
                "thread_type": {
                  "description": "Thread type (person, place, concept, etc.)",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "name",
                "thread_type"
              ],
              "type": "object"
            },
            "ThreadRole": {
              "description": "Role of entity relative to threads",
              "oneOf": [
                {
                  "description": "Entity is the actor/doer",
                  "enum": [
                    "actor"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is the subject being discussed",
                  "enum": [
                    "subject"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is observing/witnessing",
                  "enum": [
                    "observer"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is the target of action",
                  "enum": [
                    "target"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is setting/location",
                  "enum": [
                    "setting"
                  ],
                  "type": "string"
                },
                {
                  "description": "Entity is an instrument/tool",
                  "enum": [
                    "instrument"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Output from spawn suggestion tool",
          "properties": {
            "suggestions": {
              "description": "Entities to spawn",
              "items": {
                "$ref": "#/definitions/SpawnSuggestion"
              },
              "type": "array"
            },
            "summary": {
              "allOf": [
                {
                  "$ref": "#/definitions/SpawnSummary"
                }
              ],
              "description": "Overall spawn decision summary"
            }
          },
          "required": [
            "suggestions",
            "summary"
          ],
          "title": "SpawnSuggesterOutput",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SpawnSuggesterOutput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "508ec52f2854476698b652c4e2d888a8d88951bf697fbbd546a08237fddc2e9d",
      "created_at": "2025-12-18T18:59:43.186409Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AudioFeatures",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Audio characteristics",
          "properties": {
            "pitch_variance": {
              "default": null,
              "description": "Pitch variation",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "speaking_rate": {
              "default": null,
              "description": "Speaking rate (words per minute)",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "voice_emotion": {
              "default": null,
              "description": "Detected emotion from voice",
              "type": [
                "string",
                "null"
              ]
            },
            "volume": {
              "description": "Average volume (0.0 to 1.0)",
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "volume"
          ],
          "title": "AudioFeatures",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/AudioFeatures.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "39a4a7c836e9cf2380de1bf2b6957520d3ba486eff87f8ae6f196b1631ea3795",
      "created_at": "2025-12-18T18:59:43.186674Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityContent",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Content for the spawned entity",
          "properties": {
            "enriched_text": {
              "default": null,
              "description": "Enriched/contextualized content",
              "type": [
                "string",
                "null"
              ]
            },
            "tags": {
              "default": [],
              "description": "Tags extracted",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "text": {
              "description": "Primary content text",
              "type": "string"
            },
            "title": {
              "default": null,
              "description": "Title/summary",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "text"
          ],
          "title": "EntityContent",
          "type": "object"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/EntityContent.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "43d332b7f92c6cc317dfa41594196476adfe25b6a914bc5300a99020bb5a283a",
      "created_at": "2025-12-18T18:59:43.186771Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SubjectType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Types of subjects",
          "oneOf": [
            {
              "description": "The user themselves",
              "enum": [
                "self_"
              ],
              "type": "string"
            },
            {
              "description": "Another person",
              "enum": [
                "person"
              ],
              "type": "string"
            },
            {
              "description": "A place",
              "enum": [
                "place"
              ],
              "type": "string"
            },
            {
              "description": "An organization",
              "enum": [
                "organization"
              ],
              "type": "string"
            },
            {
              "description": "A concept/topic",
              "enum": [
                "concept"
              ],
              "type": "string"
            },
            {
              "description": "An event",
              "enum": [
                "event"
              ],
              "type": "string"
            },
            {
              "description": "An object/thing",
              "enum": [
                "object"
              ],
              "type": "string"
            },
            {
              "description": "Unknown/other",
              "enum": [
                "other"
              ],
              "type": "string"
            }
          ],
          "title": "SubjectType"
        },
        "category": "tools",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/tools/SubjectType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "1396fe388243f7bbc97ef060f8069e59fafd77e3101334c843f9e79541e744b9",
      "created_at": "2025-12-18T18:59:43.186978Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MessageRole",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Role in a chat conversation",
          "oneOf": [
            {
              "description": "System instructions",
              "enum": [
                "system"
              ],
              "type": "string"
            },
            {
              "description": "User input",
              "enum": [
                "user"
              ],
              "type": "string"
            },
            {
              "description": "Assistant response",
              "enum": [
                "assistant"
              ],
              "type": "string"
            }
          ],
          "title": "MessageRole"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/MessageRole.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6126ed6334003910298344aa449fe0cc5ad7a7cc05aa1cd8ac9d28ea1fc6d0db",
      "created_at": "2025-12-18T18:59:43.187090Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DbStoreError",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Errors that can occur during database operations",
          "oneOf": [
            {
              "description": "Connection failed",
              "properties": {
                "details": {
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "Connection"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "details",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Query execution failed",
              "properties": {
                "details": {
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "query": {
                      "type": [
                        "string",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "Query"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "details",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Entity not found",
              "properties": {
                "details": {
                  "properties": {
                    "entity_type": {
                      "type": "string"
                    },
                    "id": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "entity_type",
                    "id"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "NotFound"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "details",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Constraint violation (unique, foreign key, etc.)",
              "properties": {
                "details": {
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "Constraint"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "details",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Serialization/deserialization error",
              "properties": {
                "details": {
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "Serialization"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "details",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Transaction failed",
              "properties": {
                "details": {
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "Transaction"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "details",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Migration error",
              "properties": {
                "details": {
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "Migration"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "details",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Operation failed (e.g. S3/MinIO)",
              "properties": {
                "details": {
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "Operation"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "details",
                "type"
              ],
              "type": "object"
            }
          ],
          "title": "DbStoreError"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/DbStoreError.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b533bdd2cbd4c1fa0bd5900992a1308454107f9db5866ecaa64d596186f0f166",
      "created_at": "2025-12-18T18:59:43.187239Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ToolCallStatus",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Status of a tool call during execution",
          "enum": [
            "pending",
            "running",
            "complete",
            "error"
          ],
          "title": "ToolCallStatus",
          "type": "string"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/ToolCallStatus.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d6349254ae8f5f4712fa00614e62547a10096a2ee59c0b473175c5b76bb753f4",
      "created_at": "2025-12-18T18:59:43.187393Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ConversationHistoryItem",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A single item in conversation history",
          "properties": {
            "content": {
              "description": "Content of the message",
              "type": "string"
            },
            "role": {
              "description": "Role: \"user\" or \"assistant\"",
              "type": "string"
            }
          },
          "required": [
            "content",
            "role"
          ],
          "title": "ConversationHistoryItem",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/ConversationHistoryItem.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "79c48b5d0122543946b9fc0441f6b315775b8d659007fabb77d6b98e1573e3c0",
      "created_at": "2025-12-18T18:59:43.187483Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ShuttleStatus",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Processing status for a Shuttle",
          "oneOf": [
            {
              "description": "Segment received, not yet processed",
              "enum": [
                "pending"
              ],
              "type": "string"
            },
            {
              "description": "Currently being classified by LLM",
              "enum": [
                "classifying"
              ],
              "type": "string"
            },
            {
              "description": "Classification complete, spawning entities",
              "enum": [
                "spawning"
              ],
              "type": "string"
            },
            {
              "description": "All processing complete",
              "enum": [
                "complete"
              ],
              "type": "string"
            },
            {
              "description": "Processing failed",
              "enum": [
                "failed"
              ],
              "type": "string"
            }
          ],
          "title": "ShuttleStatus"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/ShuttleStatus.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "35bf2857850ce8e9ce7c6c557fc3acaf743f2dcd387da4630f2df0d54d825f19",
      "created_at": "2025-12-18T18:59:43.187568Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MessageIntent",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "The primary intent of the user's message",
          "oneOf": [
            {
              "description": "Recording something - events, states, observations (current default)",
              "enum": [
                "LOG"
              ],
              "type": "string"
            },
            {
              "description": "Asking a question - wants information back",
              "enum": [
                "QUERY"
              ],
              "type": "string"
            },
            {
              "description": "Requesting system to make connections or derive insights",
              "enum": [
                "INFER"
              ],
              "type": "string"
            },
            {
              "description": "Looking up specific entities, threads, or past entries",
              "enum": [
                "REFERENCE"
              ],
              "type": "string"
            },
            {
              "description": "Requesting analysis, patterns, or reflection on data",
              "enum": [
                "REFLECT"
              ],
              "type": "string"
            },
            {
              "description": "Giving a command/instruction to the system",
              "enum": [
                "COMMAND"
              ],
              "type": "string"
            },
            {
              "description": "Conversational/social - greetings, acknowledgments",
              "enum": [
                "SOCIAL"
              ],
              "type": "string"
            }
          ],
          "title": "MessageIntent"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/MessageIntent.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e4b10514109155dccfde27870d6d79eb8a72c86fea10120657901d841141d7a5",
      "created_at": "2025-12-18T18:59:43.187653Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "WsMessage",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AccordionState": {
              "enum": [
                "collapsed",
                "expanded"
              ],
              "type": "string"
            },
            "Block": {
              "description": "A single visual block in a message",
              "oneOf": [
                {
                  "description": "Displays text, possibly alongside an accessory (image, button, etc.)",
                  "properties": {
                    "accessory": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/BlockElement"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "fields": {
                      "items": {
                        "$ref": "#/definitions/TextObject"
                      },
                      "type": [
                        "array",
                        "null"
                      ]
                    },
                    "text": {
                      "$ref": "#/definitions/TextObject"
                    },
                    "type": {
                      "enum": [
                        "section"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A visual separator",
                  "properties": {
                    "type": {
                      "enum": [
                        "divider"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Displays an image with optional title",
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "title": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/PlainTextObject"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A container for interactive elements (buttons, selects, etc.)",
                  "properties": {
                    "elements": {
                      "items": {
                        "$ref": "#/definitions/BlockElement"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "actions"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "elements",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Displays contextual info (small grey text, images)",
                  "properties": {
                    "elements": {
                      "items": {
                        "$ref": "#/definitions/ContextElement"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "context"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "elements",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A header with large, bold text",
                  "properties": {
                    "text": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "type": {
                      "enum": [
                        "header"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "An input field",
                  "properties": {
                    "element": {
                      "$ref": "#/definitions/BlockElement"
                    },
                    "hint": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/PlainTextObject"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "label": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "optional": {
                      "default": false,
                      "type": "boolean"
                    },
                    "type": {
                      "enum": [
                        "input"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "element",
                    "label",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A collapsible container",
                  "properties": {
                    "blocks": {
                      "items": {
                        "$ref": "#/definitions/Block"
                      },
                      "type": "array"
                    },
                    "initial_state": {
                      "allOf": [
                        {
                          "$ref": "#/definitions/AccordionState"
                        }
                      ],
                      "default": "collapsed"
                    },
                    "summary": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "type": {
                      "enum": [
                        "accordion"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "blocks",
                    "summary",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "BlockElement": {
              "oneOf": [
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "style": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/ButtonStyle"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "text": {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    "type": {
                      "enum": [
                        "button"
                      ],
                      "type": "string"
                    },
                    "url": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "value": {
                      "type": [
                        "string",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "action_id",
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "options": {
                      "items": {
                        "$ref": "#/definitions/OptionObject"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "overflow"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action_id",
                    "options",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "action_id": {
                      "type": "string"
                    },
                    "initial_value": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "multiline": {
                      "default": false,
                      "type": "boolean"
                    },
                    "placeholder": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/PlainTextObject"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "type": {
                      "enum": [
                        "plain_text_input"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "action_id",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "BlockMessage": {
              "description": "The root container for a Block Kit message",
              "properties": {
                "blocks": {
                  "items": {
                    "$ref": "#/definitions/Block"
                  },
                  "type": "array"
                }
              },
              "required": [
                "blocks"
              ],
              "type": "object"
            },
            "ButtonStyle": {
              "enum": [
                "primary",
                "danger"
              ],
              "type": "string"
            },
            "ContextElement": {
              "oneOf": [
                {
                  "properties": {
                    "alt_text": {
                      "type": "string"
                    },
                    "image_url": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "alt_text",
                    "image_url",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "mrkdwn"
                      ],
                      "type": "string"
                    },
                    "verbatim": {
                      "default": false,
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "emoji": {
                      "default": false,
                      "type": "boolean"
                    },
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "plain_text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "MessageStatusType": {
              "description": "Message delivery status",
              "enum": [
                "sending",
                "sent",
                "delivered",
                "read",
                "failed"
              ],
              "type": "string"
            },
            "OptionObject": {
              "properties": {
                "description": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/PlainTextObject"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "text": {
                  "$ref": "#/definitions/PlainTextObject"
                },
                "url": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "value": {
                  "type": "string"
                }
              },
              "required": [
                "text",
                "value"
              ],
              "type": "object"
            },
            "PlainTextObject": {
              "properties": {
                "emoji": {
                  "default": false,
                  "type": "boolean"
                },
                "text": {
                  "type": "string"
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            },
            "TextObject": {
              "oneOf": [
                {
                  "properties": {
                    "emoji": {
                      "default": false,
                      "type": "boolean"
                    },
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "plain_text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "text": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "mrkdwn"
                      ],
                      "type": "string"
                    },
                    "verbatim": {
                      "default": false,
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "text",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            }
          },
          "description": "A message sent from the server to the client via WebSocket",
          "oneOf": [
            {
              "description": "Connection status / Handshake",
              "properties": {
                "job_id": {
                  "type": "string"
                },
                "status": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "status"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "job_id",
                "status",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Typing indicator (agent is processing)",
              "properties": {
                "job_id": {
                  "type": "string"
                },
                "message": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "type": {
                  "enum": [
                    "typing"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "job_id",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Job progress update (with optional Block Kit content)",
              "properties": {
                "blocks": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/BlockMessage"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "details": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "status": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "progress"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "status",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Job completed successfully (with Block Kit content)",
              "properties": {
                "blocks": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/BlockMessage"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "job_id": {
                  "type": "string"
                },
                "result": true,
                "type": {
                  "enum": [
                    "complete"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "job_id",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Error occurred (with Block Kit content)",
              "properties": {
                "blocks": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/BlockMessage"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "job_id": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "message": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "error"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "message",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Message status update (sent, delivered, read)",
              "properties": {
                "message_id": {
                  "type": "string"
                },
                "status": {
                  "$ref": "#/definitions/MessageStatusType"
                },
                "type": {
                  "enum": [
                    "message_status"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "message_id",
                "status",
                "type"
              ],
              "type": "object"
            }
          ],
          "title": "WsMessage"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/WsMessage.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "490f264d9346a2af4f2e20c13581fee1c9cf75215ead181b98e368c67638d921",
      "created_at": "2025-12-18T18:59:43.187789Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RawClassification",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "HeddleEntityType": {
              "description": "The fundamental Entity Types recognized by The Heddle Classification Engine. These map to the Symmetric Seven ontology.",
              "oneOf": [
                {
                  "description": "A specific event that happened in the past (Narrative/External Particle)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A definition of a person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "A statement about the quality of a relationship (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "An internal state snapshot (Internal Particle)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Raw classification from LLM output",
          "properties": {
            "entity_type": {
              "$ref": "#/definitions/HeddleEntityType"
            },
            "weight": {
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "entity_type",
            "weight"
          ],
          "title": "RawClassification",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/RawClassification.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2829e6164e119fc32475762820b040593aa4814705e2bc1fd40acfedc0fbd678",
      "created_at": "2025-12-18T18:59:43.188186Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MessageClassification",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "MessageIntent": {
              "description": "The primary intent of the user's message",
              "oneOf": [
                {
                  "description": "Recording something - events, states, observations (current default)",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information back",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting system to make connections or derive insights",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities, threads, or past entries",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis, patterns, or reflection on data",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Giving a command/instruction to the system",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Conversational/social - greetings, acknowledgments",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                }
              ]
            },
            "QueryTarget": {
              "description": "Query target - what data is the query looking for?",
              "properties": {
                "entity_types": {
                  "default": [],
                  "description": "The entity/thread types being queried (e.g., \"moments\", \"threads\", \"pulses\")",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted from the query",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "temporal_scope": {
                  "default": null,
                  "description": "Temporal scope (e.g., \"today\", \"last week\", \"all time\")",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "thread_hints": {
                  "default": [],
                  "description": "Specific thread hints (names, concepts) to search for",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "QueryType": {
              "description": "The type of query (when MessageIntent is QUERY)",
              "oneOf": [
                {
                  "description": "When did X happen? Time-based lookup",
                  "enum": [
                    "TEMPORAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Who/what questions - entity lookup",
                  "enum": [
                    "ENTITY"
                  ],
                  "type": "string"
                },
                {
                  "description": "How often? Pattern/frequency questions",
                  "enum": [
                    "PATTERN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Compare X and Y",
                  "enum": [
                    "COMPARISON"
                  ],
                  "type": "string"
                },
                {
                  "description": "Give me a summary/overview",
                  "enum": [
                    "SUMMARY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Count/quantity questions (how many?)",
                  "enum": [
                    "QUANTITATIVE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Yes/no questions (did X happen?)",
                  "enum": [
                    "BOOLEAN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Why questions - causation",
                  "enum": [
                    "CAUSAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Location-based questions",
                  "enum": [
                    "SPATIAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Open-ended/exploratory",
                  "enum": [
                    "EXPLORATORY"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Complete message classification (intent + optional details)",
          "properties": {
            "confidence": {
              "description": "Confidence in the classification (0.0 to 1.0)",
              "format": "double",
              "type": "number"
            },
            "intent": {
              "allOf": [
                {
                  "$ref": "#/definitions/MessageIntent"
                }
              ],
              "description": "Primary intent of the message"
            },
            "query_target": {
              "anyOf": [
                {
                  "$ref": "#/definitions/QueryTarget"
                },
                {
                  "type": "null"
                }
              ],
              "description": "If QUERY, what data is being requested"
            },
            "query_type": {
              "anyOf": [
                {
                  "$ref": "#/definitions/QueryType"
                },
                {
                  "type": "null"
                }
              ],
              "description": "If QUERY, what type of query"
            },
            "secondary_intents": {
              "description": "Alternative intents that might also apply",
              "items": {
                "items": [
                  {
                    "$ref": "#/definitions/MessageIntent"
                  },
                  {
                    "format": "double",
                    "type": "number"
                  }
                ],
                "maxItems": 2,
                "minItems": 2,
                "type": "array"
              },
              "type": "array"
            }
          },
          "required": [
            "confidence",
            "intent"
          ],
          "title": "MessageClassification",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/MessageClassification.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "9286284cf10e6b0f2461235748b48e27e087b3c64bcc4e1bbc54ce40b98f084a",
      "created_at": "2025-12-18T18:59:43.188323Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ObserverError",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AIProvider": {
              "description": "AI Provider enumeration",
              "enum": [
                "openai",
                "anthropic",
                "google",
                "mock"
              ],
              "type": "string"
            }
          },
          "description": "Errors that can occur during AI observation",
          "oneOf": [
            {
              "description": "Configuration error (missing API key, invalid model, etc.)",
              "properties": {
                "details": {
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "Configuration"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "details",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "The AI provider returned an invalid response",
              "properties": {
                "details": {
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "provider": {
                      "$ref": "#/definitions/AIProvider"
                    },
                    "raw_response": {
                      "type": [
                        "string",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "message",
                    "provider"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "InvalidResponse"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "details",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Network or API error",
              "properties": {
                "details": {
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "provider": {
                      "$ref": "#/definitions/AIProvider"
                    },
                    "status_code": {
                      "format": "uint16",
                      "minimum": 0.0,
                      "type": [
                        "integer",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "message",
                    "provider"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "Network"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "details",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Rate limit exceeded",
              "properties": {
                "details": {
                  "properties": {
                    "provider": {
                      "$ref": "#/definitions/AIProvider"
                    },
                    "retry_after_ms": {
                      "format": "uint64",
                      "minimum": 0.0,
                      "type": [
                        "integer",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "provider"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "RateLimited"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "details",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "The AI refused to process (content policy)",
              "properties": {
                "details": {
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "provider": {
                      "$ref": "#/definitions/AIProvider"
                    }
                  },
                  "required": [
                    "message",
                    "provider"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "ContentFiltered"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "details",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Deserialization failed",
              "properties": {
                "details": {
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "raw_content": {
                      "type": [
                        "string",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "ParseError"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "details",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Timeout",
              "properties": {
                "details": {
                  "properties": {
                    "provider": {
                      "$ref": "#/definitions/AIProvider"
                    },
                    "timeout_ms": {
                      "format": "uint64",
                      "minimum": 0.0,
                      "type": "integer"
                    }
                  },
                  "required": [
                    "provider",
                    "timeout_ms"
                  ],
                  "type": "object"
                },
                "type": {
                  "enum": [
                    "Timeout"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "details",
                "type"
              ],
              "type": "object"
            }
          ],
          "title": "ObserverError"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/ObserverError.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d523d9599ec7a2f7dd97c818d87d649fc2c8db5e85fcdedf695e526c753f93f3",
      "created_at": "2025-12-18T18:59:43.188489Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MomentType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "Event",
            "Realization",
            "Interaction",
            "Observation"
          ],
          "title": "MomentType",
          "type": "string"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/MomentType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "73ae712e6727ec535bda8f5d1a9686803b1ab19718b212f9c7c6ab08c49ca19c",
      "created_at": "2025-12-18T18:59:43.188648Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ThreadType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "Person",
            "Place",
            "Concept",
            "GenericObject"
          ],
          "title": "ThreadType",
          "type": "string"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/ThreadType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "78f39be47b3e54760910448eab98fbb4580d62a6a2f884f658f352605488e8b5",
      "created_at": "2025-12-18T18:59:43.188741Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SegmentClassification",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ClassificationPhysics": {
              "description": "Physics hints extracted during classification",
              "properties": {
                "arousal": {
                  "default": null,
                  "description": "Activation level: 0.0 (calm) to 1.0 (activated)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "clarity": {
                  "default": null,
                  "description": "How clear/specific: 0.0 (vague) to 1.0 (clear)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "significance": {
                  "default": null,
                  "description": "How significant/important: 0.0 to 1.0",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "valence": {
                  "default": null,
                  "description": "Emotional valence: -1.0 (negative) to 1.0 (positive)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "HeddleEntityType": {
              "description": "The fundamental Entity Types recognized by The Heddle Classification Engine. These map to the Symmetric Seven ontology.",
              "oneOf": [
                {
                  "description": "A specific event that happened in the past (Narrative/External Particle)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A definition of a person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "A statement about the quality of a relationship (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "An internal state snapshot (Internal Particle)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                }
              ]
            },
            "MessageIntent": {
              "description": "The primary intent of the user's message",
              "oneOf": [
                {
                  "description": "Recording something - events, states, observations (current default)",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information back",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting system to make connections or derive insights",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities, threads, or past entries",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis, patterns, or reflection on data",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Giving a command/instruction to the system",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Conversational/social - greetings, acknowledgments",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Classification for a single segment",
          "properties": {
            "entity_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/HeddleEntityType"
                }
              ],
              "description": "The entity type (MOMENT, PULSE, INTENT) - relevant for LOG purpose"
            },
            "physics": {
              "anyOf": [
                {
                  "$ref": "#/definitions/ClassificationPhysics"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Physics hints for entity spawning (only for LOG purpose)"
            },
            "purpose": {
              "allOf": [
                {
                  "$ref": "#/definitions/MessageIntent"
                }
              ],
              "default": "LOG",
              "description": "Purpose of this specific segment (LOG, QUERY, COMMAND, etc.) Only LOG segments spawn entities"
            },
            "segment_index": {
              "description": "Index of the segment being classified",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "weight": {
              "default": 1.0,
              "description": "Confidence weight (0.0 to 1.0)",
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "entity_type",
            "segment_index"
          ],
          "title": "SegmentClassification",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/SegmentClassification.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "27cc02d8b7c29b74980fb598e9f09f4b0a3b50aa9c01d5eddfe5cc23d5400374",
      "created_at": "2025-12-18T18:59:43.189020Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "InternalStateType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "emotional_shift",
            "realization",
            "reflection",
            "observation",
            "reaction"
          ],
          "title": "InternalStateType",
          "type": "string"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/InternalStateType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "a36d8b4121783f4433984985eda05b13480e9f151fbb1b570a929ac985fc9af2",
      "created_at": "2025-12-18T18:59:43.189225Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UIThinkingStep",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A thinking/reasoning step for chain-of-thought visibility",
          "properties": {
            "agent": {
              "description": "Which agent produced this thought",
              "type": "string"
            },
            "id": {
              "description": "Unique ID",
              "type": "string"
            },
            "thought": {
              "description": "The thought/reasoning content",
              "type": "string"
            },
            "timestamp": {
              "default": null,
              "description": "Timestamp",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "agent",
            "id",
            "thought"
          ],
          "title": "UIThinkingStep",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/UIThinkingStep.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "a2953ea6bb3861a9eb1bb11c1aa6835259844929680e361c807224f7df81e6ce",
      "created_at": "2025-12-18T18:59:43.189319Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RawMessageIntent",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "MessageIntent": {
              "description": "The primary intent of the user's message",
              "oneOf": [
                {
                  "description": "Recording something - events, states, observations (current default)",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information back",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting system to make connections or derive insights",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities, threads, or past entries",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis, patterns, or reflection on data",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Giving a command/instruction to the system",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Conversational/social - greetings, acknowledgments",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                }
              ]
            },
            "QueryTarget": {
              "description": "Query target - what data is the query looking for?",
              "properties": {
                "entity_types": {
                  "default": [],
                  "description": "The entity/thread types being queried (e.g., \"moments\", \"threads\", \"pulses\")",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted from the query",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "temporal_scope": {
                  "default": null,
                  "description": "Temporal scope (e.g., \"today\", \"last week\", \"all time\")",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "thread_hints": {
                  "default": [],
                  "description": "Specific thread hints (names, concepts) to search for",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "QueryType": {
              "description": "The type of query (when MessageIntent is QUERY)",
              "oneOf": [
                {
                  "description": "When did X happen? Time-based lookup",
                  "enum": [
                    "TEMPORAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Who/what questions - entity lookup",
                  "enum": [
                    "ENTITY"
                  ],
                  "type": "string"
                },
                {
                  "description": "How often? Pattern/frequency questions",
                  "enum": [
                    "PATTERN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Compare X and Y",
                  "enum": [
                    "COMPARISON"
                  ],
                  "type": "string"
                },
                {
                  "description": "Give me a summary/overview",
                  "enum": [
                    "SUMMARY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Count/quantity questions (how many?)",
                  "enum": [
                    "QUANTITATIVE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Yes/no questions (did X happen?)",
                  "enum": [
                    "BOOLEAN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Why questions - causation",
                  "enum": [
                    "CAUSAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Location-based questions",
                  "enum": [
                    "SPATIAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Open-ended/exploratory",
                  "enum": [
                    "EXPLORATORY"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Raw message intent classification from LLM",
          "properties": {
            "confidence": {
              "default": 1.0,
              "description": "Confidence in classification (0.0 to 1.0)",
              "format": "double",
              "type": "number"
            },
            "intent": {
              "allOf": [
                {
                  "$ref": "#/definitions/MessageIntent"
                }
              ],
              "description": "Primary intent (LOG, QUERY, INFER, REFERENCE, REFLECT, COMMAND, SOCIAL)"
            },
            "query_target": {
              "anyOf": [
                {
                  "$ref": "#/definitions/QueryTarget"
                },
                {
                  "type": "null"
                }
              ],
              "description": "If QUERY: what entities/threads are being queried"
            },
            "query_type": {
              "anyOf": [
                {
                  "$ref": "#/definitions/QueryType"
                },
                {
                  "type": "null"
                }
              ],
              "description": "If QUERY: what type of query"
            }
          },
          "required": [
            "intent"
          ],
          "title": "RawMessageIntent",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/RawMessageIntent.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b05e9ed12e583f51669fb22113e570e47098c325503841ed735bc92c90bec4d7",
      "created_at": "2025-12-18T18:59:43.189424Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UIHeddleResult",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "UIClassification": {
              "description": "A classification result",
              "properties": {
                "confidence": {
                  "format": "double",
                  "type": "number"
                },
                "entity_type": {
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "entity_type"
              ],
              "type": "object"
            },
            "UIHeddleSegment": {
              "description": "A segment from Heddle",
              "properties": {
                "content": {
                  "type": "string"
                },
                "subject": {
                  "default": null,
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content"
              ],
              "type": "object"
            },
            "UIPhysicsResult": {
              "description": "Physics simulation result",
              "properties": {
                "energy": {
                  "format": "double",
                  "type": "number"
                },
                "position": {
                  "items": {
                    "format": "double",
                    "type": "number"
                  },
                  "maxItems": 3,
                  "minItems": 3,
                  "type": "array"
                },
                "temperature": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "energy",
                "position",
                "temperature"
              ],
              "type": "object"
            }
          },
          "description": "Structured result from the Heddle classification pipeline",
          "properties": {
            "classifications": {
              "default": [],
              "description": "Classification results",
              "items": {
                "$ref": "#/definitions/UIClassification"
              },
              "type": "array"
            },
            "physics": {
              "anyOf": [
                {
                  "$ref": "#/definitions/UIPhysicsResult"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Physics hints"
            },
            "purpose": {
              "default": null,
              "description": "Detected purpose/intent",
              "type": [
                "string",
                "null"
              ]
            },
            "segments": {
              "default": [],
              "description": "Segmented content",
              "items": {
                "$ref": "#/definitions/UIHeddleSegment"
              },
              "type": "array"
            }
          },
          "title": "UIHeddleResult",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/UIHeddleResult.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "905655c7606c206adfd8037147787120d6c322c8ef8c308685df3ac7111290df",
      "created_at": "2025-12-18T18:59:43.189588Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CreateTenantInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Input for creating a new tenant",
          "properties": {
            "name": {
              "type": "string"
            },
            "settings": {
              "default": null
            }
          },
          "required": [
            "name"
          ],
          "title": "CreateTenantInput",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/CreateTenantInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "1a6ef32319a30d9981b083f01161bfff131d07906bceb2d6f6b36df3647b2e64",
      "created_at": "2025-12-18T18:59:43.189680Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UIPhysicsResult",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Physics simulation result",
          "properties": {
            "energy": {
              "format": "double",
              "type": "number"
            },
            "position": {
              "items": {
                "format": "double",
                "type": "number"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            },
            "temperature": {
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "energy",
            "position",
            "temperature"
          ],
          "title": "UIPhysicsResult",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/UIPhysicsResult.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "be43ebcb34a33c0392a2762b914f0100398a8628a2d63fe8ad950225e51c3670",
      "created_at": "2025-12-18T18:59:43.189763Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CommandResult",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Result of processing a command",
          "properties": {
            "accepted": {
              "description": "Whether the command was accepted",
              "type": "boolean"
            },
            "error": {
              "default": null,
              "description": "Error message if not accepted",
              "type": [
                "string",
                "null"
              ]
            },
            "job_id": {
              "default": null,
              "description": "Job ID for async tracking",
              "type": [
                "string",
                "null"
              ]
            },
            "thread_id": {
              "default": null,
              "description": "Thread ID (for SendMessage commands)",
              "type": [
                "string",
                "null"
              ]
            },
            "ws_url": {
              "default": null,
              "description": "WebSocket URL for streaming events",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "accepted"
          ],
          "title": "CommandResult",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/CommandResult.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f9c6dea0757cee8ab6a093df25e96cf64d7c57b9017e4b4326fa56ceeb73b1de",
      "created_at": "2025-12-18T18:59:43.189849Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SegmentationResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "RawSegment": {
              "description": "A raw segment from Phase 1 - NO classification, just text",
              "properties": {
                "content": {
                  "description": "The extracted semantic content",
                  "type": "string"
                },
                "mentions": {
                  "default": [],
                  "description": "Other entities/things mentioned",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "subject": {
                  "default": null,
                  "description": "Who/what is the primary subject? (for context, not classification)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "temporal": {
                  "default": null,
                  "description": "Any temporal reference found",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content"
              ],
              "type": "object"
            }
          },
          "description": "Phase 1 response: Just segments, no classification",
          "properties": {
            "segments": {
              "description": "The semantic segments extracted from the input",
              "items": {
                "$ref": "#/definitions/RawSegment"
              },
              "type": "array"
            }
          },
          "required": [
            "segments"
          ],
          "title": "SegmentationResponse",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/SegmentationResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "84b1865b3d44eec7925032a2910578d65dfec244940173f569a3d71fc3280b35",
      "created_at": "2025-12-18T18:59:43.189942Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CreateMemberInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "MemberRole": {
              "description": "Role of a tenant member",
              "enum": [
                "admin",
                "member",
                "guest"
              ],
              "type": "string"
            }
          },
          "description": "Input for creating a new tenant member",
          "properties": {
            "avatar_url": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "email": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "name": {
              "type": "string"
            },
            "role": {
              "anyOf": [
                {
                  "$ref": "#/definitions/MemberRole"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "name",
            "tenant_id"
          ],
          "title": "CreateMemberInput",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/CreateMemberInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "09673c01ed138055a96fb02a31edfa0812c84bd086275a06b7bb7bdbab98c0e1",
      "created_at": "2025-12-18T18:59:43.190032Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UIClassification",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A classification result",
          "properties": {
            "confidence": {
              "format": "double",
              "type": "number"
            },
            "entity_type": {
              "type": "string"
            }
          },
          "required": [
            "confidence",
            "entity_type"
          ],
          "title": "UIClassification",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/UIClassification.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "7f7a239fd93931ba38a5afcb62b81b2b79d8c333782532bdb7e6fa1909fefba5",
      "created_at": "2025-12-18T18:59:43.190123Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "QueryType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "The type of query (when MessageIntent is QUERY)",
          "oneOf": [
            {
              "description": "When did X happen? Time-based lookup",
              "enum": [
                "TEMPORAL"
              ],
              "type": "string"
            },
            {
              "description": "Who/what questions - entity lookup",
              "enum": [
                "ENTITY"
              ],
              "type": "string"
            },
            {
              "description": "How often? Pattern/frequency questions",
              "enum": [
                "PATTERN"
              ],
              "type": "string"
            },
            {
              "description": "Compare X and Y",
              "enum": [
                "COMPARISON"
              ],
              "type": "string"
            },
            {
              "description": "Give me a summary/overview",
              "enum": [
                "SUMMARY"
              ],
              "type": "string"
            },
            {
              "description": "Count/quantity questions (how many?)",
              "enum": [
                "QUANTITATIVE"
              ],
              "type": "string"
            },
            {
              "description": "Yes/no questions (did X happen?)",
              "enum": [
                "BOOLEAN"
              ],
              "type": "string"
            },
            {
              "description": "Why questions - causation",
              "enum": [
                "CAUSAL"
              ],
              "type": "string"
            },
            {
              "description": "Location-based questions",
              "enum": [
                "SPATIAL"
              ],
              "type": "string"
            },
            {
              "description": "Open-ended/exploratory",
              "enum": [
                "EXPLORATORY"
              ],
              "type": "string"
            }
          ],
          "title": "QueryType"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/QueryType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "fd11fca79e7c50756aab320d2627dd91784cbece10a021f9e16152004eb1a865",
      "created_at": "2025-12-18T18:59:43.190210Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DbComponentTable",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Component tables (hypertables for time-series, regular for static)",
          "oneOf": [
            {
              "description": "Field excitations (hypertable - time-series physics state)",
              "enum": [
                "FieldExcitations"
              ],
              "type": "string"
            },
            {
              "description": "Quantum states (vector table for embeddings)",
              "enum": [
                "QuantumStates"
              ],
              "type": "string"
            },
            {
              "description": "Content payloads",
              "enum": [
                "Content"
              ],
              "type": "string"
            },
            {
              "description": "Cognitive optics",
              "enum": [
                "CognitiveOptics"
              ],
              "type": "string"
            },
            {
              "description": "Relational dynamics",
              "enum": [
                "RelationalDynamics"
              ],
              "type": "string"
            },
            {
              "description": "Bond physics",
              "enum": [
                "BondPhysics"
              ],
              "type": "string"
            },
            {
              "description": "Task dynamics",
              "enum": [
                "TaskDynamics"
              ],
              "type": "string"
            }
          ],
          "title": "DbComponentTable"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/DbComponentTable.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "bcd2fdb95235f8a9ad2cf815fc2c9f724659ab086c8e057df16dcbfebb8247eb",
      "created_at": "2025-12-18T18:59:43.190306Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "HeddleEntityType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "The fundamental Entity Types recognized by The Heddle Classification Engine. These map to the Symmetric Seven ontology.",
          "oneOf": [
            {
              "description": "A specific event that happened in the past (Narrative/External Particle)",
              "enum": [
                "MOMENT"
              ],
              "type": "string"
            },
            {
              "description": "A task or goal for the future (Operational/Intentional Particle)",
              "enum": [
                "INTENT"
              ],
              "type": "string"
            },
            {
              "description": "A definition of a person, place, or concept (Definitional/Object)",
              "enum": [
                "THREAD"
              ],
              "type": "string"
            },
            {
              "description": "A statement about the quality of a relationship (Relational/Connection)",
              "enum": [
                "BOND"
              ],
              "type": "string"
            },
            {
              "description": "A recurring external pattern (External Wave)",
              "enum": [
                "MOTIF"
              ],
              "type": "string"
            },
            {
              "description": "A recurring internal pattern (Internal Wave)",
              "enum": [
                "FILAMENT"
              ],
              "type": "string"
            },
            {
              "description": "An active thematic goal (Intentional Wave)",
              "enum": [
                "FOCUS"
              ],
              "type": "string"
            },
            {
              "description": "An internal state snapshot (Internal Particle)",
              "enum": [
                "PULSE"
              ],
              "type": "string"
            }
          ],
          "title": "HeddleEntityType"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/HeddleEntityType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "87606af892ade0137ba6b57322236d9b7c1690780ab05cd930596b16e2d9428a",
      "created_at": "2025-12-18T18:59:43.190390Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UIChannelMessage",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ToolCallStatus": {
              "description": "Status of a tool call during execution",
              "enum": [
                "pending",
                "running",
                "complete",
                "error"
              ],
              "type": "string"
            },
            "UIClassification": {
              "description": "A classification result",
              "properties": {
                "confidence": {
                  "format": "double",
                  "type": "number"
                },
                "entity_type": {
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "entity_type"
              ],
              "type": "object"
            },
            "UIHeddleResult": {
              "description": "Structured result from the Heddle classification pipeline",
              "properties": {
                "classifications": {
                  "default": [],
                  "description": "Classification results",
                  "items": {
                    "$ref": "#/definitions/UIClassification"
                  },
                  "type": "array"
                },
                "physics": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/UIPhysicsResult"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Physics hints"
                },
                "purpose": {
                  "default": null,
                  "description": "Detected purpose/intent",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "segments": {
                  "default": [],
                  "description": "Segmented content",
                  "items": {
                    "$ref": "#/definitions/UIHeddleSegment"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "UIHeddleSegment": {
              "description": "A segment from Heddle",
              "properties": {
                "content": {
                  "type": "string"
                },
                "subject": {
                  "default": null,
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content"
              ],
              "type": "object"
            },
            "UIPhysicsResult": {
              "description": "Physics simulation result",
              "properties": {
                "energy": {
                  "format": "double",
                  "type": "number"
                },
                "position": {
                  "items": {
                    "format": "double",
                    "type": "number"
                  },
                  "maxItems": 3,
                  "minItems": 3,
                  "type": "array"
                },
                "temperature": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "energy",
                "position",
                "temperature"
              ],
              "type": "object"
            },
            "UIThinkingStep": {
              "description": "A thinking/reasoning step for chain-of-thought visibility",
              "properties": {
                "agent": {
                  "description": "Which agent produced this thought",
                  "type": "string"
                },
                "id": {
                  "description": "Unique ID",
                  "type": "string"
                },
                "thought": {
                  "description": "The thought/reasoning content",
                  "type": "string"
                },
                "timestamp": {
                  "default": null,
                  "description": "Timestamp",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "agent",
                "id",
                "thought"
              ],
              "type": "object"
            },
            "UIThreadItem": {
              "description": "An item in a conversation thread (user message or AI response)",
              "properties": {
                "agent_speaker": {
                  "default": null,
                  "description": "For assistant messages: which agent",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "content": {
                  "description": "Text content",
                  "type": "string"
                },
                "current_activity": {
                  "default": null,
                  "description": "Activity description for typing state",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "heddle_result": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/UIHeddleResult"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Heddle classification result"
                },
                "id": {
                  "description": "Unique ID",
                  "type": "string"
                },
                "is_typing": {
                  "default": false,
                  "description": "Is this message still being generated?",
                  "type": "boolean"
                },
                "role": {
                  "description": "Role: \"user\" or \"assistant\"",
                  "type": "string"
                },
                "status": {
                  "default": null,
                  "description": "Current status",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "summary": {
                  "default": null,
                  "description": "Summary for collapsed display",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "thinking_steps": {
                  "default": [],
                  "description": "Chain of thought steps",
                  "items": {
                    "$ref": "#/definitions/UIThinkingStep"
                  },
                  "type": "array"
                },
                "timestamp": {
                  "description": "Timestamp",
                  "type": "string"
                },
                "tool_calls": {
                  "default": [],
                  "description": "Tool calls made",
                  "items": {
                    "$ref": "#/definitions/UIToolCall"
                  },
                  "type": "array"
                }
              },
              "required": [
                "content",
                "id",
                "role",
                "timestamp"
              ],
              "type": "object"
            },
            "UIToolCall": {
              "description": "A tool call with real-time status updates for UI display",
              "properties": {
                "arguments": {
                  "default": null,
                  "description": "Arguments passed to the tool"
                },
                "id": {
                  "description": "Unique ID for this tool call",
                  "type": "string"
                },
                "result": {
                  "default": null,
                  "description": "Result from the tool"
                },
                "status": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ToolCallStatus"
                    }
                  ],
                  "description": "Current status"
                },
                "tool": {
                  "description": "Name of the tool",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "status",
                "tool"
              ],
              "type": "object"
            }
          },
          "description": "A user message that starts a thread in a channel",
          "properties": {
            "content": {
              "description": "Original user message content",
              "type": "string"
            },
            "id": {
              "description": "Unique ID",
              "type": "string"
            },
            "is_active": {
              "default": false,
              "description": "Is this the active/latest message?",
              "type": "boolean"
            },
            "is_expanded": {
              "default": false,
              "description": "Is thread expanded in UI?",
              "type": "boolean"
            },
            "thread": {
              "description": "Thread of responses and follow-ups",
              "items": {
                "$ref": "#/definitions/UIThreadItem"
              },
              "type": "array"
            },
            "timestamp": {
              "description": "When posted",
              "type": "string"
            }
          },
          "required": [
            "content",
            "id",
            "thread",
            "timestamp"
          ],
          "title": "UIChannelMessage",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/UIChannelMessage.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "69ff320cdd46dfe3fb552adf793bb3825a211fcd6fc48cb12a2b7ec549618982",
      "created_at": "2025-12-18T18:59:43.190510Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "QueryTarget",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Query target - what data is the query looking for?",
          "properties": {
            "entity_types": {
              "default": [],
              "description": "The entity/thread types being queried (e.g., \"moments\", \"threads\", \"pulses\")",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "keywords": {
              "default": [],
              "description": "Keywords extracted from the query",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "temporal_scope": {
              "default": null,
              "description": "Temporal scope (e.g., \"today\", \"last week\", \"all time\")",
              "type": [
                "string",
                "null"
              ]
            },
            "thread_hints": {
              "default": [],
              "description": "Specific thread hints (names, concepts) to search for",
              "items": {
                "type": "string"
              },
              "type": "array"
            }
          },
          "title": "QueryTarget",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/QueryTarget.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "517464243df55c8ab3ef90b11b6acc25bf7dd702b7219920adbda822165ac154",
      "created_at": "2025-12-18T18:59:43.190668Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RawPhysicsHint",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Raw physics hints from LLM (will be applied to spawned entities)",
          "properties": {
            "arousal": {
              "default": null,
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "clarity": {
              "default": null,
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "intrusiveness": {
              "default": null,
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "significance": {
              "default": null,
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "valence": {
              "default": null,
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "volatility": {
              "default": null,
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            }
          },
          "title": "RawPhysicsHint",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/RawPhysicsHint.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "547134a442b448e2e3a7bae4967794c2949c8f0763ea9b608e81f6ecc09c8a43",
      "created_at": "2025-12-18T18:59:43.190763Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RawWeaveUnit",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "HeddleEntityType": {
              "description": "The fundamental Entity Types recognized by The Heddle Classification Engine. These map to the Symmetric Seven ontology.",
              "oneOf": [
                {
                  "description": "A specific event that happened in the past (Narrative/External Particle)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A definition of a person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "A statement about the quality of a relationship (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "An internal state snapshot (Internal Particle)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                }
              ]
            },
            "MessageIntent": {
              "description": "The primary intent of the user's message",
              "oneOf": [
                {
                  "description": "Recording something - events, states, observations (current default)",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information back",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting system to make connections or derive insights",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities, threads, or past entries",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis, patterns, or reflection on data",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Giving a command/instruction to the system",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Conversational/social - greetings, acknowledgments",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                }
              ]
            },
            "RawClassification": {
              "description": "Raw classification from LLM output",
              "properties": {
                "entity_type": {
                  "$ref": "#/definitions/HeddleEntityType"
                },
                "weight": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "entity_type",
                "weight"
              ],
              "type": "object"
            },
            "RawPhysicsHint": {
              "description": "Raw physics hints from LLM (will be applied to spawned entities)",
              "properties": {
                "arousal": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "clarity": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "intrusiveness": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "significance": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "valence": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "volatility": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "type": "object"
            }
          },
          "description": "Raw weave unit from LLM output (before validation)",
          "properties": {
            "classifications": {
              "description": "Classifications in superposition",
              "items": {
                "$ref": "#/definitions/RawClassification"
              },
              "type": "array"
            },
            "content": {
              "description": "The extracted/cleaned text content for this weave unit",
              "type": "string"
            },
            "physics_hint": {
              "anyOf": [
                {
                  "$ref": "#/definitions/RawPhysicsHint"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Physics hints (passed to spawned entities, not stored on WeaveUnit)"
            },
            "primary_thread": {
              "default": null,
              "description": "Primary thread: the main subject/actor of this unit",
              "type": [
                "string",
                "null"
              ]
            },
            "purpose": {
              "allOf": [
                {
                  "$ref": "#/definitions/MessageIntent"
                }
              ],
              "default": "LOG",
              "description": "Purpose of this specific unit (LOG, QUERY, COMMAND, etc.) Only LOG units spawn entities"
            },
            "secondary_threads": {
              "default": null,
              "description": "Secondary threads: other people/places/things mentioned",
              "items": {
                "type": "string"
              },
              "type": [
                "array",
                "null"
              ]
            },
            "temporal_marker": {
              "default": null,
              "description": "Temporal marker: when this happened (absolute, relative, or frequency) Examples: \"6pm\", \"today\", \"yesterday\", \"once per hour\", \"every morning\"",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "classifications",
            "content"
          ],
          "title": "RawWeaveUnit",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/RawWeaveUnit.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6b7d1437b2bde26ada4bbc8a9ab738eebcf66e49146eb8956399194eb98f5b43",
      "created_at": "2025-12-18T18:59:43.190867Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RawSegment",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A raw segment from Phase 1 - NO classification, just text",
          "properties": {
            "content": {
              "description": "The extracted semantic content",
              "type": "string"
            },
            "mentions": {
              "default": [],
              "description": "Other entities/things mentioned",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "subject": {
              "default": null,
              "description": "Who/what is the primary subject? (for context, not classification)",
              "type": [
                "string",
                "null"
              ]
            },
            "temporal": {
              "default": null,
              "description": "Any temporal reference found",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "content"
          ],
          "title": "RawSegment",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/RawSegment.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e5b0392edfa3ba1cfaefdfb1442839350aaef19aafa130bb162ac2a35b992a9e",
      "created_at": "2025-12-18T18:59:43.191028Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PromptPhase",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "Segmentation",
            "Purpose",
            "Classification"
          ],
          "title": "PromptPhase",
          "type": "string"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/PromptPhase.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "10fabaf7938b868958445f94537860179bfab56ef3d4fa8713ddcbf8aba2711e",
      "created_at": "2025-12-18T18:59:43.191116Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MemberRole",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Role of a tenant member",
          "enum": [
            "admin",
            "member",
            "guest"
          ],
          "title": "MemberRole",
          "type": "string"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/MemberRole.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "c6ccacb8cd0fc319587cb7e357150f3b4ac9095c474fb7fa6db60ade854c0fb9",
      "created_at": "2025-12-18T18:59:43.191208Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UIChannel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ToolCallStatus": {
              "description": "Status of a tool call during execution",
              "enum": [
                "pending",
                "running",
                "complete",
                "error"
              ],
              "type": "string"
            },
            "UIChannelMessage": {
              "description": "A user message that starts a thread in a channel",
              "properties": {
                "content": {
                  "description": "Original user message content",
                  "type": "string"
                },
                "id": {
                  "description": "Unique ID",
                  "type": "string"
                },
                "is_active": {
                  "default": false,
                  "description": "Is this the active/latest message?",
                  "type": "boolean"
                },
                "is_expanded": {
                  "default": false,
                  "description": "Is thread expanded in UI?",
                  "type": "boolean"
                },
                "thread": {
                  "description": "Thread of responses and follow-ups",
                  "items": {
                    "$ref": "#/definitions/UIThreadItem"
                  },
                  "type": "array"
                },
                "timestamp": {
                  "description": "When posted",
                  "type": "string"
                }
              },
              "required": [
                "content",
                "id",
                "thread",
                "timestamp"
              ],
              "type": "object"
            },
            "UIClassification": {
              "description": "A classification result",
              "properties": {
                "confidence": {
                  "format": "double",
                  "type": "number"
                },
                "entity_type": {
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "entity_type"
              ],
              "type": "object"
            },
            "UIHeddleResult": {
              "description": "Structured result from the Heddle classification pipeline",
              "properties": {
                "classifications": {
                  "default": [],
                  "description": "Classification results",
                  "items": {
                    "$ref": "#/definitions/UIClassification"
                  },
                  "type": "array"
                },
                "physics": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/UIPhysicsResult"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Physics hints"
                },
                "purpose": {
                  "default": null,
                  "description": "Detected purpose/intent",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "segments": {
                  "default": [],
                  "description": "Segmented content",
                  "items": {
                    "$ref": "#/definitions/UIHeddleSegment"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "UIHeddleSegment": {
              "description": "A segment from Heddle",
              "properties": {
                "content": {
                  "type": "string"
                },
                "subject": {
                  "default": null,
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content"
              ],
              "type": "object"
            },
            "UIPhysicsResult": {
              "description": "Physics simulation result",
              "properties": {
                "energy": {
                  "format": "double",
                  "type": "number"
                },
                "position": {
                  "items": {
                    "format": "double",
                    "type": "number"
                  },
                  "maxItems": 3,
                  "minItems": 3,
                  "type": "array"
                },
                "temperature": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "energy",
                "position",
                "temperature"
              ],
              "type": "object"
            },
            "UIThinkingStep": {
              "description": "A thinking/reasoning step for chain-of-thought visibility",
              "properties": {
                "agent": {
                  "description": "Which agent produced this thought",
                  "type": "string"
                },
                "id": {
                  "description": "Unique ID",
                  "type": "string"
                },
                "thought": {
                  "description": "The thought/reasoning content",
                  "type": "string"
                },
                "timestamp": {
                  "default": null,
                  "description": "Timestamp",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "agent",
                "id",
                "thought"
              ],
              "type": "object"
            },
            "UIThreadItem": {
              "description": "An item in a conversation thread (user message or AI response)",
              "properties": {
                "agent_speaker": {
                  "default": null,
                  "description": "For assistant messages: which agent",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "content": {
                  "description": "Text content",
                  "type": "string"
                },
                "current_activity": {
                  "default": null,
                  "description": "Activity description for typing state",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "heddle_result": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/UIHeddleResult"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Heddle classification result"
                },
                "id": {
                  "description": "Unique ID",
                  "type": "string"
                },
                "is_typing": {
                  "default": false,
                  "description": "Is this message still being generated?",
                  "type": "boolean"
                },
                "role": {
                  "description": "Role: \"user\" or \"assistant\"",
                  "type": "string"
                },
                "status": {
                  "default": null,
                  "description": "Current status",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "summary": {
                  "default": null,
                  "description": "Summary for collapsed display",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "thinking_steps": {
                  "default": [],
                  "description": "Chain of thought steps",
                  "items": {
                    "$ref": "#/definitions/UIThinkingStep"
                  },
                  "type": "array"
                },
                "timestamp": {
                  "description": "Timestamp",
                  "type": "string"
                },
                "tool_calls": {
                  "default": [],
                  "description": "Tool calls made",
                  "items": {
                    "$ref": "#/definitions/UIToolCall"
                  },
                  "type": "array"
                }
              },
              "required": [
                "content",
                "id",
                "role",
                "timestamp"
              ],
              "type": "object"
            },
            "UIToolCall": {
              "description": "A tool call with real-time status updates for UI display",
              "properties": {
                "arguments": {
                  "default": null,
                  "description": "Arguments passed to the tool"
                },
                "id": {
                  "description": "Unique ID for this tool call",
                  "type": "string"
                },
                "result": {
                  "default": null,
                  "description": "Result from the tool"
                },
                "status": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ToolCallStatus"
                    }
                  ],
                  "description": "Current status"
                },
                "tool": {
                  "description": "Name of the tool",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "status",
                "tool"
              ],
              "type": "object"
            }
          },
          "description": "A channel (persistent conversation space)",
          "properties": {
            "created_at": {
              "description": "When created",
              "type": "string"
            },
            "id": {
              "description": "Unique ID",
              "type": "string"
            },
            "messages": {
              "description": "Messages in this channel",
              "items": {
                "$ref": "#/definitions/UIChannelMessage"
              },
              "type": "array"
            },
            "name": {
              "description": "Display name",
              "type": "string"
            },
            "updated_at": {
              "description": "When last updated",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "id",
            "messages",
            "name",
            "updated_at"
          ],
          "title": "UIChannel",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/UIChannel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "c04e22925eea8b5a4e56f6674971dff3a7eaef0b48409fece6989aa9f1ffcd38",
      "created_at": "2025-12-18T18:59:43.191319Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DbEntityTable",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Entity types stored in the database",
          "enum": [
            "Pulse",
            "Thread",
            "Bond",
            "Moment",
            "Intent",
            "Focus",
            "Motif",
            "Filament"
          ],
          "title": "DbEntityTable",
          "type": "string"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/DbEntityTable.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "70fa205b0c0986f9ebe131b1f3b02b5089ed7d6b1b2580a528513290b03dcfd4",
      "created_at": "2025-12-18T18:59:43.191487Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Tenant",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A tenant (family) in the system\n\nUses `SystemEntityMeta` because tenants are top-level entities that don't belong to another tenant.",
          "properties": {
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "id": {
              "description": "Unique identifier for this entity",
              "format": "uuid",
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "settings": {
              "default": null
            },
            "updated_at": {
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "id",
            "name",
            "updated_at"
          ],
          "title": "Tenant",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/Tenant.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "3d9560098b156acb86f9c2b2f99a8b58088cd55f19d460984b5d4ea10cd4dbf7",
      "created_at": "2025-12-18T18:59:43.191571Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AgenticCommand",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ConversationHistoryItem": {
              "description": "A single item in conversation history",
              "properties": {
                "content": {
                  "description": "Content of the message",
                  "type": "string"
                },
                "role": {
                  "description": "Role: \"user\" or \"assistant\"",
                  "type": "string"
                }
              },
              "required": [
                "content",
                "role"
              ],
              "type": "object"
            },
            "WeaveBlock": {
              "description": "Input block types for multimodal weave requests",
              "oneOf": [
                {
                  "properties": {
                    "content": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "content",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "alt_text": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "analyze": {
                      "default": true,
                      "description": "Request vision analysis",
                      "type": "boolean"
                    },
                    "source": {
                      "description": "base64 data URI or URL",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "source",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "duration_secs": {
                      "format": "double",
                      "type": [
                        "number",
                        "null"
                      ]
                    },
                    "source": {
                      "type": "string"
                    },
                    "transcript": {
                      "description": "Pre-transcribed (skip Whisper)",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "audio"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "source",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "filename": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "mime_type": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "source": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "document"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "source",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "extract_images": {
                      "default": false,
                      "description": "Whether to extract images from the page",
                      "type": "boolean"
                    },
                    "selector": {
                      "description": "Optional CSS selector to extract specific content",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "webpage"
                      ],
                      "type": "string"
                    },
                    "url": {
                      "description": "URL to scrape",
                      "type": "string"
                    }
                  },
                  "required": [
                    "type",
                    "url"
                  ],
                  "type": "object"
                }
              ]
            }
          },
          "description": "Commands that can be sent to the agentic system\n\nThese commands are the primary interface for interacting with the multi-agent orchestration system. They can be sent directly via HTTP or published to a message broker.",
          "oneOf": [
            {
              "description": "Send a new message to the agentic system",
              "properties": {
                "blocks": {
                  "default": null,
                  "description": "Optional multimodal blocks (images, audio, etc.)",
                  "items": {
                    "$ref": "#/definitions/WeaveBlock"
                  },
                  "type": [
                    "array",
                    "null"
                  ]
                },
                "command_type": {
                  "enum": [
                    "send_message"
                  ],
                  "type": "string"
                },
                "content": {
                  "description": "Text content of the message",
                  "type": "string"
                },
                "conversation_history": {
                  "default": null,
                  "description": "Conversation history for context",
                  "items": {
                    "$ref": "#/definitions/ConversationHistoryItem"
                  },
                  "type": [
                    "array",
                    "null"
                  ]
                },
                "flow_path": {
                  "default": null,
                  "description": "Override the default flow path (e.g., \"u/phaiel/loom\")",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "request_id": {
                  "description": "Request ID for tracing",
                  "type": "string"
                },
                "tenant_id": {
                  "description": "Tenant ID",
                  "type": "string"
                },
                "thread_id": {
                  "default": null,
                  "description": "Thread ID (None = start new thread)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "command_type",
                "content",
                "request_id",
                "tenant_id"
              ],
              "type": "object"
            },
            {
              "description": "Continue processing in an existing thread",
              "properties": {
                "command_type": {
                  "enum": [
                    "continue_thread"
                  ],
                  "type": "string"
                },
                "request_id": {
                  "description": "Request ID for tracing",
                  "type": "string"
                },
                "thread_id": {
                  "description": "ID of the thread to continue",
                  "type": "string"
                }
              },
              "required": [
                "command_type",
                "request_id",
                "thread_id"
              ],
              "type": "object"
            },
            {
              "description": "Cancel a running task",
              "properties": {
                "command_type": {
                  "enum": [
                    "cancel_task"
                  ],
                  "type": "string"
                },
                "reason": {
                  "default": null,
                  "description": "Reason for cancellation",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "task_id": {
                  "description": "ID of the task to cancel",
                  "type": "string"
                }
              },
              "required": [
                "command_type",
                "task_id"
              ],
              "type": "object"
            },
            {
              "description": "Request thread history",
              "properties": {
                "command_type": {
                  "enum": [
                    "get_thread_history"
                  ],
                  "type": "string"
                },
                "limit": {
                  "default": null,
                  "description": "Maximum number of messages to return",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "thread_id": {
                  "description": "ID of the thread",
                  "type": "string"
                }
              },
              "required": [
                "command_type",
                "thread_id"
              ],
              "type": "object"
            }
          ],
          "title": "AgenticCommand"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/AgenticCommand.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "bcf393e4e35b74244bf2eb8a32835814423eb1b4ba8863d578aea11337864f21",
      "created_at": "2025-12-18T18:59:43.191678Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "HeddleResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "HeddleEntityType": {
              "description": "The fundamental Entity Types recognized by The Heddle Classification Engine. These map to the Symmetric Seven ontology.",
              "oneOf": [
                {
                  "description": "A specific event that happened in the past (Narrative/External Particle)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A definition of a person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "A statement about the quality of a relationship (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "An internal state snapshot (Internal Particle)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                }
              ]
            },
            "MessageIntent": {
              "description": "The primary intent of the user's message",
              "oneOf": [
                {
                  "description": "Recording something - events, states, observations (current default)",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information back",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting system to make connections or derive insights",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities, threads, or past entries",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis, patterns, or reflection on data",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Giving a command/instruction to the system",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Conversational/social - greetings, acknowledgments",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                }
              ]
            },
            "QueryTarget": {
              "description": "Query target - what data is the query looking for?",
              "properties": {
                "entity_types": {
                  "default": [],
                  "description": "The entity/thread types being queried (e.g., \"moments\", \"threads\", \"pulses\")",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted from the query",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "temporal_scope": {
                  "default": null,
                  "description": "Temporal scope (e.g., \"today\", \"last week\", \"all time\")",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "thread_hints": {
                  "default": [],
                  "description": "Specific thread hints (names, concepts) to search for",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "QueryType": {
              "description": "The type of query (when MessageIntent is QUERY)",
              "oneOf": [
                {
                  "description": "When did X happen? Time-based lookup",
                  "enum": [
                    "TEMPORAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Who/what questions - entity lookup",
                  "enum": [
                    "ENTITY"
                  ],
                  "type": "string"
                },
                {
                  "description": "How often? Pattern/frequency questions",
                  "enum": [
                    "PATTERN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Compare X and Y",
                  "enum": [
                    "COMPARISON"
                  ],
                  "type": "string"
                },
                {
                  "description": "Give me a summary/overview",
                  "enum": [
                    "SUMMARY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Count/quantity questions (how many?)",
                  "enum": [
                    "QUANTITATIVE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Yes/no questions (did X happen?)",
                  "enum": [
                    "BOOLEAN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Why questions - causation",
                  "enum": [
                    "CAUSAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Location-based questions",
                  "enum": [
                    "SPATIAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Open-ended/exploratory",
                  "enum": [
                    "EXPLORATORY"
                  ],
                  "type": "string"
                }
              ]
            },
            "RawClassification": {
              "description": "Raw classification from LLM output",
              "properties": {
                "entity_type": {
                  "$ref": "#/definitions/HeddleEntityType"
                },
                "weight": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "entity_type",
                "weight"
              ],
              "type": "object"
            },
            "RawMessageIntent": {
              "description": "Raw message intent classification from LLM",
              "properties": {
                "confidence": {
                  "default": 1.0,
                  "description": "Confidence in classification (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "intent": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/MessageIntent"
                    }
                  ],
                  "description": "Primary intent (LOG, QUERY, INFER, REFERENCE, REFLECT, COMMAND, SOCIAL)"
                },
                "query_target": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/QueryTarget"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "description": "If QUERY: what entities/threads are being queried"
                },
                "query_type": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/QueryType"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "description": "If QUERY: what type of query"
                }
              },
              "required": [
                "intent"
              ],
              "type": "object"
            },
            "RawPhysicsHint": {
              "description": "Raw physics hints from LLM (will be applied to spawned entities)",
              "properties": {
                "arousal": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "clarity": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "intrusiveness": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "significance": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "valence": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "volatility": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "RawWeaveUnit": {
              "description": "Raw weave unit from LLM output (before validation)",
              "properties": {
                "classifications": {
                  "description": "Classifications in superposition",
                  "items": {
                    "$ref": "#/definitions/RawClassification"
                  },
                  "type": "array"
                },
                "content": {
                  "description": "The extracted/cleaned text content for this weave unit",
                  "type": "string"
                },
                "physics_hint": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/RawPhysicsHint"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Physics hints (passed to spawned entities, not stored on WeaveUnit)"
                },
                "primary_thread": {
                  "default": null,
                  "description": "Primary thread: the main subject/actor of this unit",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "purpose": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/MessageIntent"
                    }
                  ],
                  "default": "LOG",
                  "description": "Purpose of this specific unit (LOG, QUERY, COMMAND, etc.) Only LOG units spawn entities"
                },
                "secondary_threads": {
                  "default": null,
                  "description": "Secondary threads: other people/places/things mentioned",
                  "items": {
                    "type": "string"
                  },
                  "type": [
                    "array",
                    "null"
                  ]
                },
                "temporal_marker": {
                  "default": null,
                  "description": "Temporal marker: when this happened (absolute, relative, or frequency) Examples: \"6pm\", \"today\", \"yesterday\", \"once per hour\", \"every morning\"",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "classifications",
                "content"
              ],
              "type": "object"
            }
          },
          "description": "The full response from the Heddle LLM",
          "properties": {
            "message_intent": {
              "allOf": [
                {
                  "$ref": "#/definitions/RawMessageIntent"
                }
              ],
              "default": {
                "confidence": 1.0,
                "intent": "LOG"
              },
              "description": "Message intent classification (WHAT is user trying to do?)"
            },
            "weave_units": {
              "default": [],
              "description": "Array of weave units extracted from the input (for LOG intent) May be empty for QUERY/REFERENCE intents",
              "items": {
                "$ref": "#/definitions/RawWeaveUnit"
              },
              "type": "array"
            }
          },
          "title": "HeddleResponse",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/HeddleResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2d2d0cbf08137ce901c6afdceac8343fda321668c6cfec8ba7c535ae6eb3c032",
      "created_at": "2025-12-18T18:59:43.191858Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ClassificationPhysics",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Physics hints extracted during classification",
          "properties": {
            "arousal": {
              "default": null,
              "description": "Activation level: 0.0 (calm) to 1.0 (activated)",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "clarity": {
              "default": null,
              "description": "How clear/specific: 0.0 (vague) to 1.0 (clear)",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "significance": {
              "default": null,
              "description": "How significant/important: 0.0 to 1.0",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "valence": {
              "default": null,
              "description": "Emotional valence: -1.0 (negative) to 1.0 (positive)",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            }
          },
          "title": "ClassificationPhysics",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/ClassificationPhysics.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2d3c325d8d0ad439b4c9de90972e156c14f8be3b915b3863612a8bbb2d0e27ca",
      "created_at": "2025-12-18T18:59:43.192022Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AgenticFlowResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ToolCallStatus": {
              "description": "Status of a tool call during execution",
              "enum": [
                "pending",
                "running",
                "complete",
                "error"
              ],
              "type": "string"
            },
            "UIClassification": {
              "description": "A classification result",
              "properties": {
                "confidence": {
                  "format": "double",
                  "type": "number"
                },
                "entity_type": {
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "entity_type"
              ],
              "type": "object"
            },
            "UIHeddleResult": {
              "description": "Structured result from the Heddle classification pipeline",
              "properties": {
                "classifications": {
                  "default": [],
                  "description": "Classification results",
                  "items": {
                    "$ref": "#/definitions/UIClassification"
                  },
                  "type": "array"
                },
                "physics": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/UIPhysicsResult"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Physics hints"
                },
                "purpose": {
                  "default": null,
                  "description": "Detected purpose/intent",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "segments": {
                  "default": [],
                  "description": "Segmented content",
                  "items": {
                    "$ref": "#/definitions/UIHeddleSegment"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "UIHeddleSegment": {
              "description": "A segment from Heddle",
              "properties": {
                "content": {
                  "type": "string"
                },
                "subject": {
                  "default": null,
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content"
              ],
              "type": "object"
            },
            "UIPhysicsResult": {
              "description": "Physics simulation result",
              "properties": {
                "energy": {
                  "format": "double",
                  "type": "number"
                },
                "position": {
                  "items": {
                    "format": "double",
                    "type": "number"
                  },
                  "maxItems": 3,
                  "minItems": 3,
                  "type": "array"
                },
                "temperature": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "energy",
                "position",
                "temperature"
              ],
              "type": "object"
            },
            "UIThinkingStep": {
              "description": "A thinking/reasoning step for chain-of-thought visibility",
              "properties": {
                "agent": {
                  "description": "Which agent produced this thought",
                  "type": "string"
                },
                "id": {
                  "description": "Unique ID",
                  "type": "string"
                },
                "thought": {
                  "description": "The thought/reasoning content",
                  "type": "string"
                },
                "timestamp": {
                  "default": null,
                  "description": "Timestamp",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "agent",
                "id",
                "thought"
              ],
              "type": "object"
            },
            "UIToolCall": {
              "description": "A tool call with real-time status updates for UI display",
              "properties": {
                "arguments": {
                  "default": null,
                  "description": "Arguments passed to the tool"
                },
                "id": {
                  "description": "Unique ID for this tool call",
                  "type": "string"
                },
                "result": {
                  "default": null,
                  "description": "Result from the tool"
                },
                "status": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ToolCallStatus"
                    }
                  ],
                  "description": "Current status"
                },
                "tool": {
                  "description": "Name of the tool",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "status",
                "tool"
              ],
              "type": "object"
            }
          },
          "description": "Full response from the agentic Windmill flow This is what the API returns to the UI",
          "properties": {
            "agent": {
              "description": "Which agent responded",
              "type": "string"
            },
            "has_more_tasks": {
              "default": false,
              "description": "Whether there are more tasks",
              "type": "boolean"
            },
            "heddle_result": {
              "anyOf": [
                {
                  "$ref": "#/definitions/UIHeddleResult"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Heddle classification result (if applicable)"
            },
            "next_request": {
              "default": null,
              "description": "Next request (if continuation needed)",
              "type": [
                "string",
                "null"
              ]
            },
            "request_id": {
              "description": "Request ID for tracing",
              "type": "string"
            },
            "response": {
              "description": "The conversational response text",
              "type": "string"
            },
            "state": {
              "default": null,
              "description": "Updated agent state"
            },
            "thinking_steps": {
              "default": [],
              "description": "Thinking steps (for chain-of-thought visibility)",
              "items": {
                "$ref": "#/definitions/UIThinkingStep"
              },
              "type": "array"
            },
            "thread_id": {
              "description": "Thread ID",
              "type": "string"
            },
            "tool_calls": {
              "default": [],
              "description": "Tool calls made",
              "items": {
                "$ref": "#/definitions/UIToolCall"
              },
              "type": "array"
            }
          },
          "required": [
            "agent",
            "request_id",
            "response",
            "thread_id"
          ],
          "title": "AgenticFlowResponse",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/AgenticFlowResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "3d661c2d363d6eebeaaca19d3494c5fcc91164f0340d3ca4e0ec52c96c74da6e",
      "created_at": "2025-12-18T18:59:43.192117Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ContentClassificationResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ClassificationPhysics": {
              "description": "Physics hints extracted during classification",
              "properties": {
                "arousal": {
                  "default": null,
                  "description": "Activation level: 0.0 (calm) to 1.0 (activated)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "clarity": {
                  "default": null,
                  "description": "How clear/specific: 0.0 (vague) to 1.0 (clear)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "significance": {
                  "default": null,
                  "description": "How significant/important: 0.0 to 1.0",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "valence": {
                  "default": null,
                  "description": "Emotional valence: -1.0 (negative) to 1.0 (positive)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "HeddleEntityType": {
              "description": "The fundamental Entity Types recognized by The Heddle Classification Engine. These map to the Symmetric Seven ontology.",
              "oneOf": [
                {
                  "description": "A specific event that happened in the past (Narrative/External Particle)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A definition of a person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "A statement about the quality of a relationship (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "An internal state snapshot (Internal Particle)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                }
              ]
            },
            "MessageIntent": {
              "description": "The primary intent of the user's message",
              "oneOf": [
                {
                  "description": "Recording something - events, states, observations (current default)",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information back",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting system to make connections or derive insights",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities, threads, or past entries",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis, patterns, or reflection on data",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Giving a command/instruction to the system",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Conversational/social - greetings, acknowledgments",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                }
              ]
            },
            "SegmentClassification": {
              "description": "Classification for a single segment",
              "properties": {
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/HeddleEntityType"
                    }
                  ],
                  "description": "The entity type (MOMENT, PULSE, INTENT) - relevant for LOG purpose"
                },
                "physics": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ClassificationPhysics"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Physics hints for entity spawning (only for LOG purpose)"
                },
                "purpose": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/MessageIntent"
                    }
                  ],
                  "default": "LOG",
                  "description": "Purpose of this specific segment (LOG, QUERY, COMMAND, etc.) Only LOG segments spawn entities"
                },
                "segment_index": {
                  "description": "Index of the segment being classified",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "weight": {
                  "default": 1.0,
                  "description": "Confidence weight (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "entity_type",
                "segment_index"
              ],
              "type": "object"
            }
          },
          "description": "Phase 3 response: Classifications for each segment",
          "properties": {
            "classifications": {
              "description": "Classifications for each segment",
              "items": {
                "$ref": "#/definitions/SegmentClassification"
              },
              "type": "array"
            }
          },
          "required": [
            "classifications"
          ],
          "title": "ContentClassificationResponse",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/ContentClassificationResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "79f50446a03d03ca534c392c072367a5c4b849ea688009db47d07fac4acebbe8",
      "created_at": "2025-12-18T18:59:43.192275Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PromptConfig",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "PromptPhase": {
              "enum": [
                "Segmentation",
                "Purpose",
                "Classification"
              ],
              "type": "string"
            }
          },
          "description": "Schema for TypeScript prompt configuration Runtime prompts are in services/windmill/scripts/*.ts",
          "properties": {
            "max_tokens": {
              "format": "uint32",
              "minimum": 0.0,
              "type": "integer"
            },
            "model": {
              "type": "string"
            },
            "phase": {
              "$ref": "#/definitions/PromptPhase"
            },
            "temperature": {
              "format": "float",
              "type": "number"
            }
          },
          "required": [
            "max_tokens",
            "model",
            "phase",
            "temperature"
          ],
          "title": "PromptConfig",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/PromptConfig.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "3a18e4458787f04a907b808ba1502caa5b65ef8b7f13c215995fefeae8ca4a5a",
      "created_at": "2025-12-18T18:59:43.192431Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MessageStatusType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Message delivery status",
          "enum": [
            "sending",
            "sent",
            "delivered",
            "read",
            "failed"
          ],
          "title": "MessageStatusType",
          "type": "string"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/MessageStatusType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4af5834100529080bcbb110dbb55515898145184c1093c9006495e49075feba7",
      "created_at": "2025-12-18T18:59:43.192518Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UIThreadItem",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ToolCallStatus": {
              "description": "Status of a tool call during execution",
              "enum": [
                "pending",
                "running",
                "complete",
                "error"
              ],
              "type": "string"
            },
            "UIClassification": {
              "description": "A classification result",
              "properties": {
                "confidence": {
                  "format": "double",
                  "type": "number"
                },
                "entity_type": {
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "entity_type"
              ],
              "type": "object"
            },
            "UIHeddleResult": {
              "description": "Structured result from the Heddle classification pipeline",
              "properties": {
                "classifications": {
                  "default": [],
                  "description": "Classification results",
                  "items": {
                    "$ref": "#/definitions/UIClassification"
                  },
                  "type": "array"
                },
                "physics": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/UIPhysicsResult"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Physics hints"
                },
                "purpose": {
                  "default": null,
                  "description": "Detected purpose/intent",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "segments": {
                  "default": [],
                  "description": "Segmented content",
                  "items": {
                    "$ref": "#/definitions/UIHeddleSegment"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "UIHeddleSegment": {
              "description": "A segment from Heddle",
              "properties": {
                "content": {
                  "type": "string"
                },
                "subject": {
                  "default": null,
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content"
              ],
              "type": "object"
            },
            "UIPhysicsResult": {
              "description": "Physics simulation result",
              "properties": {
                "energy": {
                  "format": "double",
                  "type": "number"
                },
                "position": {
                  "items": {
                    "format": "double",
                    "type": "number"
                  },
                  "maxItems": 3,
                  "minItems": 3,
                  "type": "array"
                },
                "temperature": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "energy",
                "position",
                "temperature"
              ],
              "type": "object"
            },
            "UIThinkingStep": {
              "description": "A thinking/reasoning step for chain-of-thought visibility",
              "properties": {
                "agent": {
                  "description": "Which agent produced this thought",
                  "type": "string"
                },
                "id": {
                  "description": "Unique ID",
                  "type": "string"
                },
                "thought": {
                  "description": "The thought/reasoning content",
                  "type": "string"
                },
                "timestamp": {
                  "default": null,
                  "description": "Timestamp",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "agent",
                "id",
                "thought"
              ],
              "type": "object"
            },
            "UIToolCall": {
              "description": "A tool call with real-time status updates for UI display",
              "properties": {
                "arguments": {
                  "default": null,
                  "description": "Arguments passed to the tool"
                },
                "id": {
                  "description": "Unique ID for this tool call",
                  "type": "string"
                },
                "result": {
                  "default": null,
                  "description": "Result from the tool"
                },
                "status": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ToolCallStatus"
                    }
                  ],
                  "description": "Current status"
                },
                "tool": {
                  "description": "Name of the tool",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "status",
                "tool"
              ],
              "type": "object"
            }
          },
          "description": "An item in a conversation thread (user message or AI response)",
          "properties": {
            "agent_speaker": {
              "default": null,
              "description": "For assistant messages: which agent",
              "type": [
                "string",
                "null"
              ]
            },
            "content": {
              "description": "Text content",
              "type": "string"
            },
            "current_activity": {
              "default": null,
              "description": "Activity description for typing state",
              "type": [
                "string",
                "null"
              ]
            },
            "heddle_result": {
              "anyOf": [
                {
                  "$ref": "#/definitions/UIHeddleResult"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Heddle classification result"
            },
            "id": {
              "description": "Unique ID",
              "type": "string"
            },
            "is_typing": {
              "default": false,
              "description": "Is this message still being generated?",
              "type": "boolean"
            },
            "role": {
              "description": "Role: \"user\" or \"assistant\"",
              "type": "string"
            },
            "status": {
              "default": null,
              "description": "Current status",
              "type": [
                "string",
                "null"
              ]
            },
            "summary": {
              "default": null,
              "description": "Summary for collapsed display",
              "type": [
                "string",
                "null"
              ]
            },
            "thinking_steps": {
              "default": [],
              "description": "Chain of thought steps",
              "items": {
                "$ref": "#/definitions/UIThinkingStep"
              },
              "type": "array"
            },
            "timestamp": {
              "description": "Timestamp",
              "type": "string"
            },
            "tool_calls": {
              "default": [],
              "description": "Tool calls made",
              "items": {
                "$ref": "#/definitions/UIToolCall"
              },
              "type": "array"
            }
          },
          "required": [
            "content",
            "id",
            "role",
            "timestamp"
          ],
          "title": "UIThreadItem",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/UIThreadItem.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b25c906286a927b88e5304a6306fddccde49648b7cb662d0535e24ab668f1872",
      "created_at": "2025-12-18T18:59:43.192625Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CourseStatus",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Processing status for a Course",
          "oneOf": [
            {
              "description": "User input received, not yet segmented",
              "enum": [
                "received"
              ],
              "type": "string"
            },
            {
              "description": "Segmenting the input via Heddle",
              "enum": [
                "segmenting"
              ],
              "type": "string"
            },
            {
              "description": "All shuttles are processing segments",
              "enum": [
                "processing"
              ],
              "type": "string"
            },
            {
              "description": "All shuttles complete, generating response",
              "enum": [
                "responding"
              ],
              "type": "string"
            },
            {
              "description": "Course complete with response",
              "enum": [
                "complete"
              ],
              "type": "string"
            },
            {
              "description": "Course failed",
              "enum": [
                "failed"
              ],
              "type": "string"
            }
          ],
          "title": "CourseStatus"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/CourseStatus.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "5e6f2b08f62a0b3f90d43788c2df7bb9fa1217e3d27f28ae393e498e406b18f6",
      "created_at": "2025-12-18T18:59:43.192782Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UIHeddleSegment",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A segment from Heddle",
          "properties": {
            "content": {
              "type": "string"
            },
            "subject": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "content"
          ],
          "title": "UIHeddleSegment",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/UIHeddleSegment.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d73aed9f7fdbcf58ee0793b4da7196d3d452f63af94e865954c6bc26be51ce83",
      "created_at": "2025-12-18T18:59:43.192872Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AgenticEvent",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AgentMessageType": {
              "description": "Agent message types for different response formats\n\nThe agentic system can produce various types of responses depending on what the agent is doing. This enum captures all possible message types.",
              "oneOf": [
                {
                  "description": "A log message from the agent (debugging, status updates)",
                  "properties": {
                    "content": {
                      "type": "string"
                    },
                    "level": {
                      "$ref": "#/definitions/LogLevel"
                    },
                    "message_type": {
                      "enum": [
                        "log"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "content",
                    "level",
                    "message_type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A question the agent is asking the user",
                  "properties": {
                    "message_type": {
                      "enum": [
                        "question"
                      ],
                      "type": "string"
                    },
                    "options": {
                      "default": null,
                      "items": {
                        "type": "string"
                      },
                      "type": [
                        "array",
                        "null"
                      ]
                    },
                    "prompt": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message_type",
                    "prompt"
                  ],
                  "type": "object"
                },
                {
                  "description": "An insight derived by the agent",
                  "properties": {
                    "confidence": {
                      "format": "double",
                      "type": "number"
                    },
                    "domain": {
                      "default": null,
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "message_type": {
                      "enum": [
                        "insight"
                      ],
                      "type": "string"
                    },
                    "summary": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "confidence",
                    "message_type",
                    "summary"
                  ],
                  "type": "object"
                },
                {
                  "description": "A detailed analysis result",
                  "properties": {
                    "domain": {
                      "type": "string"
                    },
                    "findings": {
                      "items": {
                        "$ref": "#/definitions/Finding"
                      },
                      "type": "array"
                    },
                    "message_type": {
                      "enum": [
                        "analysis"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "domain",
                    "findings",
                    "message_type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A command/action the agent wants to execute",
                  "properties": {
                    "action": {
                      "type": "string"
                    },
                    "message_type": {
                      "enum": [
                        "command"
                      ],
                      "type": "string"
                    },
                    "parameters": true
                  },
                  "required": [
                    "action",
                    "message_type",
                    "parameters"
                  ],
                  "type": "object"
                },
                {
                  "description": "A simple text response",
                  "properties": {
                    "content": {
                      "type": "string"
                    },
                    "message_type": {
                      "enum": [
                        "text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "content",
                    "message_type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Progress update during long-running tasks",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "message_type": {
                      "enum": [
                        "progress"
                      ],
                      "type": "string"
                    },
                    "percent_complete": {
                      "default": null,
                      "format": "double",
                      "type": [
                        "number",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "message",
                    "message_type"
                  ],
                  "type": "object"
                }
              ]
            },
            "AgentState": {
              "description": "Global state shared across all agents in the orchestration loop\n\nThis state is passed between agents and maintains context about the current conversation, authentication status, and which agent is currently \"speaking\".",
              "properties": {
                "conversation_context": {
                  "default": [],
                  "description": "Conversation history for context",
                  "items": {
                    "$ref": "#/definitions/ConversationTurn"
                  },
                  "type": "array"
                },
                "current_speaker": {
                  "default": null,
                  "description": "Currently active speaker (None means orchestrator decides)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "is_authenticated": {
                  "default": false,
                  "description": "Whether the user is authenticated",
                  "type": "boolean"
                },
                "just_finished": {
                  "default": false,
                  "description": "Whether the current agent just finished its task",
                  "type": "boolean"
                },
                "metadata": {
                  "default": null,
                  "description": "Custom metadata for extensibility"
                },
                "tenant_id": {
                  "description": "Tenant ID for multi-tenancy",
                  "type": "string"
                },
                "thread_id": {
                  "default": null,
                  "description": "Current thread ID (if in a thread)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "tenant_id"
              ],
              "type": "object"
            },
            "ConversationTurn": {
              "description": "A single turn in a conversation (for context tracking)",
              "properties": {
                "content": {
                  "description": "Content of the message",
                  "type": "string"
                },
                "role": {
                  "description": "Role of the speaker (user, assistant, system)",
                  "type": "string"
                },
                "speaker": {
                  "default": null,
                  "description": "Optional speaker identifier (for multi-agent)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "timestamp": {
                  "default": null,
                  "description": "Timestamp of the turn",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content",
                "role"
              ],
              "type": "object"
            },
            "Finding": {
              "description": "A finding from an analysis agent",
              "properties": {
                "confidence": {
                  "default": null,
                  "description": "Confidence score (0.0 to 1.0)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "description": {
                  "description": "Detailed description",
                  "type": "string"
                },
                "related_entities": {
                  "default": [],
                  "description": "Related entity IDs",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "title": {
                  "description": "Title or label of the finding",
                  "type": "string"
                }
              },
              "required": [
                "description",
                "title"
              ],
              "type": "object"
            },
            "LogLevel": {
              "description": "Log level for agent log messages",
              "enum": [
                "debug",
                "info",
                "warning",
                "error"
              ],
              "type": "string"
            }
          },
          "description": "Events emitted by the agentic system\n\nThese events notify clients about state changes and results from the multi-agent system. They can be delivered via WebSocket, SSE, or consumed from a message broker.",
          "oneOf": [
            {
              "description": "A new message was received/generated",
              "properties": {
                "agent": {
                  "default": null,
                  "description": "Which agent sent this",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "content": {
                  "default": null,
                  "description": "Message content",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "event_type": {
                  "enum": [
                    "message_received"
                  ],
                  "type": "string"
                },
                "message_id": {
                  "description": "Message ID",
                  "type": "string"
                },
                "message_type": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/AgentMessageType"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Structured message type"
                },
                "role": {
                  "description": "Role (user, assistant, system)",
                  "type": "string"
                },
                "thread_id": {
                  "description": "Thread ID",
                  "type": "string"
                },
                "timestamp": {
                  "description": "Timestamp",
                  "type": "string"
                }
              },
              "required": [
                "event_type",
                "message_id",
                "role",
                "thread_id",
                "timestamp"
              ],
              "type": "object"
            },
            {
              "description": "An agent is now speaking/processing",
              "properties": {
                "agent": {
                  "description": "Which agent is speaking",
                  "type": "string"
                },
                "event_type": {
                  "enum": [
                    "agent_speaking"
                  ],
                  "type": "string"
                },
                "status": {
                  "default": null,
                  "description": "Optional status message",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "thread_id": {
                  "description": "Thread ID",
                  "type": "string"
                }
              },
              "required": [
                "agent",
                "event_type",
                "thread_id"
              ],
              "type": "object"
            },
            {
              "description": "A task was completed successfully",
              "properties": {
                "event_type": {
                  "enum": [
                    "task_completed"
                  ],
                  "type": "string"
                },
                "result": {
                  "description": "Result data"
                },
                "task_id": {
                  "description": "Task ID (same as request_id)",
                  "type": "string"
                },
                "thread_id": {
                  "description": "Thread ID",
                  "type": "string"
                }
              },
              "required": [
                "event_type",
                "result",
                "task_id",
                "thread_id"
              ],
              "type": "object"
            },
            {
              "description": "An error occurred",
              "properties": {
                "code": {
                  "description": "Error code",
                  "type": "string"
                },
                "details": {
                  "default": null,
                  "description": "Additional details"
                },
                "error": {
                  "description": "Error message",
                  "type": "string"
                },
                "event_type": {
                  "enum": [
                    "error"
                  ],
                  "type": "string"
                },
                "thread_id": {
                  "default": null,
                  "description": "Thread ID (if applicable)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "code",
                "error",
                "event_type"
              ],
              "type": "object"
            },
            {
              "description": "Thread state was updated",
              "properties": {
                "event_type": {
                  "enum": [
                    "thread_state_changed"
                  ],
                  "type": "string"
                },
                "state": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/AgentState"
                    }
                  ],
                  "description": "Updated agent state"
                },
                "thread_id": {
                  "description": "Thread ID",
                  "type": "string"
                }
              },
              "required": [
                "event_type",
                "state",
                "thread_id"
              ],
              "type": "object"
            },
            {
              "description": "Progress update for long-running operations",
              "properties": {
                "event_type": {
                  "enum": [
                    "progress"
                  ],
                  "type": "string"
                },
                "message": {
                  "description": "Progress message",
                  "type": "string"
                },
                "percent": {
                  "default": null,
                  "description": "Percent complete (0-100)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "task_id": {
                  "description": "Task ID",
                  "type": "string"
                },
                "thread_id": {
                  "description": "Thread ID",
                  "type": "string"
                }
              },
              "required": [
                "event_type",
                "message",
                "task_id",
                "thread_id"
              ],
              "type": "object"
            }
          ],
          "title": "AgenticEvent"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/AgenticEvent.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "820599082da048b6de997b4fb109d44647f444ae758f6651445627b87e9dd362",
      "created_at": "2025-12-18T18:59:43.192991Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UIToolCall",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ToolCallStatus": {
              "description": "Status of a tool call during execution",
              "enum": [
                "pending",
                "running",
                "complete",
                "error"
              ],
              "type": "string"
            }
          },
          "description": "A tool call with real-time status updates for UI display",
          "properties": {
            "arguments": {
              "default": null,
              "description": "Arguments passed to the tool"
            },
            "id": {
              "description": "Unique ID for this tool call",
              "type": "string"
            },
            "result": {
              "default": null,
              "description": "Result from the tool"
            },
            "status": {
              "allOf": [
                {
                  "$ref": "#/definitions/ToolCallStatus"
                }
              ],
              "description": "Current status"
            },
            "tool": {
              "description": "Name of the tool",
              "type": "string"
            }
          },
          "required": [
            "id",
            "status",
            "tool"
          ],
          "title": "UIToolCall",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/UIToolCall.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "8b140a8ca57fbac550a3d5489bdd273219af2202803f6a5ae5cffe67d01cbd1f",
      "created_at": "2025-12-18T18:59:43.193195Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TenantMember",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "MemberRole": {
              "description": "Role of a tenant member",
              "enum": [
                "admin",
                "member",
                "guest"
              ],
              "type": "string"
            }
          },
          "description": "A member of a tenant (user-tenant association with role)\n\nNote: Uses UserId as the entity ID since this is a join table where the user_id + tenant_id forms the unique key.",
          "properties": {
            "avatar_url": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "email": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "id": {
              "description": "Unique identifier for this entity",
              "format": "uuid",
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "role": {
              "$ref": "#/definitions/MemberRole"
            },
            "settings": {
              "default": null
            },
            "tenant_id": {
              "description": "Tenant (family) this entity belongs to",
              "format": "uuid",
              "type": "string"
            },
            "updated_at": {
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "id",
            "name",
            "role",
            "tenant_id",
            "updated_at"
          ],
          "title": "TenantMember",
          "type": "object"
        },
        "category": "types",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/types/TenantMember.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4d4a589c7e4f3d68797784dca4d3f72283549d92f8001ef2a796d4cc23ead23f",
      "created_at": "2025-12-18T18:59:43.193280Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ModelConfig",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AIProvider": {
              "description": "AI Provider enumeration",
              "enum": [
                "openai",
                "anthropic",
                "google",
                "mock"
              ],
              "type": "string"
            }
          },
          "description": "Model definition with all configuration",
          "properties": {
            "api_model_id": {
              "description": "The actual API model ID to send to the provider",
              "type": "string"
            },
            "context_window": {
              "description": "Context window size (tokens)",
              "format": "uint32",
              "minimum": 0.0,
              "type": "integer"
            },
            "deprecated": {
              "default": false,
              "description": "Whether this model is deprecated",
              "type": "boolean"
            },
            "id": {
              "description": "Unique identifier (e.g., \"gpt-4o\", \"claude-sonnet-4\")",
              "type": "string"
            },
            "name": {
              "description": "Human-readable name",
              "type": "string"
            },
            "notes": {
              "default": null,
              "description": "Notes about the model",
              "type": [
                "string",
                "null"
              ]
            },
            "provider": {
              "allOf": [
                {
                  "$ref": "#/definitions/AIProvider"
                }
              ],
              "description": "The provider"
            },
            "supports_json_mode": {
              "description": "Whether the model supports JSON mode",
              "type": "boolean"
            }
          },
          "required": [
            "api_model_id",
            "context_window",
            "id",
            "name",
            "provider",
            "supports_json_mode"
          ],
          "title": "ModelConfig",
          "type": "object"
        },
        "category": "config",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/config/ModelConfig.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "1ccdb0aa34957a3ec767d6558ab84ba4c4592a67cf2fafb77d323b18a4f43997",
      "created_at": "2025-12-18T18:59:43.193366Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SystemTrigger",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "oneOf": [
            {
              "enum": [
                "on_demand"
              ],
              "type": "string"
            },
            {
              "additionalProperties": false,
              "properties": {
                "event": {
                  "type": "string"
                }
              },
              "required": [
                "event"
              ],
              "type": "object"
            },
            {
              "additionalProperties": false,
              "properties": {
                "schedule": {
                  "type": "string"
                }
              },
              "required": [
                "schedule"
              ],
              "type": "object"
            }
          ],
          "title": "SystemTrigger"
        },
        "category": "config",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/config/SystemTrigger.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "973838fcf7d742f8f72dcb3a03f753ed73582dba07c40de49786b399de6759c2",
      "created_at": "2025-12-18T18:59:43.193504Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SystemManifest",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "SystemDomain": {
              "enum": [
                "ingestion",
                "physics",
                "analysis",
                "maintenance"
              ],
              "type": "string"
            },
            "SystemTrigger": {
              "oneOf": [
                {
                  "enum": [
                    "on_demand"
                  ],
                  "type": "string"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "event": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "event"
                  ],
                  "type": "object"
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "schedule": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "schedule"
                  ],
                  "type": "object"
                }
              ]
            }
          },
          "properties": {
            "description": {
              "type": "string"
            },
            "domain": {
              "$ref": "#/definitions/SystemDomain"
            },
            "id": {
              "type": "string"
            },
            "reads": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "trigger": {
              "$ref": "#/definitions/SystemTrigger"
            },
            "writes": {
              "items": {
                "type": "string"
              },
              "type": "array"
            }
          },
          "required": [
            "description",
            "domain",
            "id",
            "reads",
            "trigger",
            "writes"
          ],
          "title": "SystemManifest",
          "type": "object"
        },
        "category": "config",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/config/SystemManifest.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "5ff0ec7b83071e7b5c683426cef0b0d76e9df817410e3a1a83aad4dc3c55659a",
      "created_at": "2025-12-18T18:59:43.193587Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SystemDomain",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "ingestion",
            "physics",
            "analysis",
            "maintenance"
          ],
          "title": "SystemDomain",
          "type": "string"
        },
        "category": "config",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/config/SystemDomain.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "40774fb8107cb65f60ecb425ea3125b4a28cf2e4b5aff2861020d8343fdb59d4",
      "created_at": "2025-12-18T18:59:43.193663Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AIProvider",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "AI Provider enumeration",
          "enum": [
            "openai",
            "anthropic",
            "google",
            "mock"
          ],
          "title": "AIProvider",
          "type": "string"
        },
        "category": "config",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/config/AIProvider.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "fa522f2d03c91352b8b9b6eea3543c82decdd59562d68e40d923a0b979aabf04",
      "created_at": "2025-12-18T18:59:43.193744Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MagicLinkRequest",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Request for magic link",
          "properties": {
            "email": {
              "type": "string"
            },
            "invite_code": {
              "default": null,
              "description": "Optional invite code for signup flow",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "email"
          ],
          "title": "MagicLinkRequest",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/MagicLinkRequest.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d9d9fec95229b8dc092e45143174ad0297920dad93017fc8bd982134df9e549f",
      "created_at": "2025-12-18T18:59:43.193835Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DeletionRequest",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "DeletionStatus": {
              "description": "Status of a deletion request",
              "enum": [
                "pending",
                "cancelled",
                "processing",
                "completed"
              ],
              "type": "string"
            }
          },
          "description": "A deletion request",
          "properties": {
            "completed_at": {
              "default": null,
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "email": {
              "type": "string"
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "reason": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "scheduled_for": {
              "default": null,
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "status": {
              "$ref": "#/definitions/DeletionStatus"
            },
            "user_id": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "created_at",
            "email",
            "id",
            "status"
          ],
          "title": "DeletionRequest",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/DeletionRequest.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "c1e059ced818ecf709e301468ea0899c753e7913f3a93573286a2f54217f5eff",
      "created_at": "2025-12-18T18:59:43.193969Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "User",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A user's identity that can belong to multiple families\n\nUses `SystemEntityMeta` because users are not tenant-scoped - a single user can belong to multiple families.",
          "properties": {
            "avatar_url": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "deletion_requested_at": {
              "default": null,
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "email": {
              "type": "string"
            },
            "email_verified": {
              "type": "boolean"
            },
            "gdpr_consents": {
              "default": null
            },
            "id": {
              "description": "Unique identifier for this entity",
              "format": "uuid",
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "primary_tenant_id": {
              "default": null,
              "description": "The user's primary family (can be changed)",
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "settings": {
              "default": null
            },
            "updated_at": {
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "email",
            "email_verified",
            "id",
            "name",
            "updated_at"
          ],
          "title": "User",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/User.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "285d28de4b2a7350899a2537cb3a88e0726fb8000b0251368691e3695416adab",
      "created_at": "2025-12-18T18:59:43.194060Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CreateMagicLinkInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "MagicLinkPurpose": {
              "description": "Purpose of a magic link",
              "enum": [
                "login",
                "signup",
                "verify_email",
                "password_reset"
              ],
              "type": "string"
            }
          },
          "description": "Input for creating a magic link",
          "properties": {
            "email": {
              "type": "string"
            },
            "expires_in_minutes": {
              "default": 15,
              "description": "Link duration in minutes (default 15)",
              "format": "int64",
              "type": "integer"
            },
            "metadata": {
              "default": null
            },
            "purpose": {
              "$ref": "#/definitions/MagicLinkPurpose"
            }
          },
          "required": [
            "email",
            "purpose"
          ],
          "title": "CreateMagicLinkInput",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/CreateMagicLinkInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6159b599badfe791a87a889045326178dca4c7655517f0ef1fe99f769420474a",
      "created_at": "2025-12-18T18:59:43.194141Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "LoginRequest",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Request for email+password login",
          "properties": {
            "email": {
              "type": "string"
            },
            "password": {
              "type": "string"
            }
          },
          "required": [
            "email",
            "password"
          ],
          "title": "LoginRequest",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/LoginRequest.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f0646329444a9f3a6ddb29c6820b9428ff8d7c83ea338f7759c6a4b92a92113f",
      "created_at": "2025-12-18T18:59:43.194218Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PublicUser",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Public user info (safe to expose to other users)",
          "properties": {
            "avatar_url": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "name": {
              "type": "string"
            }
          },
          "required": [
            "id",
            "name"
          ],
          "title": "PublicUser",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/PublicUser.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "5a5efb7c6f0bc5756ff191d630f8e50a3de054a4c33fd9f9ebe5d006ff5e6ff5",
      "created_at": "2025-12-18T18:59:43.194299Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ConsentRecord",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ConsentType": {
              "description": "Type of consent",
              "enum": [
                "terms_of_service",
                "privacy_policy",
                "marketing_emails",
                "ai_processing",
                "data_sharing",
                "analytics"
              ],
              "type": "string"
            }
          },
          "description": "A consent record",
          "properties": {
            "consent_type": {
              "$ref": "#/definitions/ConsentType"
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "granted": {
              "type": "boolean"
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "ip_address": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "user_agent": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "user_id": {
              "format": "uuid",
              "type": "string"
            },
            "version": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "consent_type",
            "created_at",
            "granted",
            "id",
            "user_id"
          ],
          "title": "ConsentRecord",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/ConsentRecord.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e0bbdc4853cea129e0debd36338cbc41c754e75a02b23b167dbc29e104da5567",
      "created_at": "2025-12-18T18:59:43.194786Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MagicLinkCreated",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Result of creating a magic link (includes raw token)",
          "properties": {
            "expires_at": {
              "format": "date-time",
              "type": "string"
            },
            "link_id": {
              "format": "uuid",
              "type": "string"
            },
            "token": {
              "type": "string"
            }
          },
          "required": [
            "expires_at",
            "link_id",
            "token"
          ],
          "title": "MagicLinkCreated",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/MagicLinkCreated.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "49f933c09f3373fa5f5e55f84280264bbac2c88de0948b69f0c759292042de2d",
      "created_at": "2025-12-18T18:59:43.194899Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MagicLinkPurpose",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Purpose of a magic link",
          "enum": [
            "login",
            "signup",
            "verify_email",
            "password_reset"
          ],
          "title": "MagicLinkPurpose",
          "type": "string"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/MagicLinkPurpose.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "106830d996bbaa885984565f982646dcf8ab616a1ad4fcc2336fb8fb11cd4bde",
      "created_at": "2025-12-18T18:59:43.195005Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CreateJoinRequestInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Input for creating a join request",
          "properties": {
            "message": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "tenant_id"
          ],
          "title": "CreateJoinRequestInput",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/CreateJoinRequestInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d937f678dd98c5910146b843279d9d9fd119bc146bdabebec5682b3c54adf897",
      "created_at": "2025-12-18T18:59:43.195128Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AuditLogEntry",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "An audit log entry",
          "properties": {
            "action": {
              "type": "string"
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "error_message": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "ip_address": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "metadata": {
              "default": null
            },
            "resource_id": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "resource_type": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "success": {
              "type": "boolean"
            },
            "user_agent": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "user_email": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "user_id": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "action",
            "created_at",
            "id",
            "success"
          ],
          "title": "AuditLogEntry",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/AuditLogEntry.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "739fbf067533ab632fe2ef35439469d70f619d982a46f8bbda9ecf8100963b62",
      "created_at": "2025-12-18T18:59:43.195244Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "InviteRole",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Role to assign when invitation is accepted",
          "enum": [
            "admin",
            "member",
            "guest"
          ],
          "title": "InviteRole",
          "type": "string"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/InviteRole.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "156dd5a7640aa0e9cc76cd7b134e9f00bd8da6e2e5d2e25c7dec139416e40a61",
      "created_at": "2025-12-18T18:59:43.195574Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DataExportRequest",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ExportStatus": {
              "description": "Status of a data export request",
              "enum": [
                "pending",
                "processing",
                "ready",
                "expired",
                "failed"
              ],
              "type": "string"
            }
          },
          "description": "A data export request",
          "properties": {
            "completed_at": {
              "default": null,
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "error_message": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "expires_at": {
              "default": null,
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "export_format": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "export_url": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "file_size_bytes": {
              "default": null,
              "format": "int64",
              "type": [
                "integer",
                "null"
              ]
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "started_at": {
              "default": null,
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "status": {
              "$ref": "#/definitions/ExportStatus"
            },
            "user_id": {
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "id",
            "status",
            "user_id"
          ],
          "title": "DataExportRequest",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/DataExportRequest.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b0e2a68a75a6a537ed46320c129dc4b881aaf4c0fc28e88a00a906db664baf86",
      "created_at": "2025-12-18T18:59:43.195832Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SessionCreated",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Result of creating a session (includes the raw token)",
          "properties": {
            "expires_at": {
              "format": "date-time",
              "type": "string"
            },
            "session_id": {
              "format": "uuid",
              "type": "string"
            },
            "token": {
              "type": "string"
            }
          },
          "required": [
            "expires_at",
            "session_id",
            "token"
          ],
          "title": "SessionCreated",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/SessionCreated.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "82f7dfab46ffbc0510802e8b6658d10f624ade59058810b17e5ac0be1e9917be",
      "created_at": "2025-12-18T18:59:43.195956Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UpdateUserInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Input for updating user profile",
          "properties": {
            "avatar_url": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "name": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "primary_tenant_id": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "settings": {
              "default": null
            }
          },
          "title": "UpdateUserInput",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/UpdateUserInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "8fb4e647aac2b912892dd24ed3f8cb351d1e3895e043d32a45858212d0197d9b",
      "created_at": "2025-12-18T18:59:43.196128Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SignupRequest",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Request for email+password signup",
          "properties": {
            "accept_privacy": {
              "type": "boolean"
            },
            "accept_terms": {
              "description": "Consent to required terms",
              "type": "boolean"
            },
            "email": {
              "type": "string"
            },
            "invite_code": {
              "default": null,
              "description": "Optional invite code to join a family",
              "type": [
                "string",
                "null"
              ]
            },
            "name": {
              "type": "string"
            },
            "password": {
              "type": "string"
            }
          },
          "required": [
            "accept_privacy",
            "accept_terms",
            "email",
            "name",
            "password"
          ],
          "title": "SignupRequest",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/SignupRequest.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4cb8d8848b544e7c441cdb3c63f28a06f859550c9520de141db1aa30f04146b6",
      "created_at": "2025-12-18T18:59:43.196258Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CreateUserInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Input for creating a new user",
          "properties": {
            "avatar_url": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "email": {
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "password_hash": {
              "default": null,
              "description": "Password hash (already hashed by API layer)",
              "type": [
                "string",
                "null"
              ]
            },
            "primary_tenant_id": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "email",
            "name"
          ],
          "title": "CreateUserInput",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/CreateUserInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "438bc1fe85d191cd22a2b0d5373119af937c728fe60011fb32644885fad31082",
      "created_at": "2025-12-18T18:59:43.196393Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ConsentStatus",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "User's current consent status",
          "properties": {
            "ai_processing": {
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "analytics": {
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "data_sharing": {
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "marketing_emails": {
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "privacy_policy": {
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "terms_of_service": {
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "title": "ConsentStatus",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/ConsentStatus.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "96b06787c657edf875a7353f3280e6a673cf87d4669ea1d949694f2b267d71b3",
      "created_at": "2025-12-18T18:59:43.196499Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "JoinRequest",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "JoinRequestStatus": {
              "description": "Status of a join request",
              "enum": [
                "pending",
                "approved",
                "rejected"
              ],
              "type": "string"
            }
          },
          "description": "A request to join a family",
          "properties": {
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "message": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "review_note": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "reviewed_at": {
              "default": null,
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "reviewed_by": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "status": {
              "$ref": "#/definitions/JoinRequestStatus"
            },
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            },
            "user_id": {
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "id",
            "status",
            "tenant_id",
            "user_id"
          ],
          "title": "JoinRequest",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/JoinRequest.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e4b3ea4125fe3d1d37fe1916f57c8b7042e0b6fa87ce65c3ed9cd80ae360dec5",
      "created_at": "2025-12-18T18:59:43.196633Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "FamilyInvitation",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "InviteRole": {
              "description": "Role to assign when invitation is accepted",
              "enum": [
                "admin",
                "member",
                "guest"
              ],
              "type": "string"
            },
            "InviteType": {
              "description": "Type of family invitation",
              "oneOf": [
                {
                  "description": "Sent to a specific email address",
                  "enum": [
                    "email"
                  ],
                  "type": "string"
                },
                {
                  "description": "Shareable code (like Discord)",
                  "enum": [
                    "code"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "A family invitation",
          "properties": {
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "email": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "expires_at": {
              "default": null,
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "invite_code": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "invite_type": {
              "$ref": "#/definitions/InviteType"
            },
            "invited_by": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "max_uses": {
              "format": "int32",
              "type": "integer"
            },
            "role": {
              "$ref": "#/definitions/InviteRole"
            },
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            },
            "use_count": {
              "format": "int32",
              "type": "integer"
            }
          },
          "required": [
            "created_at",
            "id",
            "invite_type",
            "max_uses",
            "role",
            "tenant_id",
            "use_count"
          ],
          "title": "FamilyInvitation",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/FamilyInvitation.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "0aaa9c742c4f47ca991210a85a983c8de29ca3ad923a714c05d6bc9085deb90a",
      "created_at": "2025-12-18T18:59:43.196832Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UserMembership",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "InviteRole": {
              "description": "Role to assign when invitation is accepted",
              "enum": [
                "admin",
                "member",
                "guest"
              ],
              "type": "string"
            }
          },
          "description": "A user's membership in a family",
          "properties": {
            "is_primary": {
              "type": "boolean"
            },
            "joined_at": {
              "format": "date-time",
              "type": "string"
            },
            "role": {
              "$ref": "#/definitions/InviteRole"
            },
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            },
            "tenant_name": {
              "type": "string"
            }
          },
          "required": [
            "is_primary",
            "joined_at",
            "role",
            "tenant_id",
            "tenant_name"
          ],
          "title": "UserMembership",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/UserMembership.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "a4a479d3dd327e4a2c5d57a29be8ee0792f0c69fb027f6416e78701f24827ee3",
      "created_at": "2025-12-18T18:59:43.196939Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CurrentUser",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "InviteRole": {
              "description": "Role to assign when invitation is accepted",
              "enum": [
                "admin",
                "member",
                "guest"
              ],
              "type": "string"
            },
            "User": {
              "description": "A user's identity that can belong to multiple families\n\nUses `SystemEntityMeta` because users are not tenant-scoped - a single user can belong to multiple families.",
              "properties": {
                "avatar_url": {
                  "default": null,
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "created_at": {
                  "format": "date-time",
                  "type": "string"
                },
                "deletion_requested_at": {
                  "default": null,
                  "format": "date-time",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "email": {
                  "type": "string"
                },
                "email_verified": {
                  "type": "boolean"
                },
                "gdpr_consents": {
                  "default": null
                },
                "id": {
                  "description": "Unique identifier for this entity",
                  "format": "uuid",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "primary_tenant_id": {
                  "default": null,
                  "description": "The user's primary family (can be changed)",
                  "format": "uuid",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "settings": {
                  "default": null
                },
                "updated_at": {
                  "format": "date-time",
                  "type": "string"
                }
              },
              "required": [
                "created_at",
                "email",
                "email_verified",
                "id",
                "name",
                "updated_at"
              ],
              "type": "object"
            },
            "UserMembership": {
              "description": "A user's membership in a family",
              "properties": {
                "is_primary": {
                  "type": "boolean"
                },
                "joined_at": {
                  "format": "date-time",
                  "type": "string"
                },
                "role": {
                  "$ref": "#/definitions/InviteRole"
                },
                "tenant_id": {
                  "format": "uuid",
                  "type": "string"
                },
                "tenant_name": {
                  "type": "string"
                }
              },
              "required": [
                "is_primary",
                "joined_at",
                "role",
                "tenant_id",
                "tenant_name"
              ],
              "type": "object"
            }
          },
          "description": "Current user info (for /api/auth/me)",
          "properties": {
            "memberships": {
              "description": "User's family memberships",
              "items": {
                "$ref": "#/definitions/UserMembership"
              },
              "type": "array"
            },
            "user": {
              "$ref": "#/definitions/User"
            }
          },
          "required": [
            "memberships",
            "user"
          ],
          "title": "CurrentUser",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/CurrentUser.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "047aa87c89c80bdb52ee71aa89ed998e4d8752cdb4d105bd66ec25816c773e12",
      "created_at": "2025-12-18T18:59:43.197162Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RecordConsentInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ConsentType": {
              "description": "Type of consent",
              "enum": [
                "terms_of_service",
                "privacy_policy",
                "marketing_emails",
                "ai_processing",
                "data_sharing",
                "analytics"
              ],
              "type": "string"
            }
          },
          "description": "Input for recording consent",
          "properties": {
            "consent_type": {
              "$ref": "#/definitions/ConsentType"
            },
            "granted": {
              "type": "boolean"
            },
            "version": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "consent_type",
            "granted"
          ],
          "title": "RecordConsentInput",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/RecordConsentInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "95667a9a996b55c7fc7f70232068fa36f472a197f3bd665057cfe0823ba6b064",
      "created_at": "2025-12-18T18:59:43.197351Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ReviewJoinRequestInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Input for reviewing a join request",
          "properties": {
            "approved": {
              "type": "boolean"
            },
            "note": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "approved"
          ],
          "title": "ReviewJoinRequestInput",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/ReviewJoinRequestInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "16dd8ca28bedf5d1be704a9b8446a9641b587c24b63894767798e0d41326a560",
      "created_at": "2025-12-18T18:59:43.197511Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CreateEmailInviteInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "InviteRole": {
              "description": "Role to assign when invitation is accepted",
              "enum": [
                "admin",
                "member",
                "guest"
              ],
              "type": "string"
            }
          },
          "description": "Input for creating an email invitation",
          "properties": {
            "email": {
              "type": "string"
            },
            "expires_in_days": {
              "default": 7,
              "description": "Expiry in days (default 7)",
              "format": "int64",
              "type": "integer"
            },
            "role": {
              "anyOf": [
                {
                  "$ref": "#/definitions/InviteRole"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "email",
            "tenant_id"
          ],
          "title": "CreateEmailInviteInput",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/CreateEmailInviteInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "86f9b5c1e23c73efd0acd7a4c7d6c54e628b1765eaeae0d520c86de1c36e637b",
      "created_at": "2025-12-18T18:59:43.197614Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "JoinRequestStatus",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Status of a join request",
          "enum": [
            "pending",
            "approved",
            "rejected"
          ],
          "title": "JoinRequestStatus",
          "type": "string"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/JoinRequestStatus.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "54dc3ae79381dd1e5e3fb21f1457e7ed9d8571882a2511af470d243dd876956f",
      "created_at": "2025-12-18T18:59:43.197707Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "InviteType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Type of family invitation",
          "oneOf": [
            {
              "description": "Sent to a specific email address",
              "enum": [
                "email"
              ],
              "type": "string"
            },
            {
              "description": "Shareable code (like Discord)",
              "enum": [
                "code"
              ],
              "type": "string"
            }
          ],
          "title": "InviteType"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/InviteType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e826bedd9a1bcb3d5b4c2ef6781cfda59ce3f14c8fd3e26cd7bd1a41353e9ccc",
      "created_at": "2025-12-18T18:59:43.197798Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RequestDeletionInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Input for requesting deletion",
          "properties": {
            "reason": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            }
          },
          "title": "RequestDeletionInput",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/RequestDeletionInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "56d37f6bdccdc2bc10d63e3a70c2f45448fed9dfc180bb8332c732ab3f78a8dd",
      "created_at": "2025-12-18T18:59:43.197884Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AuthSession",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "An authenticated session",
          "properties": {
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "expires_at": {
              "format": "date-time",
              "type": "string"
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "ip_address": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "token_hash": {
              "description": "Token hash (the actual token is only returned once on creation)",
              "type": "string"
            },
            "user_agent": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "user_id": {
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "expires_at",
            "id",
            "token_hash",
            "user_id"
          ],
          "title": "AuthSession",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/AuthSession.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "7e1919844f02c988ba842a46cbcf6abedc3f965e6a88e2bf3102691a9530adf9",
      "created_at": "2025-12-18T18:59:43.197972Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MagicLink",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "MagicLinkPurpose": {
              "description": "Purpose of a magic link",
              "enum": [
                "login",
                "signup",
                "verify_email",
                "password_reset"
              ],
              "type": "string"
            }
          },
          "description": "A magic link for passwordless auth",
          "properties": {
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "email": {
              "type": "string"
            },
            "expires_at": {
              "format": "date-time",
              "type": "string"
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "metadata": {
              "default": null
            },
            "purpose": {
              "$ref": "#/definitions/MagicLinkPurpose"
            },
            "used_at": {
              "default": null,
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "created_at",
            "email",
            "expires_at",
            "id",
            "purpose"
          ],
          "title": "MagicLink",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/MagicLink.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "5cbd4aa6595a6689084e95b9414d890b5f8573f2151162972935940bf71d3b3e",
      "created_at": "2025-12-18T18:59:43.198061Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AuthResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "SessionCreated": {
              "description": "Result of creating a session (includes the raw token)",
              "properties": {
                "expires_at": {
                  "format": "date-time",
                  "type": "string"
                },
                "session_id": {
                  "format": "uuid",
                  "type": "string"
                },
                "token": {
                  "type": "string"
                }
              },
              "required": [
                "expires_at",
                "session_id",
                "token"
              ],
              "type": "object"
            },
            "User": {
              "description": "A user's identity that can belong to multiple families\n\nUses `SystemEntityMeta` because users are not tenant-scoped - a single user can belong to multiple families.",
              "properties": {
                "avatar_url": {
                  "default": null,
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "created_at": {
                  "format": "date-time",
                  "type": "string"
                },
                "deletion_requested_at": {
                  "default": null,
                  "format": "date-time",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "email": {
                  "type": "string"
                },
                "email_verified": {
                  "type": "boolean"
                },
                "gdpr_consents": {
                  "default": null
                },
                "id": {
                  "description": "Unique identifier for this entity",
                  "format": "uuid",
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "primary_tenant_id": {
                  "default": null,
                  "description": "The user's primary family (can be changed)",
                  "format": "uuid",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "settings": {
                  "default": null
                },
                "updated_at": {
                  "format": "date-time",
                  "type": "string"
                }
              },
              "required": [
                "created_at",
                "email",
                "email_verified",
                "id",
                "name",
                "updated_at"
              ],
              "type": "object"
            }
          },
          "description": "Response after successful authentication",
          "properties": {
            "is_new_user": {
              "description": "True if this is a new user (just signed up)",
              "type": "boolean"
            },
            "needs_family": {
              "description": "True if user needs to create/join a family",
              "type": "boolean"
            },
            "session": {
              "$ref": "#/definitions/SessionCreated"
            },
            "user": {
              "$ref": "#/definitions/User"
            }
          },
          "required": [
            "is_new_user",
            "needs_family",
            "session",
            "user"
          ],
          "title": "AuthResponse",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/AuthResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4746931fc892588a31b4eedc6217b49f0d6951eb9766a1cb4cac046f6430172c",
      "created_at": "2025-12-18T18:59:43.198161Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ExportStatus",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Status of a data export request",
          "enum": [
            "pending",
            "processing",
            "ready",
            "expired",
            "failed"
          ],
          "title": "ExportStatus",
          "type": "string"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/ExportStatus.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "434f6110c98c1b19348b66db509aab37afd506eeb450a18ca448a0b6c2747ac8",
      "created_at": "2025-12-18T18:59:43.198248Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "InvitationInfo",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "InviteRole": {
              "description": "Role to assign when invitation is accepted",
              "enum": [
                "admin",
                "member",
                "guest"
              ],
              "type": "string"
            }
          },
          "description": "Public invitation info (for showing what user is joining)",
          "properties": {
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "is_valid": {
              "type": "boolean"
            },
            "role": {
              "$ref": "#/definitions/InviteRole"
            },
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            },
            "tenant_name": {
              "type": "string"
            }
          },
          "required": [
            "id",
            "is_valid",
            "role",
            "tenant_id",
            "tenant_name"
          ],
          "title": "InvitationInfo",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/InvitationInfo.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ebafe176b9f6b6efbe4e3c4aeaa3e2df3545db7edf14b7f7c7a1463971700b2d",
      "created_at": "2025-12-18T18:59:43.198343Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CreateCodeInviteInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "InviteRole": {
              "description": "Role to assign when invitation is accepted",
              "enum": [
                "admin",
                "member",
                "guest"
              ],
              "type": "string"
            }
          },
          "description": "Input for creating a code invitation",
          "properties": {
            "expires_in_days": {
              "default": null,
              "description": "Expiry in days (None = never)",
              "format": "int64",
              "type": [
                "integer",
                "null"
              ]
            },
            "max_uses": {
              "default": 1,
              "description": "Max number of uses (default 1, 0 = unlimited)",
              "format": "int32",
              "type": "integer"
            },
            "role": {
              "anyOf": [
                {
                  "$ref": "#/definitions/InviteRole"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "tenant_id"
          ],
          "title": "CreateCodeInviteInput",
          "type": "object"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/CreateCodeInviteInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b16f312257bf5821b40daf3ab56e0f46887e73b90d3f48d249eb5f221c8e456c",
      "created_at": "2025-12-18T18:59:43.198430Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ConsentType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Type of consent",
          "enum": [
            "terms_of_service",
            "privacy_policy",
            "marketing_emails",
            "ai_processing",
            "data_sharing",
            "analytics"
          ],
          "title": "ConsentType",
          "type": "string"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/ConsentType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d9440faa1d8bb4ce3ad60209ac32e22667dae5623a420d9d4b49529dd62e6c82",
      "created_at": "2025-12-18T18:59:43.198517Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DeletionStatus",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Status of a deletion request",
          "enum": [
            "pending",
            "cancelled",
            "processing",
            "completed"
          ],
          "title": "DeletionStatus",
          "type": "string"
        },
        "category": "auth",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/auth/DeletionStatus.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "37f7dc781bd4a46ada065ad3f7101bf2dbef4032232001808aed937bb7474bd2",
      "created_at": "2025-12-18T18:59:43.198599Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "PhysicsResponse": {
              "description": "Physics state on spawned entity",
              "properties": {
                "amplitude": {
                  "format": "double",
                  "type": "number"
                },
                "energy": {
                  "format": "double",
                  "type": "number"
                },
                "position": {
                  "description": "Position in VAE space [Valence, Arousal, Epistemic]",
                  "items": {
                    "format": "double",
                    "type": "number"
                  },
                  "maxItems": 3,
                  "minItems": 3,
                  "type": "array"
                },
                "temperature": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "amplitude",
                "energy",
                "position",
                "temperature"
              ],
              "type": "object"
            }
          },
          "description": "A spawned entity in the response",
          "properties": {
            "content_preview": {
              "type": "string"
            },
            "entity_type": {
              "type": "string"
            },
            "id": {
              "type": "string"
            },
            "physics": {
              "anyOf": [
                {
                  "$ref": "#/definitions/PhysicsResponse"
                },
                {
                  "type": "null"
                }
              ]
            },
            "unit_index": {
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            }
          },
          "required": [
            "content_preview",
            "entity_type",
            "id",
            "unit_index"
          ],
          "title": "EntityResponse",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/EntityResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "af06d40bff3d1a6bda4b9724f55939db3a167ac791b64f7ba82d8917d2039bd0",
      "created_at": "2025-12-18T18:59:43.198692Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DocumentBlock",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "filename": {
              "type": [
                "string",
                "null"
              ]
            },
            "mime_type": {
              "type": [
                "string",
                "null"
              ]
            },
            "source": {
              "type": "string"
            }
          },
          "required": [
            "source"
          ],
          "title": "DocumentBlock",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/DocumentBlock.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "dd2207a911b4bbf20d505a2de9b60f71df3238ef819cf0798d0c0fd93d9444df",
      "created_at": "2025-12-18T18:59:43.199316Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "WeaveUnitResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ClassificationResponse": {
              "description": "Classification with weight",
              "properties": {
                "entity_type": {
                  "type": "string"
                },
                "weight": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "entity_type",
                "weight"
              ],
              "type": "object"
            },
            "PhysicsHintResponse": {
              "description": "Physics hints from LLM",
              "properties": {
                "arousal": {
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "clarity": {
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "intrusiveness": {
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "significance": {
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "valence": {
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "volatility": {
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "type": "object"
            }
          },
          "description": "A weave unit in the response",
          "properties": {
            "classifications": {
              "items": {
                "$ref": "#/definitions/ClassificationResponse"
              },
              "type": "array"
            },
            "content": {
              "type": "string"
            },
            "index": {
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "physics_hint": {
              "anyOf": [
                {
                  "$ref": "#/definitions/PhysicsHintResponse"
                },
                {
                  "type": "null"
                }
              ]
            },
            "primary_thread": {
              "description": "Primary thread (main subject/actor)",
              "type": [
                "string",
                "null"
              ]
            },
            "purpose": {
              "description": "Purpose of this specific weave unit (LOG, QUERY, COMMAND, INFER, REFERENCE)",
              "type": [
                "string",
                "null"
              ]
            },
            "secondary_threads": {
              "default": [],
              "description": "Secondary threads (other people/places/things)",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "spawned_ids": {
              "default": [],
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "temporal_marker": {
              "default": null,
              "description": "Temporal marker (when: absolute, relative, frequency, duration) Always included in output for debugging (even if null)",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "classifications",
            "content",
            "index"
          ],
          "title": "WeaveUnitResponse",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/WeaveUnitResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "a0b95acedd4b8470860b10eb0538b05e848b83bc39e482f82495f1dd8f144a2a",
      "created_at": "2025-12-18T18:59:43.199651Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MessageIntentResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "MessageIntent": {
              "description": "The primary intent of the user's message",
              "oneOf": [
                {
                  "description": "Recording something - events, states, observations (current default)",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information back",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting system to make connections or derive insights",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities, threads, or past entries",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis, patterns, or reflection on data",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Giving a command/instruction to the system",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Conversational/social - greetings, acknowledgments",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                }
              ]
            },
            "QueryTarget": {
              "description": "Query target - what data is the query looking for?",
              "properties": {
                "entity_types": {
                  "default": [],
                  "description": "The entity/thread types being queried (e.g., \"moments\", \"threads\", \"pulses\")",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted from the query",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "temporal_scope": {
                  "default": null,
                  "description": "Temporal scope (e.g., \"today\", \"last week\", \"all time\")",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "thread_hints": {
                  "default": [],
                  "description": "Specific thread hints (names, concepts) to search for",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "QueryType": {
              "description": "The type of query (when MessageIntent is QUERY)",
              "oneOf": [
                {
                  "description": "When did X happen? Time-based lookup",
                  "enum": [
                    "TEMPORAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Who/what questions - entity lookup",
                  "enum": [
                    "ENTITY"
                  ],
                  "type": "string"
                },
                {
                  "description": "How often? Pattern/frequency questions",
                  "enum": [
                    "PATTERN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Compare X and Y",
                  "enum": [
                    "COMPARISON"
                  ],
                  "type": "string"
                },
                {
                  "description": "Give me a summary/overview",
                  "enum": [
                    "SUMMARY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Count/quantity questions (how many?)",
                  "enum": [
                    "QUANTITATIVE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Yes/no questions (did X happen?)",
                  "enum": [
                    "BOOLEAN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Why questions - causation",
                  "enum": [
                    "CAUSAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Location-based questions",
                  "enum": [
                    "SPATIAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Open-ended/exploratory",
                  "enum": [
                    "EXPLORATORY"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Classified message intent (what the user is trying to do)",
          "properties": {
            "confidence": {
              "description": "Confidence score 0.0-1.0",
              "format": "double",
              "type": "number"
            },
            "intent": {
              "allOf": [
                {
                  "$ref": "#/definitions/MessageIntent"
                }
              ],
              "description": "Primary intent: LOG, QUERY, INFER, REFERENCE, REFLECT, COMMAND, SOCIAL"
            },
            "query_target": {
              "anyOf": [
                {
                  "$ref": "#/definitions/QueryTarget"
                },
                {
                  "type": "null"
                }
              ],
              "description": "If QUERY: what is being queried"
            },
            "query_type": {
              "anyOf": [
                {
                  "$ref": "#/definitions/QueryType"
                },
                {
                  "type": "null"
                }
              ],
              "description": "If QUERY: what type of query"
            }
          },
          "required": [
            "confidence",
            "intent"
          ],
          "title": "MessageIntentResponse",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/MessageIntentResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "5b29894918e36989d05fe25bf28393958a0d2948a1b50f35112fb2704fad31b5",
      "created_at": "2025-12-18T18:59:43.199770Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ModelInfo",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Model information component",
          "properties": {
            "api_model_id": {
              "type": "string"
            },
            "id": {
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "provider": {
              "type": "string"
            }
          },
          "required": [
            "api_model_id",
            "id",
            "name",
            "provider"
          ],
          "title": "ModelInfo",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/ModelInfo.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "79a3834e1eeb99acfcf8e4d6a93c91363c7043df30a156b9597e8baf76025a03",
      "created_at": "2025-12-18T18:59:43.199919Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AudioBlock",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "duration_secs": {
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "source": {
              "type": "string"
            },
            "transcript": {
              "description": "Pre-transcribed (skip Whisper)",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "source"
          ],
          "title": "AudioBlock",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/AudioBlock.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ade4bd5fb5618643982a34004d305060aa19d7def7bdadf805546bb0d2bd4467",
      "created_at": "2025-12-18T18:59:43.200009Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "WeaveRequest",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "WeaveBlock": {
              "description": "Input block types for multimodal weave requests",
              "oneOf": [
                {
                  "properties": {
                    "content": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "content",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "alt_text": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "analyze": {
                      "default": true,
                      "description": "Request vision analysis",
                      "type": "boolean"
                    },
                    "source": {
                      "description": "base64 data URI or URL",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "source",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "duration_secs": {
                      "format": "double",
                      "type": [
                        "number",
                        "null"
                      ]
                    },
                    "source": {
                      "type": "string"
                    },
                    "transcript": {
                      "description": "Pre-transcribed (skip Whisper)",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "audio"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "source",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "filename": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "mime_type": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "source": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "document"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "source",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "extract_images": {
                      "default": false,
                      "description": "Whether to extract images from the page",
                      "type": "boolean"
                    },
                    "selector": {
                      "description": "Optional CSS selector to extract specific content",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "webpage"
                      ],
                      "type": "string"
                    },
                    "url": {
                      "description": "URL to scrape",
                      "type": "string"
                    }
                  },
                  "required": [
                    "type",
                    "url"
                  ],
                  "type": "object"
                }
              ]
            }
          },
          "description": "Request payload for POST /weave",
          "properties": {
            "agent_id": {
              "description": "Agent/Flow ID (\"heddle\" or \"concierge\")",
              "type": [
                "string",
                "null"
              ]
            },
            "api_key": {
              "description": "API key (passed from client)",
              "type": [
                "string",
                "null"
              ]
            },
            "blocks": {
              "description": "Multimodal blocks (replaces/augments simple text weave)",
              "items": {
                "$ref": "#/definitions/WeaveBlock"
              },
              "type": [
                "array",
                "null"
              ]
            },
            "context": {
              "description": "Optional global context (the \"Golden Thread\")",
              "type": [
                "string",
                "null"
              ]
            },
            "context_blocks": {
              "description": "Context can also be multimodal",
              "items": {
                "$ref": "#/definitions/WeaveBlock"
              },
              "type": [
                "array",
                "null"
              ]
            },
            "model": {
              "description": "Model ID to use",
              "type": [
                "string",
                "null"
              ]
            },
            "provider": {
              "description": "AI provider to use",
              "type": [
                "string",
                "null"
              ]
            },
            "threshold": {
              "description": "Collapse threshold for entity spawning (default: 0.7)",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "weave": {
              "description": "The raw user input (the \"weave\" of thought)",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "title": "WeaveRequest",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/WeaveRequest.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ffdba5809635ef9ac8d75d1a6f989e29d0e633be8ab5169e53f9786632624c41",
      "created_at": "2025-12-18T18:59:43.200132Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ClassificationResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Classification with weight",
          "properties": {
            "entity_type": {
              "type": "string"
            },
            "weight": {
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "entity_type",
            "weight"
          ],
          "title": "ClassificationResponse",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/ClassificationResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "9071ea61b8035b80658ed2626a9de21843fe6d5be3314bd6f040fb50ec072ef0",
      "created_at": "2025-12-18T18:59:43.200351Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TextBlock",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "content": {
              "type": "string"
            }
          },
          "required": [
            "content"
          ],
          "title": "TextBlock",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/TextBlock.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b007c18a93123d33fc54fb83e59afefa361292198116d97e14441a783661962b",
      "created_at": "2025-12-18T18:59:43.200445Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MediaType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "Image",
            "Audio",
            "Document",
            "Webpage"
          ],
          "title": "MediaType",
          "type": "string"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/MediaType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "eee096c277de18650ae70630c30f25949375005ca32dcdfd40667963be36288b",
      "created_at": "2025-12-18T18:59:43.200527Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "HealthResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Response payload for GET /health",
          "properties": {
            "service": {
              "type": "string"
            },
            "status": {
              "type": "string"
            },
            "version": {
              "type": "string"
            }
          },
          "required": [
            "service",
            "status",
            "version"
          ],
          "title": "HealthResponse",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/HealthResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "0e36fef71a2bca2d83680fade56c746a3dbc6a032316385d1aba3986a95bb889",
      "created_at": "2025-12-18T18:59:43.200609Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MediaRef",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "MediaType": {
              "enum": [
                "Image",
                "Audio",
                "Document",
                "Webpage"
              ],
              "type": "string"
            }
          },
          "properties": {
            "bucket_key": {
              "type": [
                "string",
                "null"
              ]
            },
            "id": {
              "type": "string"
            },
            "media_type": {
              "$ref": "#/definitions/MediaType"
            },
            "metadata": true,
            "normalized_text": {
              "type": "string"
            }
          },
          "required": [
            "id",
            "media_type",
            "metadata",
            "normalized_text"
          ],
          "title": "MediaRef",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/MediaRef.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "99f9e97ff0b8ca482992fa042656fee419882592eaaa746c73628f02f2811031",
      "created_at": "2025-12-18T18:59:43.200699Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ImageBlock",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "alt_text": {
              "type": [
                "string",
                "null"
              ]
            },
            "analyze": {
              "default": true,
              "description": "Request vision analysis",
              "type": "boolean"
            },
            "source": {
              "description": "base64 data URI or URL",
              "type": "string"
            }
          },
          "required": [
            "source"
          ],
          "title": "ImageBlock",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/ImageBlock.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "919578ccac8682aebba5232c48f73141d83a31c39615cb3c8d16b4b3b82a773d",
      "created_at": "2025-12-18T18:59:43.200787Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PhysicsResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Physics state on spawned entity",
          "properties": {
            "amplitude": {
              "format": "double",
              "type": "number"
            },
            "energy": {
              "format": "double",
              "type": "number"
            },
            "position": {
              "description": "Position in VAE space [Valence, Arousal, Epistemic]",
              "items": {
                "format": "double",
                "type": "number"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            },
            "temperature": {
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "amplitude",
            "energy",
            "position",
            "temperature"
          ],
          "title": "PhysicsResponse",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/PhysicsResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "8a96d75cc113570f9ae7cd0b5b4c16964f25d674ba0cde8d3a112c94e0e8a040",
      "created_at": "2025-12-18T18:59:43.200876Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "WeaveBlock",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Input block types for multimodal weave requests",
          "oneOf": [
            {
              "properties": {
                "content": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "text"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "content",
                "type"
              ],
              "type": "object"
            },
            {
              "properties": {
                "alt_text": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "analyze": {
                  "default": true,
                  "description": "Request vision analysis",
                  "type": "boolean"
                },
                "source": {
                  "description": "base64 data URI or URL",
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "image"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "source",
                "type"
              ],
              "type": "object"
            },
            {
              "properties": {
                "duration_secs": {
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "source": {
                  "type": "string"
                },
                "transcript": {
                  "description": "Pre-transcribed (skip Whisper)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "type": {
                  "enum": [
                    "audio"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "source",
                "type"
              ],
              "type": "object"
            },
            {
              "properties": {
                "filename": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "mime_type": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "source": {
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "document"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "source",
                "type"
              ],
              "type": "object"
            },
            {
              "properties": {
                "extract_images": {
                  "default": false,
                  "description": "Whether to extract images from the page",
                  "type": "boolean"
                },
                "selector": {
                  "description": "Optional CSS selector to extract specific content",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "type": {
                  "enum": [
                    "webpage"
                  ],
                  "type": "string"
                },
                "url": {
                  "description": "URL to scrape",
                  "type": "string"
                }
              },
              "required": [
                "type",
                "url"
              ],
              "type": "object"
            }
          ],
          "title": "WeaveBlock"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/WeaveBlock.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "0bb2f48ee3d32542ad3b9b0854b5dac79249632a1825baf8edcb2d54b482ec21",
      "created_at": "2025-12-18T18:59:43.200966Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SegmentResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A raw segment from Phase 1 (no classification)",
          "properties": {
            "content": {
              "type": "string"
            },
            "mentions": {
              "default": [],
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "subject": {
              "type": [
                "string",
                "null"
              ]
            },
            "temporal": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "content"
          ],
          "title": "SegmentResponse",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/SegmentResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "97140c18bec25bdc3c365987799dbec1da1e1e769ffea32a72427567d6272279",
      "created_at": "2025-12-18T18:59:43.201058Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "WebpageBlock",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "extract_images": {
              "default": false,
              "description": "Whether to extract images from the page",
              "type": "boolean"
            },
            "selector": {
              "description": "Optional CSS selector to extract specific content",
              "type": [
                "string",
                "null"
              ]
            },
            "url": {
              "description": "URL to scrape",
              "type": "string"
            }
          },
          "required": [
            "url"
          ],
          "title": "WebpageBlock",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/WebpageBlock.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "25a7b32d16468733968c46f0066bdd5b22d42eac3dd48a24bc37ee49d556a63e",
      "created_at": "2025-12-18T18:59:43.201162Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PhysicsHintResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Physics hints from LLM",
          "properties": {
            "arousal": {
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "clarity": {
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "intrusiveness": {
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "significance": {
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "valence": {
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "volatility": {
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            }
          },
          "title": "PhysicsHintResponse",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/PhysicsHintResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e44e5b9573bcc69af8666ce9bc3683523805bc888d4e479fbca34906b18ea7cc",
      "created_at": "2025-12-18T18:59:43.201264Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CourseResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ClassificationResponse": {
              "description": "Classification with weight",
              "properties": {
                "entity_type": {
                  "type": "string"
                },
                "weight": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "entity_type",
                "weight"
              ],
              "type": "object"
            },
            "EntityResponse": {
              "description": "A spawned entity in the response",
              "properties": {
                "content_preview": {
                  "type": "string"
                },
                "entity_type": {
                  "type": "string"
                },
                "id": {
                  "type": "string"
                },
                "physics": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/PhysicsResponse"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "unit_index": {
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "content_preview",
                "entity_type",
                "id",
                "unit_index"
              ],
              "type": "object"
            },
            "LlmRequestDebug": {
              "description": "Debug info about the LLM request",
              "properties": {
                "system_prompt": {
                  "type": "string"
                },
                "user_prompt": {
                  "type": "string"
                }
              },
              "required": [
                "system_prompt",
                "user_prompt"
              ],
              "type": "object"
            },
            "MediaRef": {
              "properties": {
                "bucket_key": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "id": {
                  "type": "string"
                },
                "media_type": {
                  "$ref": "#/definitions/MediaType"
                },
                "metadata": true,
                "normalized_text": {
                  "type": "string"
                }
              },
              "required": [
                "id",
                "media_type",
                "metadata",
                "normalized_text"
              ],
              "type": "object"
            },
            "MediaType": {
              "enum": [
                "Image",
                "Audio",
                "Document",
                "Webpage"
              ],
              "type": "string"
            },
            "MessageIntent": {
              "description": "The primary intent of the user's message",
              "oneOf": [
                {
                  "description": "Recording something - events, states, observations (current default)",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information back",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting system to make connections or derive insights",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities, threads, or past entries",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis, patterns, or reflection on data",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Giving a command/instruction to the system",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Conversational/social - greetings, acknowledgments",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                }
              ]
            },
            "MessageIntentResponse": {
              "description": "Classified message intent (what the user is trying to do)",
              "properties": {
                "confidence": {
                  "description": "Confidence score 0.0-1.0",
                  "format": "double",
                  "type": "number"
                },
                "intent": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/MessageIntent"
                    }
                  ],
                  "description": "Primary intent: LOG, QUERY, INFER, REFERENCE, REFLECT, COMMAND, SOCIAL"
                },
                "query_target": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/QueryTarget"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "description": "If QUERY: what is being queried"
                },
                "query_type": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/QueryType"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "description": "If QUERY: what type of query"
                }
              },
              "required": [
                "confidence",
                "intent"
              ],
              "type": "object"
            },
            "PhysicsHintResponse": {
              "description": "Physics hints from LLM",
              "properties": {
                "arousal": {
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "clarity": {
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "intrusiveness": {
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "significance": {
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "valence": {
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "volatility": {
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "PhysicsResponse": {
              "description": "Physics state on spawned entity",
              "properties": {
                "amplitude": {
                  "format": "double",
                  "type": "number"
                },
                "energy": {
                  "format": "double",
                  "type": "number"
                },
                "position": {
                  "description": "Position in VAE space [Valence, Arousal, Epistemic]",
                  "items": {
                    "format": "double",
                    "type": "number"
                  },
                  "maxItems": 3,
                  "minItems": 3,
                  "type": "array"
                },
                "temperature": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "amplitude",
                "energy",
                "position",
                "temperature"
              ],
              "type": "object"
            },
            "QueryTarget": {
              "description": "Query target - what data is the query looking for?",
              "properties": {
                "entity_types": {
                  "default": [],
                  "description": "The entity/thread types being queried (e.g., \"moments\", \"threads\", \"pulses\")",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted from the query",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "temporal_scope": {
                  "default": null,
                  "description": "Temporal scope (e.g., \"today\", \"last week\", \"all time\")",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "thread_hints": {
                  "default": [],
                  "description": "Specific thread hints (names, concepts) to search for",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "QueryType": {
              "description": "The type of query (when MessageIntent is QUERY)",
              "oneOf": [
                {
                  "description": "When did X happen? Time-based lookup",
                  "enum": [
                    "TEMPORAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Who/what questions - entity lookup",
                  "enum": [
                    "ENTITY"
                  ],
                  "type": "string"
                },
                {
                  "description": "How often? Pattern/frequency questions",
                  "enum": [
                    "PATTERN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Compare X and Y",
                  "enum": [
                    "COMPARISON"
                  ],
                  "type": "string"
                },
                {
                  "description": "Give me a summary/overview",
                  "enum": [
                    "SUMMARY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Count/quantity questions (how many?)",
                  "enum": [
                    "QUANTITATIVE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Yes/no questions (did X happen?)",
                  "enum": [
                    "BOOLEAN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Why questions - causation",
                  "enum": [
                    "CAUSAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Location-based questions",
                  "enum": [
                    "SPATIAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Open-ended/exploratory",
                  "enum": [
                    "EXPLORATORY"
                  ],
                  "type": "string"
                }
              ]
            },
            "SegmentResponse": {
              "description": "A raw segment from Phase 1 (no classification)",
              "properties": {
                "content": {
                  "type": "string"
                },
                "mentions": {
                  "default": [],
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "subject": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "temporal": {
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content"
              ],
              "type": "object"
            },
            "WeaveUnitResponse": {
              "description": "A weave unit in the response",
              "properties": {
                "classifications": {
                  "items": {
                    "$ref": "#/definitions/ClassificationResponse"
                  },
                  "type": "array"
                },
                "content": {
                  "type": "string"
                },
                "index": {
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "physics_hint": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/PhysicsHintResponse"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "primary_thread": {
                  "description": "Primary thread (main subject/actor)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "purpose": {
                  "description": "Purpose of this specific weave unit (LOG, QUERY, COMMAND, INFER, REFERENCE)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "secondary_threads": {
                  "default": [],
                  "description": "Secondary threads (other people/places/things)",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "spawned_ids": {
                  "default": [],
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "temporal_marker": {
                  "default": null,
                  "description": "Temporal marker (when: absolute, relative, frequency, duration) Always included in output for debugging (even if null)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "classifications",
                "content",
                "index"
              ],
              "type": "object"
            }
          },
          "description": "Response payload for POST /weave",
          "properties": {
            "course_id": {
              "description": "Course ID (the workflow container)",
              "type": "string"
            },
            "debug_llm_request": {
              "anyOf": [
                {
                  "$ref": "#/definitions/LlmRequestDebug"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Raw prompt sent to LLM (system + user message)"
            },
            "debug_llm_response": {
              "description": "Raw JSON response from LLM (before processing)",
              "type": [
                "string",
                "null"
              ]
            },
            "entities": {
              "description": "Entities spawned from weave units (by Spawner, not LLM)",
              "items": {
                "$ref": "#/definitions/EntityResponse"
              },
              "type": [
                "array",
                "null"
              ]
            },
            "error": {
              "description": "Error message if failed",
              "type": [
                "string",
                "null"
              ]
            },
            "media_refs": {
              "description": "Media references from multimodal input",
              "items": {
                "$ref": "#/definitions/MediaRef"
              },
              "type": [
                "array",
                "null"
              ]
            },
            "message_intent": {
              "allOf": [
                {
                  "$ref": "#/definitions/MessageIntentResponse"
                }
              ],
              "description": "What is the user trying to do with this message?"
            },
            "metadata": {
              "description": "Processing metadata"
            },
            "original_weave": {
              "description": "The original user input (preserved for context)",
              "type": "string"
            },
            "provider": {
              "description": "Provider used",
              "type": "string"
            },
            "segments": {
              "default": [],
              "description": "Raw segments before classification (Phase 1 output)",
              "items": {
                "$ref": "#/definitions/SegmentResponse"
              },
              "type": "array"
            },
            "shuttle_id": {
              "description": "Shuttle ID (carries the weave units)",
              "type": "string"
            },
            "success": {
              "type": "boolean"
            },
            "unit_count": {
              "description": "Number of weave units extracted (0 for queries)",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "weave_units": {
              "description": "The classified weave units (for LOG intent)",
              "items": {
                "$ref": "#/definitions/WeaveUnitResponse"
              },
              "type": "array"
            }
          },
          "required": [
            "course_id",
            "message_intent",
            "original_weave",
            "provider",
            "shuttle_id",
            "success",
            "unit_count",
            "weave_units"
          ],
          "title": "CourseResponse",
          "type": "object"
        },
        "category": "entities_api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities_api/CourseResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "cf8bbcd6ff1aed3326ce946ac812967492456dc9f193cc4f5205c1a884067c77",
      "created_at": "2025-12-18T18:59:43.201413Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RAGInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Input to the RAG agent",
          "properties": {
            "filters": {
              "default": null,
              "description": "Optional filters"
            },
            "limit": {
              "default": 10,
              "description": "Maximum results to return",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "query": {
              "description": "Search query",
              "type": "string"
            },
            "request_id": {
              "description": "Request ID for tracing",
              "type": "string"
            },
            "state": {
              "description": "Current agent state"
            }
          },
          "required": [
            "query",
            "request_id",
            "state"
          ],
          "title": "RAGInput",
          "type": "object"
        },
        "category": "windmill",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/windmill/RAGInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b09798776005d7326037b1bf38a5cc69e6a9e1d8d3200b676860ebdb5524045b",
      "created_at": "2025-12-18T18:59:43.201629Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ConciergeOutput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AgentResponse": {
              "description": "Response from an agent",
              "properties": {
                "content": {
                  "description": "Content of the response",
                  "type": "string"
                },
                "message_type": {
                  "default": "text",
                  "description": "Type of message (text, question, etc.)",
                  "type": "string"
                },
                "options": {
                  "default": null,
                  "description": "Options for questions",
                  "items": {
                    "type": "string"
                  },
                  "type": [
                    "array",
                    "null"
                  ]
                }
              },
              "required": [
                "content"
              ],
              "type": "object"
            }
          },
          "description": "Output from the concierge agent",
          "properties": {
            "done": {
              "default": false,
              "description": "Whether the task is done",
              "type": "boolean"
            },
            "response": {
              "allOf": [
                {
                  "$ref": "#/definitions/AgentResponse"
                }
              ],
              "description": "Response to send to user"
            },
            "state": {
              "description": "Updated state"
            }
          },
          "required": [
            "response",
            "state"
          ],
          "title": "ConciergeOutput",
          "type": "object"
        },
        "category": "windmill",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/windmill/ConciergeOutput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "103ee520221cc9e72e10bc47a55cea95fa9d2ac8fc98d00d75fee517a10f8b55",
      "created_at": "2025-12-18T18:59:43.201782Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ContinuationInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Input to the continuation agent",
          "properties": {
            "original_request": {
              "default": null,
              "description": "Original user request",
              "type": [
                "string",
                "null"
              ]
            },
            "request_id": {
              "description": "Request ID for tracing",
              "type": "string"
            },
            "state": {
              "description": "Current agent state"
            }
          },
          "required": [
            "request_id",
            "state"
          ],
          "title": "ContinuationInput",
          "type": "object"
        },
        "category": "windmill",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/windmill/ContinuationInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "381c196143158a92afe7dc2f033036bbc348c5b2826fb1a9b45dcca01b901290",
      "created_at": "2025-12-18T18:59:43.201950Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ConciergeInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Input to the concierge agent",
          "properties": {
            "is_first_message": {
              "default": false,
              "description": "Whether this is the first message in a conversation",
              "type": "boolean"
            },
            "request_id": {
              "description": "Request ID for tracing",
              "type": "string"
            },
            "state": {
              "description": "Current agent state"
            },
            "user_message": {
              "default": null,
              "description": "User message content",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "request_id",
            "state"
          ],
          "title": "ConciergeInput",
          "type": "object"
        },
        "category": "windmill",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/windmill/ConciergeInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f45c72ba13dce0a9658b79cb6ca13c49d46e72e9c59a03fef5b94fa454534c3b",
      "created_at": "2025-12-18T18:59:43.202102Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AgentResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Response from an agent",
          "properties": {
            "content": {
              "description": "Content of the response",
              "type": "string"
            },
            "message_type": {
              "default": "text",
              "description": "Type of message (text, question, etc.)",
              "type": "string"
            },
            "options": {
              "default": null,
              "description": "Options for questions",
              "items": {
                "type": "string"
              },
              "type": [
                "array",
                "null"
              ]
            }
          },
          "required": [
            "content"
          ],
          "title": "AgentResponse",
          "type": "object"
        },
        "category": "windmill",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/windmill/AgentResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ee78965cc4a0ed0e38f251c332095c17e609aca82e27ef1885297f1d850d72c0",
      "created_at": "2025-12-18T18:59:43.202252Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RAGOutput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "RAGResult": {
              "description": "A single RAG result",
              "properties": {
                "content": {
                  "description": "Content text",
                  "type": "string"
                },
                "entity_type": {
                  "description": "Entity type",
                  "type": "string"
                },
                "id": {
                  "description": "Result ID",
                  "type": "string"
                },
                "metadata": {
                  "default": null,
                  "description": "Optional metadata"
                },
                "score": {
                  "description": "Relevance score",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "content",
                "entity_type",
                "id",
                "score"
              ],
              "type": "object"
            }
          },
          "description": "Output from the RAG agent",
          "properties": {
            "done": {
              "default": true,
              "description": "Whether the task is done",
              "type": "boolean"
            },
            "query": {
              "description": "Original query",
              "type": "string"
            },
            "response_message": {
              "description": "Response message",
              "type": "string"
            },
            "results": {
              "description": "Search results",
              "items": {
                "$ref": "#/definitions/RAGResult"
              },
              "type": "array"
            },
            "state": {
              "description": "Updated state"
            },
            "total_count": {
              "description": "Total count (may be more than returned)",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            }
          },
          "required": [
            "query",
            "response_message",
            "results",
            "state",
            "total_count"
          ],
          "title": "RAGOutput",
          "type": "object"
        },
        "category": "windmill",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/windmill/RAGOutput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "039f40e32596d2a28a64edbeb601b02d8a222caf4b83a996a54af26a1baed6fa",
      "created_at": "2025-12-18T18:59:43.202373Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ClassifierInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Input to the classifier agent",
          "properties": {
            "request_id": {
              "description": "Request ID for tracing",
              "type": "string"
            },
            "state": {
              "description": "Current agent state"
            },
            "text": {
              "description": "Text to classify",
              "type": "string"
            }
          },
          "required": [
            "request_id",
            "state",
            "text"
          ],
          "title": "ClassifierInput",
          "type": "object"
        },
        "category": "windmill",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/windmill/ClassifierInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4d01c93590659d0401f94f61c18701a0bfc12a73295e54e1d662e251a74322d0",
      "created_at": "2025-12-18T18:59:43.202493Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ContinuationOutput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Output from the continuation agent",
          "properties": {
            "has_more_tasks": {
              "description": "Whether there are more tasks to do",
              "type": "boolean"
            },
            "message": {
              "description": "Message describing the decision",
              "type": "string"
            },
            "next_request": {
              "default": null,
              "description": "Next request to process",
              "type": [
                "string",
                "null"
              ]
            },
            "state": {
              "description": "Updated state"
            }
          },
          "required": [
            "has_more_tasks",
            "message",
            "state"
          ],
          "title": "ContinuationOutput",
          "type": "object"
        },
        "category": "windmill",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/windmill/ContinuationOutput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "16104e2476b9c4bf7172434cad8e7d44ca0452690119a898d7a0be6db1034652",
      "created_at": "2025-12-18T18:59:43.202629Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PhysicsOutput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Output from the physics agent",
          "properties": {
            "done": {
              "default": true,
              "description": "Whether the task is done",
              "type": "boolean"
            },
            "operation": {
              "description": "Operation performed",
              "type": "string"
            },
            "response_message": {
              "description": "Response message",
              "type": "string"
            },
            "result": {
              "description": "Result data"
            },
            "state": {
              "description": "Updated state"
            }
          },
          "required": [
            "operation",
            "response_message",
            "result",
            "state"
          ],
          "title": "PhysicsOutput",
          "type": "object"
        },
        "category": "windmill",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/windmill/PhysicsOutput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6d466a0b27d6339fdf5e372adc71c5bc514382a642088c8ff5966ddbbb336e8c",
      "created_at": "2025-12-18T18:59:43.202713Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ClassificationResult",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Result of classification",
          "properties": {
            "entity_type": {
              "description": "Entity type",
              "type": "string"
            },
            "probability": {
              "description": "Probability score",
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "entity_type",
            "probability"
          ],
          "title": "ClassificationResult",
          "type": "object"
        },
        "category": "windmill",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/windmill/ClassificationResult.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "9ebc1b4981a15daa8e3d229feade796aed1864efce73bbd773889a655b56b4dd",
      "created_at": "2025-12-18T18:59:43.202833Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RAGResult",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A single RAG result",
          "properties": {
            "content": {
              "description": "Content text",
              "type": "string"
            },
            "entity_type": {
              "description": "Entity type",
              "type": "string"
            },
            "id": {
              "description": "Result ID",
              "type": "string"
            },
            "metadata": {
              "default": null,
              "description": "Optional metadata"
            },
            "score": {
              "description": "Relevance score",
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "content",
            "entity_type",
            "id",
            "score"
          ],
          "title": "RAGResult",
          "type": "object"
        },
        "category": "windmill",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/windmill/RAGResult.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d2e3e1375ccf8b18474b8d2c761348c2348c57f5294ee04554bd8f561b5f60e7",
      "created_at": "2025-12-18T18:59:43.203982Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ClassifierOutput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ClassificationResult": {
              "description": "Result of classification",
              "properties": {
                "entity_type": {
                  "description": "Entity type",
                  "type": "string"
                },
                "probability": {
                  "description": "Probability score",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "entity_type",
                "probability"
              ],
              "type": "object"
            },
            "PhysicsHint": {
              "description": "Sparse container for physics hints extracted from text by the LLM. All fields are Option<f64>. If None, the system applies Vacuum State defaults. This is the \"raw\" output from classification before collapse.",
              "properties": {
                "arousal": {
                  "description": "Energy/Activation: 0.0 (Calm) to 1.0 (Excited) Maps to: VAE Arousal axis",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "clarity": {
                  "description": "Specificity/Coherence: 0.0 (Vague) to 1.0 (Factual) Maps to: QuantumState.coherence and VAE Epistemic axis",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "intrusiveness": {
                  "description": "Intrusiveness: 0.0 (Passive) to 1.0 (Demanding attention) Maps to: CognitiveOptics.emissivity",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "significance": {
                  "description": "Importance/Mass: 0.0 (Mundane) to 1.0 (Critical) Maps to: FieldExcitation.amplitude",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "valence": {
                  "description": "Emotional polarity: -1.0 (Negative) to 1.0 (Positive) Maps to: VAE Valence axis",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "volatility": {
                  "description": "Volatility: 0.0 (Stable) to 1.0 (Fluctuating) Maps to: FieldExcitation.temperature",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "type": "object"
            }
          },
          "description": "Output from the classifier agent",
          "properties": {
            "classifications": {
              "description": "Classification results",
              "items": {
                "$ref": "#/definitions/ClassificationResult"
              },
              "type": "array"
            },
            "done": {
              "default": true,
              "description": "Whether the task is done",
              "type": "boolean"
            },
            "physics_hint": {
              "anyOf": [
                {
                  "$ref": "#/definitions/PhysicsHint"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Physics hints"
            },
            "primary_thread": {
              "default": null,
              "description": "Primary thread reference",
              "type": [
                "string",
                "null"
              ]
            },
            "response_message": {
              "description": "Response message",
              "type": "string"
            },
            "secondary_threads": {
              "default": [],
              "description": "Secondary thread references",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "state": {
              "description": "Updated state"
            },
            "temporal_marker": {
              "default": null,
              "description": "Temporal marker (today, yesterday, etc.)",
              "type": [
                "string",
                "null"
              ]
            },
            "text": {
              "description": "Original text",
              "type": "string"
            }
          },
          "required": [
            "classifications",
            "response_message",
            "state",
            "text"
          ],
          "title": "ClassifierOutput",
          "type": "object"
        },
        "category": "windmill",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/windmill/ClassifierOutput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "aa30a38dd3c24155de39da483f2200785a9852e396abf6800ebb9e2d7dc018af",
      "created_at": "2025-12-18T18:59:43.204599Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PhysicsInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "PhysicsHint": {
              "description": "Sparse container for physics hints extracted from text by the LLM. All fields are Option<f64>. If None, the system applies Vacuum State defaults. This is the \"raw\" output from classification before collapse.",
              "properties": {
                "arousal": {
                  "description": "Energy/Activation: 0.0 (Calm) to 1.0 (Excited) Maps to: VAE Arousal axis",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "clarity": {
                  "description": "Specificity/Coherence: 0.0 (Vague) to 1.0 (Factual) Maps to: QuantumState.coherence and VAE Epistemic axis",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "intrusiveness": {
                  "description": "Intrusiveness: 0.0 (Passive) to 1.0 (Demanding attention) Maps to: CognitiveOptics.emissivity",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "significance": {
                  "description": "Importance/Mass: 0.0 (Mundane) to 1.0 (Critical) Maps to: FieldExcitation.amplitude",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "valence": {
                  "description": "Emotional polarity: -1.0 (Negative) to 1.0 (Positive) Maps to: VAE Valence axis",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "volatility": {
                  "description": "Volatility: 0.0 (Stable) to 1.0 (Fluctuating) Maps to: FieldExcitation.temperature",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "VAEPosition": {
              "description": "VAE space position (quantized for physics)",
              "properties": {
                "x": {
                  "description": "X: Valence (emotional polarity)",
                  "format": "int64",
                  "type": "integer"
                },
                "y": {
                  "description": "Y: Arousal (energy/activation)",
                  "format": "int64",
                  "type": "integer"
                },
                "z": {
                  "description": "Z: Epistemic (certainty)",
                  "format": "int64",
                  "type": "integer"
                }
              },
              "required": [
                "x",
                "y",
                "z"
              ],
              "type": "object"
            }
          },
          "description": "Input to the physics agent",
          "properties": {
            "current_position": {
              "anyOf": [
                {
                  "$ref": "#/definitions/VAEPosition"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Current position (for calculations)"
            },
            "entity_type": {
              "default": null,
              "description": "Entity type (for spawn_position)",
              "type": [
                "string",
                "null"
              ]
            },
            "operation": {
              "description": "Operation to perform",
              "type": "string"
            },
            "physics_hint": {
              "anyOf": [
                {
                  "$ref": "#/definitions/PhysicsHint"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Physics hints"
            },
            "request_id": {
              "description": "Request ID for tracing",
              "type": "string"
            },
            "state": {
              "description": "Current agent state"
            }
          },
          "required": [
            "operation",
            "request_id",
            "state"
          ],
          "title": "PhysicsInput",
          "type": "object"
        },
        "category": "windmill",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/windmill/PhysicsInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f54e1bb7c0ab4538d2f2a09f0128bb74517c0ecc16c538f38bf8cbfaceb42eed",
      "created_at": "2025-12-18T18:59:43.205065Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PhysicsState",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "VAEPosition": {
              "description": "VAE space position (quantized for physics)",
              "properties": {
                "x": {
                  "description": "X: Valence (emotional polarity)",
                  "format": "int64",
                  "type": "integer"
                },
                "y": {
                  "description": "Y: Arousal (energy/activation)",
                  "format": "int64",
                  "type": "integer"
                },
                "z": {
                  "description": "Z: Epistemic (certainty)",
                  "format": "int64",
                  "type": "integer"
                }
              },
              "required": [
                "x",
                "y",
                "z"
              ],
              "type": "object"
            }
          },
          "description": "Full physics state for an entity",
          "properties": {
            "energy": {
              "default": 0.5,
              "description": "Energy (0.0 to 1.0)",
              "format": "double",
              "type": "number"
            },
            "mass": {
              "default": 0.5,
              "description": "Mass (0.0 to 1.0)",
              "format": "double",
              "type": "number"
            },
            "position": {
              "allOf": [
                {
                  "$ref": "#/definitions/VAEPosition"
                }
              ],
              "description": "Position in VAE space"
            },
            "temperature": {
              "default": 0.5,
              "description": "Temperature (0.0 to 1.0)",
              "format": "double",
              "type": "number"
            },
            "velocity": {
              "anyOf": [
                {
                  "$ref": "#/definitions/VAEPosition"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Velocity vector"
            }
          },
          "required": [
            "position"
          ],
          "title": "PhysicsState",
          "type": "object"
        },
        "category": "windmill",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/windmill/PhysicsState.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f23470932a8f1fce61c9338c4574aab14fc1cdd684d9e76a4009c6c5eba3db07",
      "created_at": "2025-12-18T18:59:43.205507Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "LogLevel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Log level for agent log messages",
          "enum": [
            "debug",
            "info",
            "warning",
            "error"
          ],
          "title": "LogLevel",
          "type": "string"
        },
        "category": "agentic",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/agentic/LogLevel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "08e1df910c34f9fe92e04a3b33c48ecd542b4444e14b6f8e922915ec926b62b9",
      "created_at": "2025-12-18T18:59:43.205663Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "OrchestrationOutput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AgentState": {
              "description": "Global state shared across all agents in the orchestration loop\n\nThis state is passed between agents and maintains context about the current conversation, authentication status, and which agent is currently \"speaking\".",
              "properties": {
                "conversation_context": {
                  "default": [],
                  "description": "Conversation history for context",
                  "items": {
                    "$ref": "#/definitions/ConversationTurn"
                  },
                  "type": "array"
                },
                "current_speaker": {
                  "default": null,
                  "description": "Currently active speaker (None means orchestrator decides)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "is_authenticated": {
                  "default": false,
                  "description": "Whether the user is authenticated",
                  "type": "boolean"
                },
                "just_finished": {
                  "default": false,
                  "description": "Whether the current agent just finished its task",
                  "type": "boolean"
                },
                "metadata": {
                  "default": null,
                  "description": "Custom metadata for extensibility"
                },
                "tenant_id": {
                  "description": "Tenant ID for multi-tenancy",
                  "type": "string"
                },
                "thread_id": {
                  "default": null,
                  "description": "Current thread ID (if in a thread)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "tenant_id"
              ],
              "type": "object"
            },
            "ConversationTurn": {
              "description": "A single turn in a conversation (for context tracking)",
              "properties": {
                "content": {
                  "description": "Content of the message",
                  "type": "string"
                },
                "role": {
                  "description": "Role of the speaker (user, assistant, system)",
                  "type": "string"
                },
                "speaker": {
                  "default": null,
                  "description": "Optional speaker identifier (for multi-agent)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "timestamp": {
                  "default": null,
                  "description": "Timestamp of the turn",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content",
                "role"
              ],
              "type": "object"
            }
          },
          "description": "Output from the orchestration agent",
          "properties": {
            "forwarded_message": {
              "default": null,
              "description": "Optional message to pass to next agent",
              "type": [
                "string",
                "null"
              ]
            },
            "next_speaker": {
              "description": "Which agent should speak next",
              "type": "string"
            },
            "should_continue": {
              "description": "Whether the orchestration loop should continue",
              "type": "boolean"
            },
            "state": {
              "allOf": [
                {
                  "$ref": "#/definitions/AgentState"
                }
              ],
              "description": "Updated state"
            }
          },
          "required": [
            "next_speaker",
            "should_continue",
            "state"
          ],
          "title": "OrchestrationOutput",
          "type": "object"
        },
        "category": "agentic",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/agentic/OrchestrationOutput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "312b794f5d38f6479b648a535309e81426bba11639d8e37db186483de29e0013",
      "created_at": "2025-12-18T18:59:43.206086Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ToolCallResult",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Result from a tool invocation",
          "properties": {
            "call_id": {
              "description": "ID of the original call",
              "type": "string"
            },
            "error": {
              "default": null,
              "description": "Error message (if failed)",
              "type": [
                "string",
                "null"
              ]
            },
            "result": {
              "default": null,
              "description": "Result data (if successful)"
            },
            "success": {
              "description": "Whether the call succeeded",
              "type": "boolean"
            }
          },
          "required": [
            "call_id",
            "success"
          ],
          "title": "ToolCallResult",
          "type": "object"
        },
        "category": "agentic",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/agentic/ToolCallResult.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "80c43f79e10c9c9484835a2b0ca9add00a5c640361ceed9e5a98f6a7a1852710",
      "created_at": "2025-12-18T18:59:43.206202Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ToolCallRequest",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A request to invoke a tool",
          "properties": {
            "arguments": {
              "description": "Arguments to pass to the tool"
            },
            "call_id": {
              "description": "Unique ID for this tool call",
              "type": "string"
            },
            "tool_name": {
              "description": "Name of the tool to invoke",
              "type": "string"
            }
          },
          "required": [
            "arguments",
            "call_id",
            "tool_name"
          ],
          "title": "ToolCallRequest",
          "type": "object"
        },
        "category": "agentic",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/agentic/ToolCallRequest.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "48faced3fa9527e5e6bd793c8bebac246ba6f7537b9b9b5be0432d07d3c013c5",
      "created_at": "2025-12-18T18:59:43.206457Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AgentMessageType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "Finding": {
              "description": "A finding from an analysis agent",
              "properties": {
                "confidence": {
                  "default": null,
                  "description": "Confidence score (0.0 to 1.0)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "description": {
                  "description": "Detailed description",
                  "type": "string"
                },
                "related_entities": {
                  "default": [],
                  "description": "Related entity IDs",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "title": {
                  "description": "Title or label of the finding",
                  "type": "string"
                }
              },
              "required": [
                "description",
                "title"
              ],
              "type": "object"
            },
            "LogLevel": {
              "description": "Log level for agent log messages",
              "enum": [
                "debug",
                "info",
                "warning",
                "error"
              ],
              "type": "string"
            }
          },
          "description": "Agent message types for different response formats\n\nThe agentic system can produce various types of responses depending on what the agent is doing. This enum captures all possible message types.",
          "oneOf": [
            {
              "description": "A log message from the agent (debugging, status updates)",
              "properties": {
                "content": {
                  "type": "string"
                },
                "level": {
                  "$ref": "#/definitions/LogLevel"
                },
                "message_type": {
                  "enum": [
                    "log"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "content",
                "level",
                "message_type"
              ],
              "type": "object"
            },
            {
              "description": "A question the agent is asking the user",
              "properties": {
                "message_type": {
                  "enum": [
                    "question"
                  ],
                  "type": "string"
                },
                "options": {
                  "default": null,
                  "items": {
                    "type": "string"
                  },
                  "type": [
                    "array",
                    "null"
                  ]
                },
                "prompt": {
                  "type": "string"
                }
              },
              "required": [
                "message_type",
                "prompt"
              ],
              "type": "object"
            },
            {
              "description": "An insight derived by the agent",
              "properties": {
                "confidence": {
                  "format": "double",
                  "type": "number"
                },
                "domain": {
                  "default": null,
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "message_type": {
                  "enum": [
                    "insight"
                  ],
                  "type": "string"
                },
                "summary": {
                  "type": "string"
                }
              },
              "required": [
                "confidence",
                "message_type",
                "summary"
              ],
              "type": "object"
            },
            {
              "description": "A detailed analysis result",
              "properties": {
                "domain": {
                  "type": "string"
                },
                "findings": {
                  "items": {
                    "$ref": "#/definitions/Finding"
                  },
                  "type": "array"
                },
                "message_type": {
                  "enum": [
                    "analysis"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "domain",
                "findings",
                "message_type"
              ],
              "type": "object"
            },
            {
              "description": "A command/action the agent wants to execute",
              "properties": {
                "action": {
                  "type": "string"
                },
                "message_type": {
                  "enum": [
                    "command"
                  ],
                  "type": "string"
                },
                "parameters": true
              },
              "required": [
                "action",
                "message_type",
                "parameters"
              ],
              "type": "object"
            },
            {
              "description": "A simple text response",
              "properties": {
                "content": {
                  "type": "string"
                },
                "message_type": {
                  "enum": [
                    "text"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "content",
                "message_type"
              ],
              "type": "object"
            },
            {
              "description": "Progress update during long-running tasks",
              "properties": {
                "message": {
                  "type": "string"
                },
                "message_type": {
                  "enum": [
                    "progress"
                  ],
                  "type": "string"
                },
                "percent_complete": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "required": [
                "message",
                "message_type"
              ],
              "type": "object"
            }
          ],
          "title": "AgentMessageType"
        },
        "category": "agentic",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/agentic/AgentMessageType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ee7a86565c4e9e07c5efd47abca6f49315f8aca6cd85876c3c9c73107b595177",
      "created_at": "2025-12-18T18:59:43.206698Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "OrchestrationInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AgentState": {
              "description": "Global state shared across all agents in the orchestration loop\n\nThis state is passed between agents and maintains context about the current conversation, authentication status, and which agent is currently \"speaking\".",
              "properties": {
                "conversation_context": {
                  "default": [],
                  "description": "Conversation history for context",
                  "items": {
                    "$ref": "#/definitions/ConversationTurn"
                  },
                  "type": "array"
                },
                "current_speaker": {
                  "default": null,
                  "description": "Currently active speaker (None means orchestrator decides)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "is_authenticated": {
                  "default": false,
                  "description": "Whether the user is authenticated",
                  "type": "boolean"
                },
                "just_finished": {
                  "default": false,
                  "description": "Whether the current agent just finished its task",
                  "type": "boolean"
                },
                "metadata": {
                  "default": null,
                  "description": "Custom metadata for extensibility"
                },
                "tenant_id": {
                  "description": "Tenant ID for multi-tenancy",
                  "type": "string"
                },
                "thread_id": {
                  "default": null,
                  "description": "Current thread ID (if in a thread)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "tenant_id"
              ],
              "type": "object"
            },
            "ConversationTurn": {
              "description": "A single turn in a conversation (for context tracking)",
              "properties": {
                "content": {
                  "description": "Content of the message",
                  "type": "string"
                },
                "role": {
                  "description": "Role of the speaker (user, assistant, system)",
                  "type": "string"
                },
                "speaker": {
                  "default": null,
                  "description": "Optional speaker identifier (for multi-agent)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "timestamp": {
                  "default": null,
                  "description": "Timestamp of the turn",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content",
                "role"
              ],
              "type": "object"
            }
          },
          "description": "Input payload for the orchestration agent",
          "properties": {
            "request_id": {
              "description": "Request ID for tracing",
              "type": "string"
            },
            "state": {
              "allOf": [
                {
                  "$ref": "#/definitions/AgentState"
                }
              ],
              "description": "Current agent state"
            },
            "user_message": {
              "default": null,
              "description": "User's message content",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "request_id",
            "state"
          ],
          "title": "OrchestrationInput",
          "type": "object"
        },
        "category": "agentic",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/agentic/OrchestrationInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "eac119e956f6f32da4fc0148272a5a350d5434f2e21fec1e952c3982f3031763",
      "created_at": "2025-12-18T18:59:43.207284Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ConversationTurn",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A single turn in a conversation (for context tracking)",
          "properties": {
            "content": {
              "description": "Content of the message",
              "type": "string"
            },
            "role": {
              "description": "Role of the speaker (user, assistant, system)",
              "type": "string"
            },
            "speaker": {
              "default": null,
              "description": "Optional speaker identifier (for multi-agent)",
              "type": [
                "string",
                "null"
              ]
            },
            "timestamp": {
              "default": null,
              "description": "Timestamp of the turn",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "content",
            "role"
          ],
          "title": "ConversationTurn",
          "type": "object"
        },
        "category": "agentic",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/agentic/ConversationTurn.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b0ad075a8bbd1cf3511d4d22477a95c901b840b05b4fe448bccf7a6e6f456f5c",
      "created_at": "2025-12-18T18:59:43.207531Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AgentState",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ConversationTurn": {
              "description": "A single turn in a conversation (for context tracking)",
              "properties": {
                "content": {
                  "description": "Content of the message",
                  "type": "string"
                },
                "role": {
                  "description": "Role of the speaker (user, assistant, system)",
                  "type": "string"
                },
                "speaker": {
                  "default": null,
                  "description": "Optional speaker identifier (for multi-agent)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "timestamp": {
                  "default": null,
                  "description": "Timestamp of the turn",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content",
                "role"
              ],
              "type": "object"
            }
          },
          "description": "Global state shared across all agents in the orchestration loop\n\nThis state is passed between agents and maintains context about the current conversation, authentication status, and which agent is currently \"speaking\".",
          "properties": {
            "conversation_context": {
              "default": [],
              "description": "Conversation history for context",
              "items": {
                "$ref": "#/definitions/ConversationTurn"
              },
              "type": "array"
            },
            "current_speaker": {
              "default": null,
              "description": "Currently active speaker (None means orchestrator decides)",
              "type": [
                "string",
                "null"
              ]
            },
            "is_authenticated": {
              "default": false,
              "description": "Whether the user is authenticated",
              "type": "boolean"
            },
            "just_finished": {
              "default": false,
              "description": "Whether the current agent just finished its task",
              "type": "boolean"
            },
            "metadata": {
              "default": null,
              "description": "Custom metadata for extensibility"
            },
            "tenant_id": {
              "description": "Tenant ID for multi-tenancy",
              "type": "string"
            },
            "thread_id": {
              "default": null,
              "description": "Current thread ID (if in a thread)",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "tenant_id"
          ],
          "title": "AgentState",
          "type": "object"
        },
        "category": "agentic",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/agentic/AgentState.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "dce76bbf7acb585c42a946988c799c8e0d5cc779f4ac7ae5a7b02e898d5c802b",
      "created_at": "2025-12-18T18:59:43.207903Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Finding",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A finding from an analysis agent",
          "properties": {
            "confidence": {
              "default": null,
              "description": "Confidence score (0.0 to 1.0)",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "description": {
              "description": "Detailed description",
              "type": "string"
            },
            "related_entities": {
              "default": [],
              "description": "Related entity IDs",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "title": {
              "description": "Title or label of the finding",
              "type": "string"
            }
          },
          "required": [
            "description",
            "title"
          ],
          "title": "Finding",
          "type": "object"
        },
        "category": "agentic",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/agentic/Finding.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "14ad670530b9c15cfdd35c1ef174b419def5dabfe1b819a227b7ae24f7a12a4a",
      "created_at": "2025-12-18T18:59:43.208233Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AgentSpeaker",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Speaker/agent identifiers for the orchestration system\n\nEach speaker is a specialized agent that handles specific types of tasks. The orchestrator routes to the appropriate speaker based on user intent.",
          "oneOf": [
            {
              "description": "Main user-facing agent - greets users, explains capabilities",
              "enum": [
                "concierge"
              ],
              "type": "string"
            },
            {
              "description": "Classification agent - determines entity types, message intent",
              "enum": [
                "classifier"
              ],
              "type": "string"
            },
            {
              "description": "Physics simulation agent - handles VAE space calculations",
              "enum": [
                "physics"
              ],
              "type": "string"
            },
            {
              "description": "Retrieval-augmented generation agent (future)",
              "enum": [
                "rag"
              ],
              "type": "string"
            },
            {
              "description": "Memory/context management agent",
              "enum": [
                "memory"
              ],
              "type": "string"
            },
            {
              "description": "Task execution agent",
              "enum": [
                "task_executor"
              ],
              "type": "string"
            }
          ],
          "title": "AgentSpeaker"
        },
        "category": "agentic",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/agentic/AgentSpeaker.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "28a1be232cfba47f8647d1a15e98d05203d4cecc21ccbd577ad9e7e43025516a",
      "created_at": "2025-12-18T18:59:43.208487Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Timestamp",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "format": "date-time",
          "title": "DateTime",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/Timestamp.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "398e9d7ae3b8228f1e7a59b31aaaf5e855c1cd6b97128475281decca565a5de3",
      "created_at": "2025-12-18T18:59:43.208581Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "QuantizedCoord",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A quantized coordinate in the 3D VAE Manifold Uses i64 for precision in physics calculations",
          "format": "int64",
          "title": "QuantizedCoord",
          "type": "integer"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/QuantizedCoord.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "93ba6e4e1698ec1d7ec8a59a2492f468b7e4f10f741f6345b74dfbd26dfbd8d0",
      "created_at": "2025-12-18T18:59:43.208671Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Temperature",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Temperature controls randomness in LLM outputs. Range: 0.0 (deterministic) to 2.0 (very random)",
          "format": "float",
          "title": "Temperature",
          "type": "number"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/Temperature.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e7a45486d9403668ab6a713904d7c33203f613e3cc7eba34f703b37e6d990e62",
      "created_at": "2025-12-18T18:59:43.212124Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ApiKey",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A secure wrapper for API keys that prevents accidental logging.",
          "title": "ApiKey",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/ApiKey.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "1ec46700580efaea6d638dfa8bbdd742e193187fc20722408c4b6c4524099819",
      "created_at": "2025-12-18T18:59:43.213470Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TokenUsage",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Token usage statistics from a completion",
          "properties": {
            "completion_tokens": {
              "format": "uint32",
              "minimum": 0.0,
              "type": "integer"
            },
            "prompt_tokens": {
              "format": "uint32",
              "minimum": 0.0,
              "type": "integer"
            },
            "total_tokens": {
              "format": "uint32",
              "minimum": 0.0,
              "type": "integer"
            }
          },
          "required": [
            "completion_tokens",
            "prompt_tokens",
            "total_tokens"
          ],
          "title": "TokenUsage",
          "type": "object"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/TokenUsage.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d1d1f8ac274ec09b680d1553bfbcc98286ced618af7eb4b1e3744f9faf821c98",
      "created_at": "2025-12-18T18:59:43.213713Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "InviteCode",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "title": "String",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/InviteCode.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f3afdc6f1d6964bf9de3d0d8d42b125954bbc6fa4c7bc4ad74dc20eb00890214",
      "created_at": "2025-12-18T18:59:43.213835Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "NormalizedFloat",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A float value normalized to [0.0, 1.0]",
          "format": "double",
          "title": "NormalizedFloat",
          "type": "number"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/NormalizedFloat.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "170eb16dbce36e7b65c93281d87bdd14eda2863883bb29930608b25167a0f1a3",
      "created_at": "2025-12-18T18:59:43.213937Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RetryConfig",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Configuration for retry behavior on transient failures",
          "properties": {
            "backoff_factor": {
              "format": "double",
              "type": "number"
            },
            "initial_delay_ms": {
              "format": "uint64",
              "minimum": 0.0,
              "type": "integer"
            },
            "max_delay_ms": {
              "format": "uint64",
              "minimum": 0.0,
              "type": "integer"
            },
            "max_retries": {
              "format": "uint32",
              "minimum": 0.0,
              "type": "integer"
            }
          },
          "required": [
            "backoff_factor",
            "initial_delay_ms",
            "max_delay_ms",
            "max_retries"
          ],
          "title": "RetryConfig",
          "type": "object"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/RetryConfig.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "64f3ebc29928c9772a9702621c6f20ae3aad709e987e92016a78c8ebcc90fd3a",
      "created_at": "2025-12-18T18:59:43.214030Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DbPoolSize",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Connection pool size configuration",
          "format": "uint32",
          "minimum": 0.0,
          "title": "DbPoolSize",
          "type": "integer"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/DbPoolSize.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d71c5e127819d5a3b243a267fdcc09f194cfd2bc212cb4828804f98373c7b7f8",
      "created_at": "2025-12-18T18:59:43.214114Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MaxTokens",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Maximum number of tokens for input/output",
          "format": "uint32",
          "minimum": 0.0,
          "title": "MaxTokens",
          "type": "integer"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/MaxTokens.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "fafb970866e844eb69752f407413793d580d8a41d8ad83d8bfd5bc366244297d",
      "created_at": "2025-12-18T18:59:43.214389Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UUID",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "format": "uuid",
          "title": "Uuid",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/UUID.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "9b59dd2f23231a91133e01391feb4f87c047f7278439729215593ad79e4abdce",
      "created_at": "2025-12-18T18:59:43.214526Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SignedNormalizedFloat",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A floating-point value normalized between -1.0 and 1.0. Used for polarity (Valence), alignment (Phase), and gradients.",
          "format": "double",
          "title": "SignedNormalizedFloat",
          "type": "number"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/SignedNormalizedFloat.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "3dd2f8b9e727fa575e9512c7d564c93f5461cdf5aca48a7749b5e22951702186",
      "created_at": "2025-12-18T18:59:43.214750Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SessionToken",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "title": "String",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/SessionToken.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f3afdc6f1d6964bf9de3d0d8d42b125954bbc6fa4c7bc4ad74dc20eb00890214",
      "created_at": "2025-12-18T18:59:43.215011Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PasswordHash",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "title": "String",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/PasswordHash.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f3afdc6f1d6964bf9de3d0d8d42b125954bbc6fa4c7bc4ad74dc20eb00890214",
      "created_at": "2025-12-18T18:59:43.215159Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DbConnectionString",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A validated PostgreSQL/TimescaleDB connection string",
          "title": "DbConnectionString",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/DbConnectionString.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "64061cf755360502ef9e75109febdc8604e331a1b376203fa9e3416522f3ff88",
      "created_at": "2025-12-18T18:59:43.215249Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Email",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "title": "String",
          "type": "string"
        },
        "category": "primitives",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/primitives/Email.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f3afdc6f1d6964bf9de3d0d8d42b125954bbc6fa4c7bc4ad74dc20eb00890214",
      "created_at": "2025-12-18T18:59:43.215340Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Timestamps",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Common timestamps for all persistent entities\n\nThis component captures: - `created_at`: When the entity was first created - `updated_at`: When the entity was last modified\n\nUse `#[serde(flatten)]` to embed directly into entity structs: ```rust,ignore pub struct MyEntity { pub id: MyId, #[serde(flatten)] pub timestamps: Timestamps, // ... other fields } ```",
          "properties": {
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "updated_at": {
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "updated_at"
          ],
          "title": "Timestamps",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/Timestamps.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "fd2d7bde1ec9898e1d9c717ade1290b6e2d9a5e557a592964a98747e3f883d79",
      "created_at": "2025-12-18T18:59:43.215505Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "BondPhysics",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            }
          },
          "description": "Models the classical physics of a relationship Bond. Based on Spring-Damper mechanics (Hooke's Law).",
          "properties": {
            "bond_strength": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "The overall strength or health of the bond. 0.0 = Broken/Weak, 1.0 = Strong/Healthy"
            },
            "damping_coefficient": {
              "description": "The 'inertia' of the bond, representing how quickly it returns to equilibrium. Higher values = slower return to rest (lingering effects). Lower values = quick recovery (resilient).",
              "format": "double",
              "type": "number"
            },
            "spring_constant": {
              "description": "The 'stiffness' of the bond, representing its resistance to change. Higher values = more rigid relationship (breaks under stress). Lower values = more flexible relationship (stretches without breaking).",
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "bond_strength",
            "damping_coefficient",
            "spring_constant"
          ],
          "title": "BondPhysics",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/BondPhysics.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2e1c11cb9b15ea85271e497fbc3ad4201226680514556b5e37d42dd14949db4d",
      "created_at": "2025-12-18T18:59:43.215690Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RequestConfig",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AIProvider": {
              "description": "AI Provider enumeration",
              "enum": [
                "openai",
                "anthropic",
                "google",
                "mock"
              ],
              "type": "string"
            },
            "MaxTokens": {
              "description": "Maximum number of tokens for input/output",
              "format": "uint32",
              "minimum": 0.0,
              "type": "integer"
            },
            "ModelConfig": {
              "description": "Model definition with all configuration",
              "properties": {
                "api_model_id": {
                  "description": "The actual API model ID to send to the provider",
                  "type": "string"
                },
                "context_window": {
                  "description": "Context window size (tokens)",
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "deprecated": {
                  "default": false,
                  "description": "Whether this model is deprecated",
                  "type": "boolean"
                },
                "id": {
                  "description": "Unique identifier (e.g., \"gpt-4o\", \"claude-sonnet-4\")",
                  "type": "string"
                },
                "name": {
                  "description": "Human-readable name",
                  "type": "string"
                },
                "notes": {
                  "default": null,
                  "description": "Notes about the model",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "provider": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/AIProvider"
                    }
                  ],
                  "description": "The provider"
                },
                "supports_json_mode": {
                  "description": "Whether the model supports JSON mode",
                  "type": "boolean"
                }
              },
              "required": [
                "api_model_id",
                "context_window",
                "id",
                "name",
                "provider",
                "supports_json_mode"
              ],
              "type": "object"
            },
            "RetryConfig": {
              "description": "Configuration for retry behavior on transient failures",
              "properties": {
                "backoff_factor": {
                  "format": "double",
                  "type": "number"
                },
                "initial_delay_ms": {
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "max_delay_ms": {
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "max_retries": {
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "backoff_factor",
                "initial_delay_ms",
                "max_delay_ms",
                "max_retries"
              ],
              "type": "object"
            },
            "Temperature": {
              "description": "Temperature controls randomness in LLM outputs. Range: 0.0 (deterministic) to 2.0 (very random)",
              "format": "float",
              "type": "number"
            }
          },
          "description": "Configuration for an AI completion request",
          "properties": {
            "json_mode": {
              "type": "boolean"
            },
            "max_tokens": {
              "$ref": "#/definitions/MaxTokens"
            },
            "model": {
              "$ref": "#/definitions/ModelConfig"
            },
            "retry": {
              "$ref": "#/definitions/RetryConfig"
            },
            "temperature": {
              "$ref": "#/definitions/Temperature"
            },
            "timeout_ms": {
              "format": "uint64",
              "minimum": 0.0,
              "type": "integer"
            }
          },
          "required": [
            "json_mode",
            "max_tokens",
            "model",
            "retry",
            "temperature",
            "timeout_ms"
          ],
          "title": "RequestConfig",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/RequestConfig.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d0956da5be73681517ea005c59737997e36d25110901a82d8a48bfa3c39aecb7",
      "created_at": "2025-12-18T18:59:43.215804Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ObservationResponse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AIProvider": {
              "description": "AI Provider enumeration",
              "enum": [
                "openai",
                "anthropic",
                "google",
                "mock"
              ],
              "type": "string"
            },
            "ClassificationPhysics": {
              "description": "Physics hints extracted during classification",
              "properties": {
                "arousal": {
                  "default": null,
                  "description": "Activation level: 0.0 (calm) to 1.0 (activated)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "clarity": {
                  "default": null,
                  "description": "How clear/specific: 0.0 (vague) to 1.0 (clear)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "significance": {
                  "default": null,
                  "description": "How significant/important: 0.0 to 1.0",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "valence": {
                  "default": null,
                  "description": "Emotional valence: -1.0 (negative) to 1.0 (positive)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "HeddleEntityType": {
              "description": "The fundamental Entity Types recognized by The Heddle Classification Engine. These map to the Symmetric Seven ontology.",
              "oneOf": [
                {
                  "description": "A specific event that happened in the past (Narrative/External Particle)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A definition of a person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "A statement about the quality of a relationship (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "An internal state snapshot (Internal Particle)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                }
              ]
            },
            "LlmRequestDebug": {
              "description": "Debug info about the LLM request",
              "properties": {
                "system_prompt": {
                  "type": "string"
                },
                "user_prompt": {
                  "type": "string"
                }
              },
              "required": [
                "system_prompt",
                "user_prompt"
              ],
              "type": "object"
            },
            "MessageIntent": {
              "description": "The primary intent of the user's message",
              "oneOf": [
                {
                  "description": "Recording something - events, states, observations (current default)",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information back",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting system to make connections or derive insights",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities, threads, or past entries",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis, patterns, or reflection on data",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Giving a command/instruction to the system",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Conversational/social - greetings, acknowledgments",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                }
              ]
            },
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            },
            "QueryTarget": {
              "description": "Query target - what data is the query looking for?",
              "properties": {
                "entity_types": {
                  "default": [],
                  "description": "The entity/thread types being queried (e.g., \"moments\", \"threads\", \"pulses\")",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "keywords": {
                  "default": [],
                  "description": "Keywords extracted from the query",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "temporal_scope": {
                  "default": null,
                  "description": "Temporal scope (e.g., \"today\", \"last week\", \"all time\")",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "thread_hints": {
                  "default": [],
                  "description": "Specific thread hints (names, concepts) to search for",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                }
              },
              "type": "object"
            },
            "QueryType": {
              "description": "The type of query (when MessageIntent is QUERY)",
              "oneOf": [
                {
                  "description": "When did X happen? Time-based lookup",
                  "enum": [
                    "TEMPORAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Who/what questions - entity lookup",
                  "enum": [
                    "ENTITY"
                  ],
                  "type": "string"
                },
                {
                  "description": "How often? Pattern/frequency questions",
                  "enum": [
                    "PATTERN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Compare X and Y",
                  "enum": [
                    "COMPARISON"
                  ],
                  "type": "string"
                },
                {
                  "description": "Give me a summary/overview",
                  "enum": [
                    "SUMMARY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Count/quantity questions (how many?)",
                  "enum": [
                    "QUANTITATIVE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Yes/no questions (did X happen?)",
                  "enum": [
                    "BOOLEAN"
                  ],
                  "type": "string"
                },
                {
                  "description": "Why questions - causation",
                  "enum": [
                    "CAUSAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Location-based questions",
                  "enum": [
                    "SPATIAL"
                  ],
                  "type": "string"
                },
                {
                  "description": "Open-ended/exploratory",
                  "enum": [
                    "EXPLORATORY"
                  ],
                  "type": "string"
                }
              ]
            },
            "RawMessageIntent": {
              "description": "Raw message intent classification from LLM",
              "properties": {
                "confidence": {
                  "default": 1.0,
                  "description": "Confidence in classification (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                },
                "intent": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/MessageIntent"
                    }
                  ],
                  "description": "Primary intent (LOG, QUERY, INFER, REFERENCE, REFLECT, COMMAND, SOCIAL)"
                },
                "query_target": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/QueryTarget"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "description": "If QUERY: what entities/threads are being queried"
                },
                "query_type": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/QueryType"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "description": "If QUERY: what type of query"
                }
              },
              "required": [
                "intent"
              ],
              "type": "object"
            },
            "RawPhysicsHint": {
              "description": "Raw physics hints from LLM (will be applied to spawned entities)",
              "properties": {
                "arousal": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "clarity": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "intrusiveness": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "significance": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "valence": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "volatility": {
                  "default": null,
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "RawSegment": {
              "description": "A raw segment from Phase 1 - NO classification, just text",
              "properties": {
                "content": {
                  "description": "The extracted semantic content",
                  "type": "string"
                },
                "mentions": {
                  "default": [],
                  "description": "Other entities/things mentioned",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "subject": {
                  "default": null,
                  "description": "Who/what is the primary subject? (for context, not classification)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "temporal": {
                  "default": null,
                  "description": "Any temporal reference found",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content"
              ],
              "type": "object"
            },
            "ResponseMetadata": {
              "description": "Metadata about an AI completion response",
              "properties": {
                "latency_ms": {
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "model_id": {
                  "type": "string"
                },
                "model_name": {
                  "type": "string"
                },
                "provider": {
                  "$ref": "#/definitions/AIProvider"
                },
                "request_id": {
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "usage": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/TokenUsage"
                    },
                    {
                      "type": "null"
                    }
                  ]
                }
              },
              "required": [
                "latency_ms",
                "model_id",
                "model_name",
                "provider"
              ],
              "type": "object"
            },
            "SegmentClassification": {
              "description": "Classification for a single segment",
              "properties": {
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/HeddleEntityType"
                    }
                  ],
                  "description": "The entity type (MOMENT, PULSE, INTENT) - relevant for LOG purpose"
                },
                "physics": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/ClassificationPhysics"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Physics hints for entity spawning (only for LOG purpose)"
                },
                "purpose": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/MessageIntent"
                    }
                  ],
                  "default": "LOG",
                  "description": "Purpose of this specific segment (LOG, QUERY, COMMAND, etc.) Only LOG segments spawn entities"
                },
                "segment_index": {
                  "description": "Index of the segment being classified",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "weight": {
                  "default": 1.0,
                  "description": "Confidence weight (0.0 to 1.0)",
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "entity_type",
                "segment_index"
              ],
              "type": "object"
            },
            "TokenUsage": {
              "description": "Token usage statistics from a completion",
              "properties": {
                "completion_tokens": {
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "prompt_tokens": {
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "total_tokens": {
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "completion_tokens",
                "prompt_tokens",
                "total_tokens"
              ],
              "type": "object"
            },
            "WeaveUnit": {
              "description": "A WeaveUnit is a single segment extracted from a Weave. It's a transient container used for classification routing. Physics are extracted by the LLM but passed directly to spawned entities, not stored on the WeaveUnit itself.",
              "properties": {
                "classifications": {
                  "default": [],
                  "description": "Classifications in superposition (determines which entity types to spawn)",
                  "items": {
                    "$ref": "#/definitions/WeaveUnitClassification"
                  },
                  "type": "array"
                },
                "content": {
                  "description": "The extracted/cleaned text content for this segment",
                  "type": "string"
                },
                "index": {
                  "description": "Index of this unit within the shuttle (0-based)",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "primary_thread": {
                  "description": "Primary thread: the main subject/actor of this unit Used for entity resolution (Stitch) downstream",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "purpose": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/MessageIntent"
                    }
                  ],
                  "default": "LOG",
                  "description": "Purpose of this specific unit (LOG, QUERY, COMMAND, INFER, REFERENCE) Determines how this unit is processed - only LOG units spawn entities"
                },
                "secondary_threads": {
                  "description": "Secondary threads: other people/places/things mentioned Allows capturing companions, locations, etc.",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "spawned_entity_ids": {
                  "default": [],
                  "description": "IDs of entities spawned from this unit (the actual simulation objects)",
                  "items": {
                    "format": "uuid",
                    "type": "string"
                  },
                  "type": "array"
                },
                "temporal_marker": {
                  "description": "Temporal marker: when this event/state occurred Can be absolute (\"6pm\"), relative (\"today\"), or frequency (\"once per hour\")",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content",
                "index"
              ],
              "type": "object"
            },
            "WeaveUnitClassification": {
              "description": "Classification result for a weave unit (determines which entity type to spawn)",
              "properties": {
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/HeddleEntityType"
                    }
                  ],
                  "description": "The entity type this unit may become"
                },
                "weight": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/NormalizedFloat"
                    }
                  ],
                  "description": "Confidence weight (0.0 to 1.0)"
                }
              },
              "required": [
                "entity_type",
                "weight"
              ],
              "type": "object"
            }
          },
          "description": "A complete observation response with 3-phase pipeline support",
          "properties": {
            "classifications": {
              "default": [],
              "description": "Classifications for each segment (only populated if LOG intent)",
              "items": {
                "$ref": "#/definitions/SegmentClassification"
              },
              "type": "array"
            },
            "llm_request": {
              "anyOf": [
                {
                  "$ref": "#/definitions/LlmRequestDebug"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Debug: what was sent to the LLM"
            },
            "message_intent": {
              "allOf": [
                {
                  "$ref": "#/definitions/RawMessageIntent"
                }
              ],
              "description": "Classified intent of the message (LOG, QUERY, INFER, etc.)"
            },
            "metadata": {
              "$ref": "#/definitions/ResponseMetadata"
            },
            "physics_hints": {
              "default": [],
              "description": "Physics hints for spawned entities",
              "items": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/RawPhysicsHint"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "type": "array"
            },
            "raw_llm_response": {
              "description": "Raw JSON response from LLM (exactly what came back)",
              "type": [
                "string",
                "null"
              ]
            },
            "segments": {
              "default": [],
              "description": "Raw segments from Phase 1 (no classification)",
              "items": {
                "$ref": "#/definitions/RawSegment"
              },
              "type": "array"
            },
            "weave_units": {
              "default": [],
              "description": "Hydrated weave units (segments + classifications combined)",
              "items": {
                "$ref": "#/definitions/WeaveUnit"
              },
              "type": "array"
            }
          },
          "required": [
            "message_intent",
            "metadata"
          ],
          "title": "ObservationResponse",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/ObservationResponse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "bd77a6b732495eddba1fe226325f3caac9bda04ad65677d8e266b0890d6ee6f7",
      "created_at": "2025-12-18T18:59:43.215954Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "GoogleContent",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "GooglePart": {
              "description": "Google content part",
              "properties": {
                "text": {
                  "type": "string"
                }
              },
              "required": [
                "text"
              ],
              "type": "object"
            }
          },
          "description": "Google content (message)",
          "properties": {
            "parts": {
              "items": {
                "$ref": "#/definitions/GooglePart"
              },
              "type": "array"
            },
            "role": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "parts"
          ],
          "title": "GoogleContent",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/GoogleContent.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "3c0252faef5925b5ea356ef6195b14c4c19fa8e4b32fbe7d7e7eab5926fc74a6",
      "created_at": "2025-12-18T18:59:43.216189Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ObservationRequest",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AIProvider": {
              "description": "AI Provider enumeration",
              "enum": [
                "openai",
                "anthropic",
                "google",
                "mock"
              ],
              "type": "string"
            },
            "MaxTokens": {
              "description": "Maximum number of tokens for input/output",
              "format": "uint32",
              "minimum": 0.0,
              "type": "integer"
            },
            "ModelConfig": {
              "description": "Model definition with all configuration",
              "properties": {
                "api_model_id": {
                  "description": "The actual API model ID to send to the provider",
                  "type": "string"
                },
                "context_window": {
                  "description": "Context window size (tokens)",
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "deprecated": {
                  "default": false,
                  "description": "Whether this model is deprecated",
                  "type": "boolean"
                },
                "id": {
                  "description": "Unique identifier (e.g., \"gpt-4o\", \"claude-sonnet-4\")",
                  "type": "string"
                },
                "name": {
                  "description": "Human-readable name",
                  "type": "string"
                },
                "notes": {
                  "default": null,
                  "description": "Notes about the model",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "provider": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/AIProvider"
                    }
                  ],
                  "description": "The provider"
                },
                "supports_json_mode": {
                  "description": "Whether the model supports JSON mode",
                  "type": "boolean"
                }
              },
              "required": [
                "api_model_id",
                "context_window",
                "id",
                "name",
                "provider",
                "supports_json_mode"
              ],
              "type": "object"
            },
            "RequestConfig": {
              "description": "Configuration for an AI completion request",
              "properties": {
                "json_mode": {
                  "type": "boolean"
                },
                "max_tokens": {
                  "$ref": "#/definitions/MaxTokens"
                },
                "model": {
                  "$ref": "#/definitions/ModelConfig"
                },
                "retry": {
                  "$ref": "#/definitions/RetryConfig"
                },
                "temperature": {
                  "$ref": "#/definitions/Temperature"
                },
                "timeout_ms": {
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "json_mode",
                "max_tokens",
                "model",
                "retry",
                "temperature",
                "timeout_ms"
              ],
              "type": "object"
            },
            "RetryConfig": {
              "description": "Configuration for retry behavior on transient failures",
              "properties": {
                "backoff_factor": {
                  "format": "double",
                  "type": "number"
                },
                "initial_delay_ms": {
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "max_delay_ms": {
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "max_retries": {
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "backoff_factor",
                "initial_delay_ms",
                "max_delay_ms",
                "max_retries"
              ],
              "type": "object"
            },
            "Temperature": {
              "description": "Temperature controls randomness in LLM outputs. Range: 0.0 (deterministic) to 2.0 (very random)",
              "format": "float",
              "type": "number"
            }
          },
          "description": "A complete Heddle observation request",
          "properties": {
            "config": {
              "$ref": "#/definitions/RequestConfig"
            },
            "context": {
              "type": "string"
            },
            "segment": {
              "type": "string"
            }
          },
          "required": [
            "config",
            "context",
            "segment"
          ],
          "title": "ObservationRequest",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/ObservationRequest.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "873330e39a6df724275f615ceefe2ff59de501bbdf7ecef6ecb43bc9d3a87a1d",
      "created_at": "2025-12-18T18:59:43.216409Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ProviderConfig",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AIProvider": {
              "description": "AI Provider enumeration",
              "enum": [
                "openai",
                "anthropic",
                "google",
                "mock"
              ],
              "type": "string"
            },
            "ApiKey": {
              "description": "A secure wrapper for API keys that prevents accidental logging.",
              "type": "string"
            }
          },
          "description": "Configuration for an AI provider connection",
          "properties": {
            "api_key": {
              "anyOf": [
                {
                  "$ref": "#/definitions/ApiKey"
                },
                {
                  "type": "null"
                }
              ],
              "writeOnly": true
            },
            "api_version": {
              "type": [
                "string",
                "null"
              ]
            },
            "base_url": {
              "type": [
                "string",
                "null"
              ]
            },
            "organization_id": {
              "type": [
                "string",
                "null"
              ]
            },
            "provider": {
              "$ref": "#/definitions/AIProvider"
            }
          },
          "required": [
            "provider"
          ],
          "title": "ProviderConfig",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/ProviderConfig.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "957b54215a84b65ae0fd06cab5c4e610559ac6d57191b3327e8c40fbb4269ad6",
      "created_at": "2025-12-18T18:59:43.216552Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "FieldExcitation",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            },
            "QuantizedCoord": {
              "description": "A quantized coordinate in the 3D VAE Manifold Uses i64 for precision in physics calculations",
              "format": "int64",
              "type": "integer"
            }
          },
          "description": "Represents an excitation (ripple) in the Cognitive Field. In QFT, entities are not particles moving through space; they are temporary excitations of the field itself. A memory is a \"Symmetry Breaking\" event that freezes a ripple.",
          "properties": {
            "amplitude": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Amplitude (Mass):** The strength of the field excitation. High Amplitude: Core Beliefs, Long-term Memories. Hard to annihilate. Low Amplitude: Fleeting thoughts. Easily absorbed back into the vacuum."
            },
            "energy": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Energy (Activation):** The current potential/kinetic energy of the excitation."
            },
            "position": {
              "description": "The location in the 3D VAE Manifold where the field is excited",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            },
            "temperature": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Temperature (Volatility):** Internal kinetic energy of the field at this point. High Temp: The field vibrates (High uncertainty/plasticity). Low Temp: The field is frozen (Crystallized/Immutable)."
            },
            "velocity": {
              "description": "The rate of change of the field amplitude at this location (Cognitive Drift)",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            }
          },
          "required": [
            "amplitude",
            "energy",
            "position",
            "temperature",
            "velocity"
          ],
          "title": "FieldExcitation",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/FieldExcitation.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d438c8eb2a07555d45bc10538a4802b25fe603c38d998b325abf7124b84dfdd8",
      "created_at": "2025-12-18T18:59:43.216657Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TaskDynamics",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            }
          },
          "description": "Models the state of a Task/Intent using Cybernetics and Thermodynamics principles.",
          "properties": {
            "activation_energy": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Activation Energy (Invested Work)** Thermodynamics: The cumulative work performed on the system. Used to calculate \"Sunk Cost\" gravity."
            },
            "completion": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Completion (Inverse Discrepancy)** Cybernetics: 1.0 - Error Signal. How close the system is to the Goal State."
            },
            "entropy": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Entropy (Disorder)** Information Theory: The uncertainty or \"noise\" in the process. High Entropy: Exploring, Brainstorming, Chaotic. Low Entropy: Executing, Refined, Linear."
            },
            "primary_status_label": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "activation_energy",
            "completion",
            "entropy"
          ],
          "title": "TaskDynamics",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/TaskDynamics.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "09bb41a8123e0454305864ff816321f6967fcdd5e536e7bf76456b68be4c9417",
      "created_at": "2025-12-18T18:59:43.216907Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SimulationTier",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "conscious",
            "subconscious",
            "deep_storage"
          ],
          "title": "SimulationTier",
          "type": "string"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/SimulationTier.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2836bd86dff4b409d11d2c7d024380306857f956bb8f229d92a7b749baca8f28",
      "created_at": "2025-12-18T18:59:43.217022Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "OpenAIMessage",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "OpenAI message format",
          "properties": {
            "content": {
              "type": "string"
            },
            "role": {
              "type": "string"
            }
          },
          "required": [
            "content",
            "role"
          ],
          "title": "OpenAIMessage",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/OpenAIMessage.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "5f772aa8d664b03b8acd578254ae790def3f5461950093e2b5a363c71f250286",
      "created_at": "2025-12-18T18:59:43.217403Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "QuantumState",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            }
          },
          "description": "Represents the wave-nature of an entity. Instead of a full qubit simulation (O(2^N)), we use Complex Vectors (O(N)). This supports Interference, Phase, and Resonance natively in Vector DBs.",
          "properties": {
            "amplitudes": {
              "description": "The \"Wavefunction\" or \"Hologram\" of the entity. Stored as a list of (Real, Imaginary) tuples. This represents Amplitude (Magnitude) and Phase (Angle).\n\nIn a Vector DB, this is flattened to [Re1, Im1, Re2, Im2...].",
              "items": {
                "items": [
                  {
                    "format": "double",
                    "type": "number"
                  },
                  {
                    "format": "double",
                    "type": "number"
                  }
                ],
                "maxItems": 2,
                "minItems": 2,
                "type": "array"
              },
              "type": "array"
            },
            "coherence": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "How \"sharp\" the wave is (0.0 = Cloud/Vague, 1.0 = Particle/Fact). Low coherence allows for \"Tunneling\" (associative leaps)."
            },
            "frequency": {
              "description": "The dominant frequency of the pattern (for Holonomic resonance).",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            }
          },
          "required": [
            "amplitudes",
            "coherence"
          ],
          "title": "QuantumState",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/QuantumState.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6bbab0e8bb219fa5b928aac3ab3040c37f9704748eccd043d319cb5936ac20aa",
      "created_at": "2025-12-18T18:59:43.217528Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "LlmRequestDebug",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Debug info about the LLM request",
          "properties": {
            "system_prompt": {
              "type": "string"
            },
            "user_prompt": {
              "type": "string"
            }
          },
          "required": [
            "system_prompt",
            "user_prompt"
          ],
          "title": "LlmRequestDebug",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/LlmRequestDebug.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "685d18d4682725a713d3ef76686a26f3765beba9d2ffd3c83d587da6245f0254",
      "created_at": "2025-12-18T18:59:43.217697Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Metadata",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "title": "AnyValue"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/Metadata.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "bda1d4271959d59c03840e9a07d399bce1c4c5b78605ce09afc1ab9371d00e6a",
      "created_at": "2025-12-18T18:59:43.217794Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "WeightedClassification",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "HeddleEntityType": {
              "description": "The fundamental Entity Types recognized by The Heddle Classification Engine. These map to the Symmetric Seven ontology.",
              "oneOf": [
                {
                  "description": "A specific event that happened in the past (Narrative/External Particle)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A definition of a person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "A statement about the quality of a relationship (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "An internal state snapshot (Internal Particle)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                }
              ]
            },
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            }
          },
          "description": "A weighted classification representing the probability/confidence that a segment belongs to a specific entity type. Part of the Superposition model - a single thought can be multiple things.",
          "properties": {
            "entity_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/HeddleEntityType"
                }
              ],
              "description": "The entity type this classification refers to"
            },
            "weight": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "Confidence/Weight (0.0 to 1.0) If > Threshold during collapse, we instantiate this entity."
            }
          },
          "required": [
            "entity_type",
            "weight"
          ],
          "title": "WeightedClassification",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/WeightedClassification.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "11f56eace31cbc88d903330986b30803ebce04e0f88e1aa3b1d66deb76f787dc",
      "created_at": "2025-12-18T18:59:43.217889Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SimLOD",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "SimulationTier": {
              "enum": [
                "conscious",
                "subconscious",
                "deep_storage"
              ],
              "type": "string"
            }
          },
          "properties": {
            "last_update": {
              "format": "uint64",
              "minimum": 0.0,
              "type": "integer"
            },
            "tier": {
              "$ref": "#/definitions/SimulationTier"
            }
          },
          "required": [
            "last_update",
            "tier"
          ],
          "title": "SimLOD",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/SimLOD.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "66de27475fb09cec657a906e4df53c6c27d6f519c802b67f79f29cd520193565",
      "created_at": "2025-12-18T18:59:43.217975Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ChatMessage",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "MessageRole": {
              "description": "Role in a chat conversation",
              "oneOf": [
                {
                  "description": "System instructions",
                  "enum": [
                    "system"
                  ],
                  "type": "string"
                },
                {
                  "description": "User input",
                  "enum": [
                    "user"
                  ],
                  "type": "string"
                },
                {
                  "description": "Assistant response",
                  "enum": [
                    "assistant"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "A single message in a chat conversation",
          "properties": {
            "content": {
              "description": "The message content",
              "type": "string"
            },
            "role": {
              "allOf": [
                {
                  "$ref": "#/definitions/MessageRole"
                }
              ],
              "description": "The role of the message sender"
            }
          },
          "required": [
            "content",
            "role"
          ],
          "title": "ChatMessage",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/ChatMessage.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "5f0ad25caa5f085e214e91aa32693f439f84887aa59a487d0c4e210f185c7438",
      "created_at": "2025-12-18T18:59:43.218058Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "GooglePart",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Google content part",
          "properties": {
            "text": {
              "type": "string"
            }
          },
          "required": [
            "text"
          ],
          "title": "GooglePart",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/GooglePart.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "0e52783139e0c79a16a4380de127101adf56faa94888455224d8dfbf7e0de29a",
      "created_at": "2025-12-18T18:59:43.218163Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "RelationalDynamics",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            },
            "SignedNormalizedFloat": {
              "description": "A floating-point value normalized between -1.0 and 1.0. Used for polarity (Valence), alignment (Phase), and gradients.",
              "format": "double",
              "type": "number"
            }
          },
          "properties": {
            "formalism": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Formalism (Transactionalism / Spring Stiffness):** 1.0 = Rigid/Brittle (High k). Hard to move, snaps if stretched. 0.0 = Fluid/Elastic (Low k). Easy to stretch, adapts to change."
            },
            "intimacy": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Intimacy (Communal Strength / Rest Length):** 1.0 = Fusion (Rest Length 0). The entities want to occupy the same space. 0.0 = Estrangement (Max Rest Length)."
            },
            "power_dynamic": {
              "allOf": [
                {
                  "$ref": "#/definitions/SignedNormalizedFloat"
                }
              ],
              "description": "**Power Dynamic (Authority Gradient / Mass Bias):** -1.0 = Target is the Anchor (Infinite Mass relative to Source). 0.0 = Equal Mass (Both move equally). +1.0 = Source is the Anchor."
            },
            "primary_label": {
              "type": [
                "string",
                "null"
              ]
            },
            "spectral_signature": {
              "description": "**Color Filter (Spectral Gating):** If set, this bond only \"lights up\" under specific emotional light. e.g., A \"Work Friend\" bond might only reflect \"Professional\" (Blue) light. Stored as a hex code or vector for the shader.",
              "items": {
                "format": "float",
                "type": "number"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": [
                "array",
                "null"
              ]
            },
            "transparency": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Transparency (Refractive Index):** 1.0 = Clear. Looking at the Source reveals the Target (e.g., \"Honest\"). 0.0 = Opaque. The relationship hides the Target (e.g., \"Secretive\")."
            }
          },
          "required": [
            "formalism",
            "intimacy",
            "power_dynamic",
            "transparency"
          ],
          "title": "RelationalDynamics",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/RelationalDynamics.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "1bd00e13243f2fa4633caba0b6a7c8dbb5456a160e2e5583f838dc50f40b9bde",
      "created_at": "2025-12-18T18:59:43.218252Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Identity",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Core identity component that all entities possess",
          "properties": {
            "created_at": {
              "description": "When this entity was created",
              "format": "date-time",
              "type": "string"
            },
            "id": {
              "description": "Unique identifier for this entity",
              "format": "uuid",
              "type": "string"
            },
            "tenant_id": {
              "description": "Tenant (family/user) this entity belongs to",
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "id",
            "tenant_id"
          ],
          "title": "Identity",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/Identity.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "a5b7e52eaee98282e9aaf7f1470e799f5e06af6e2bec9859a7851ced3794e0fe",
      "created_at": "2025-12-18T18:59:43.218332Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "WeaveUnit",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "HeddleEntityType": {
              "description": "The fundamental Entity Types recognized by The Heddle Classification Engine. These map to the Symmetric Seven ontology.",
              "oneOf": [
                {
                  "description": "A specific event that happened in the past (Narrative/External Particle)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A definition of a person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "A statement about the quality of a relationship (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "An internal state snapshot (Internal Particle)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                }
              ]
            },
            "MessageIntent": {
              "description": "The primary intent of the user's message",
              "oneOf": [
                {
                  "description": "Recording something - events, states, observations (current default)",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information back",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting system to make connections or derive insights",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities, threads, or past entries",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis, patterns, or reflection on data",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Giving a command/instruction to the system",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Conversational/social - greetings, acknowledgments",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                }
              ]
            },
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            },
            "WeaveUnitClassification": {
              "description": "Classification result for a weave unit (determines which entity type to spawn)",
              "properties": {
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/HeddleEntityType"
                    }
                  ],
                  "description": "The entity type this unit may become"
                },
                "weight": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/NormalizedFloat"
                    }
                  ],
                  "description": "Confidence weight (0.0 to 1.0)"
                }
              },
              "required": [
                "entity_type",
                "weight"
              ],
              "type": "object"
            }
          },
          "description": "A WeaveUnit is a single segment extracted from a Weave. It's a transient container used for classification routing. Physics are extracted by the LLM but passed directly to spawned entities, not stored on the WeaveUnit itself.",
          "properties": {
            "classifications": {
              "default": [],
              "description": "Classifications in superposition (determines which entity types to spawn)",
              "items": {
                "$ref": "#/definitions/WeaveUnitClassification"
              },
              "type": "array"
            },
            "content": {
              "description": "The extracted/cleaned text content for this segment",
              "type": "string"
            },
            "index": {
              "description": "Index of this unit within the shuttle (0-based)",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "primary_thread": {
              "description": "Primary thread: the main subject/actor of this unit Used for entity resolution (Stitch) downstream",
              "type": [
                "string",
                "null"
              ]
            },
            "purpose": {
              "allOf": [
                {
                  "$ref": "#/definitions/MessageIntent"
                }
              ],
              "default": "LOG",
              "description": "Purpose of this specific unit (LOG, QUERY, COMMAND, INFER, REFERENCE) Determines how this unit is processed - only LOG units spawn entities"
            },
            "secondary_threads": {
              "description": "Secondary threads: other people/places/things mentioned Allows capturing companions, locations, etc.",
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "spawned_entity_ids": {
              "default": [],
              "description": "IDs of entities spawned from this unit (the actual simulation objects)",
              "items": {
                "format": "uuid",
                "type": "string"
              },
              "type": "array"
            },
            "temporal_marker": {
              "description": "Temporal marker: when this event/state occurred Can be absolute (\"6pm\"), relative (\"today\"), or frequency (\"once per hour\")",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "content",
            "index"
          ],
          "title": "WeaveUnit",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/WeaveUnit.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "097fc2527900b55dc2e0fdbafe604b0857db4139d9578c257ea1cb3129f490e2",
      "created_at": "2025-12-18T18:59:43.218679Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EmotionalState",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "SignedNormalizedFloat": {
              "description": "A floating-point value normalized between -1.0 and 1.0. Used for polarity (Valence), alignment (Phase), and gradients.",
              "format": "double",
              "type": "number"
            }
          },
          "description": "Represents an emotional state using the PAD (Pleasure-Arousal-Dominance) Model. Scientific Basis: Mehrabian & Russell (1974).",
          "properties": {
            "arousal": {
              "allOf": [
                {
                  "$ref": "#/definitions/SignedNormalizedFloat"
                }
              ],
              "description": "**Arousal (Activation)** -1.0: Sleep/Coma (Low Energy) 0.0: Alert +1.0: Panic/Frenzy (High Energy)"
            },
            "dominance": {
              "allOf": [
                {
                  "$ref": "#/definitions/SignedNormalizedFloat"
                }
              ],
              "description": "**Dominance (Control)** -1.0: Submissive/Overwhelmed 0.0: Balanced +1.0: Dominant/In-Control"
            },
            "valence": {
              "allOf": [
                {
                  "$ref": "#/definitions/SignedNormalizedFloat"
                }
              ],
              "description": "**Pleasure (Valence)** -1.0: Agony/Despair (Negative) 0.0: Neutral +1.0: Ecstasy/Joy (Positive)"
            }
          },
          "required": [
            "arousal",
            "dominance",
            "valence"
          ],
          "title": "EmotionalState",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/EmotionalState.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f8e93cb2e57380f2acc1832aeff43d346a8394773a86b84b1493e90a89494d0f",
      "created_at": "2025-12-18T18:59:43.218894Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CognitiveDimensions",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            }
          },
          "description": "Defines the \"personality\" of an entity using the Five-Factor Model (OCEAN). These dimensions directly modulate the physics constants of the simulation.",
          "properties": {
            "agreeableness": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Agreeableness** Physics: **Damping / Friction**. High: High damping (absorbs shocks/conflict), reduces system energy. Low: Low damping (elastic collisions), amplifies conflict."
            },
            "conscientiousness": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Conscientiousness** Physics: **Spring Stiffness / Rigidity**. High: Strong restorative forces, low drift, adheres to intent. Low: Loose coupling, high drift."
            },
            "extraversion": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Extraversion** Physics: **Social Gravity Mass**. High: Large attractive radius, radiates energy (Arousal) to neighbors. Low: Small radius, absorbs energy."
            },
            "neuroticism": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Neuroticism (Emotional Stability)** Physics: **Volatility / Reactivity**. High: Low inertia (easily moved by small forces), unstable equilibrium. Low: High inertia (stable), resilient to perturbations."
            },
            "openness": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Openness to Experience** Physics: **Simulation Temperature**. High: High exploration, high volatility, accepts new connections easily. Low: Rigid structure, low noise tolerance."
            }
          },
          "required": [
            "agreeableness",
            "conscientiousness",
            "extraversion",
            "neuroticism",
            "openness"
          ],
          "title": "CognitiveDimensions",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/CognitiveDimensions.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e459d84740fbc5a3716da3b335790d84927632dc2dd6707e661f610d80abf8d6",
      "created_at": "2025-12-18T18:59:43.219252Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "WeaveUnitClassification",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "HeddleEntityType": {
              "description": "The fundamental Entity Types recognized by The Heddle Classification Engine. These map to the Symmetric Seven ontology.",
              "oneOf": [
                {
                  "description": "A specific event that happened in the past (Narrative/External Particle)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A definition of a person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "A statement about the quality of a relationship (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "An internal state snapshot (Internal Particle)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                }
              ]
            },
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            }
          },
          "description": "Classification result for a weave unit (determines which entity type to spawn)",
          "properties": {
            "entity_type": {
              "allOf": [
                {
                  "$ref": "#/definitions/HeddleEntityType"
                }
              ],
              "description": "The entity type this unit may become"
            },
            "weight": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "Confidence weight (0.0 to 1.0)"
            }
          },
          "required": [
            "entity_type",
            "weight"
          ],
          "title": "WeaveUnitClassification",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/WeaveUnitClassification.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "245a18a3f71a67f0a157257967107a2320ff3b0ecd9614de65b82267c8db8803",
      "created_at": "2025-12-18T18:59:43.219400Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Conversation",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ChatMessage": {
              "description": "A single message in a chat conversation",
              "properties": {
                "content": {
                  "description": "The message content",
                  "type": "string"
                },
                "role": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/MessageRole"
                    }
                  ],
                  "description": "The role of the message sender"
                }
              },
              "required": [
                "content",
                "role"
              ],
              "type": "object"
            },
            "MessageRole": {
              "description": "Role in a chat conversation",
              "oneOf": [
                {
                  "description": "System instructions",
                  "enum": [
                    "system"
                  ],
                  "type": "string"
                },
                {
                  "description": "User input",
                  "enum": [
                    "user"
                  ],
                  "type": "string"
                },
                {
                  "description": "Assistant response",
                  "enum": [
                    "assistant"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "A conversation (sequence of messages)",
          "properties": {
            "messages": {
              "items": {
                "$ref": "#/definitions/ChatMessage"
              },
              "type": "array"
            }
          },
          "required": [
            "messages"
          ],
          "title": "Conversation",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/Conversation.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "345e5506d067ac69e9d23e9f21dbf419c629a37e7d0d26ffc8d1fb5ca977eae6",
      "created_at": "2025-12-18T18:59:43.219598Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "DbPoolConfig",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "DbConnectionString": {
              "description": "A validated PostgreSQL/TimescaleDB connection string",
              "type": "string"
            },
            "DbPoolSize": {
              "description": "Connection pool size configuration",
              "format": "uint32",
              "minimum": 0.0,
              "type": "integer"
            }
          },
          "description": "Database pool configuration",
          "properties": {
            "connect_timeout_secs": {
              "description": "Connection timeout in seconds",
              "format": "uint64",
              "minimum": 0.0,
              "type": "integer"
            },
            "connection": {
              "allOf": [
                {
                  "$ref": "#/definitions/DbConnectionString"
                }
              ],
              "description": "Database connection string"
            },
            "idle_timeout_secs": {
              "description": "Idle timeout in seconds",
              "format": "uint64",
              "minimum": 0.0,
              "type": "integer"
            },
            "max_connections": {
              "allOf": [
                {
                  "$ref": "#/definitions/DbPoolSize"
                }
              ],
              "description": "Maximum pool size"
            },
            "min_connections": {
              "allOf": [
                {
                  "$ref": "#/definitions/DbPoolSize"
                }
              ],
              "description": "Minimum pool size"
            }
          },
          "required": [
            "connect_timeout_secs",
            "connection",
            "idle_timeout_secs",
            "max_connections",
            "min_connections"
          ],
          "title": "DbPoolConfig",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/DbPoolConfig.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4e69d91d046f0b53d091a8e4edcbf9add55a90e1ef69eefbaead99dd0931c1fa",
      "created_at": "2025-12-18T18:59:43.219897Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Weave",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "A Weave is the raw user input - their message to Familiar",
          "properties": {
            "context": {
              "description": "Optional context provided with the message",
              "type": [
                "string",
                "null"
              ]
            },
            "raw_content": {
              "description": "The raw text content from the user",
              "type": "string"
            }
          },
          "required": [
            "raw_content"
          ],
          "title": "Weave",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/Weave.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "25979c1d48025ecc773a54e41995920e86ace08da80affd2754e075bce695e04",
      "created_at": "2025-12-18T18:59:43.221070Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ClassificationSuperposition",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "HeddleEntityType": {
              "description": "The fundamental Entity Types recognized by The Heddle Classification Engine. These map to the Symmetric Seven ontology.",
              "oneOf": [
                {
                  "description": "A specific event that happened in the past (Narrative/External Particle)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A definition of a person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "A statement about the quality of a relationship (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "An internal state snapshot (Internal Particle)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                }
              ]
            },
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            },
            "WeightedClassification": {
              "description": "A weighted classification representing the probability/confidence that a segment belongs to a specific entity type. Part of the Superposition model - a single thought can be multiple things.",
              "properties": {
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/HeddleEntityType"
                    }
                  ],
                  "description": "The entity type this classification refers to"
                },
                "weight": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/NormalizedFloat"
                    }
                  ],
                  "description": "Confidence/Weight (0.0 to 1.0) If > Threshold during collapse, we instantiate this entity."
                }
              },
              "required": [
                "entity_type",
                "weight"
              ],
              "type": "object"
            }
          },
          "description": "A collection of weighted classifications representing the superposition of possible entity types for a single segment.",
          "properties": {
            "classifications": {
              "items": {
                "$ref": "#/definitions/WeightedClassification"
              },
              "type": "array"
            }
          },
          "required": [
            "classifications"
          ],
          "title": "ClassificationSuperposition",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/ClassificationSuperposition.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "16479990040a79dbf198c256d39bcd9731cfd0f7fc1e1d82f91d6e0b5387254f",
      "created_at": "2025-12-18T18:59:43.221302Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "AnthropicMessage",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Anthropic message format (no system role in messages)",
          "properties": {
            "content": {
              "type": "string"
            },
            "role": {
              "type": "string"
            }
          },
          "required": [
            "content",
            "role"
          ],
          "title": "AnthropicMessage",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/AnthropicMessage.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2377e2d241435f71bcdfc012b5beeb4aa299e7c74ca48ab9da9e9401b9780d1f",
      "created_at": "2025-12-18T18:59:43.221435Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CognitiveOptics",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            }
          },
          "properties": {
            "albedo": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Albedo (Reflectivity):** How well the object reflects the User's Attention. 1.0 = Mirror (Perfect Recall). 0.0 = Vantablack (Repressed/Forgotten)."
            },
            "emissivity": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Emissivity (Luminance):** The object's internal energy source. High: \"Stars\" (Trauma, Obsessions, Core Values). They glow in the dark. Low: \"Planets\" (Facts). They need external attention to be seen."
            },
            "occlusion": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Occlusion (Density):** How much this object blocks rays behind it. High: A massive trauma that hides childhood memories behind it."
            },
            "roughness": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Roughness (Scattering):** 0.0 = Smooth/Polished. Rays bounce predictably (Logical/Linear thought). 1.0 = Rough/Matte. Rays scatter randomly (Creative/Associative thought)."
            }
          },
          "required": [
            "albedo",
            "emissivity",
            "occlusion",
            "roughness"
          ],
          "title": "CognitiveOptics",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/CognitiveOptics.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4c361fc90c3e32f372d6d47ca54ed6fe8bd903cb23617c1abf0740d195502a12",
      "created_at": "2025-12-18T18:59:43.221536Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CourseDetails",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Workflow metadata for a Course",
          "properties": {
            "latency_ms": {
              "default": 0,
              "description": "Total processing time in milliseconds",
              "format": "uint64",
              "minimum": 0.0,
              "type": "integer"
            },
            "model": {
              "description": "Model used for classification",
              "type": [
                "string",
                "null"
              ]
            },
            "provider": {
              "description": "AI provider used for classification",
              "type": [
                "string",
                "null"
              ]
            },
            "spawn_count": {
              "default": 0,
              "description": "Number of entities spawned into the simulation",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "unit_count": {
              "default": 0,
              "description": "Number of weave units (segments)",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            }
          },
          "title": "CourseDetails",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/CourseDetails.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "7edda25ba7c56f0294e058c103368f64b51919a3c8f0988f2b844a84a89d7f5e",
      "created_at": "2025-12-18T18:59:43.221645Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "PhysicsHint",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Sparse container for physics hints extracted from text by the LLM. All fields are Option<f64>. If None, the system applies Vacuum State defaults. This is the \"raw\" output from classification before collapse.",
          "properties": {
            "arousal": {
              "description": "Energy/Activation: 0.0 (Calm) to 1.0 (Excited) Maps to: VAE Arousal axis",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "clarity": {
              "description": "Specificity/Coherence: 0.0 (Vague) to 1.0 (Factual) Maps to: QuantumState.coherence and VAE Epistemic axis",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "intrusiveness": {
              "description": "Intrusiveness: 0.0 (Passive) to 1.0 (Demanding attention) Maps to: CognitiveOptics.emissivity",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "significance": {
              "description": "Importance/Mass: 0.0 (Mundane) to 1.0 (Critical) Maps to: FieldExcitation.amplitude",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "valence": {
              "description": "Emotional polarity: -1.0 (Negative) to 1.0 (Positive) Maps to: VAE Valence axis",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "volatility": {
              "description": "Volatility: 0.0 (Stable) to 1.0 (Fluctuating) Maps to: FieldExcitation.temperature",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            }
          },
          "title": "PhysicsHint",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/PhysicsHint.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2d2e57c0e4bd7cd7c5772ed51a9f443bd8b292ad75d638aacf48c5552941525a",
      "created_at": "2025-12-18T18:59:43.221742Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ResponseMetadata",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AIProvider": {
              "description": "AI Provider enumeration",
              "enum": [
                "openai",
                "anthropic",
                "google",
                "mock"
              ],
              "type": "string"
            },
            "TokenUsage": {
              "description": "Token usage statistics from a completion",
              "properties": {
                "completion_tokens": {
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "prompt_tokens": {
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "total_tokens": {
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "completion_tokens",
                "prompt_tokens",
                "total_tokens"
              ],
              "type": "object"
            }
          },
          "description": "Metadata about an AI completion response",
          "properties": {
            "latency_ms": {
              "format": "uint64",
              "minimum": 0.0,
              "type": "integer"
            },
            "model_id": {
              "type": "string"
            },
            "model_name": {
              "type": "string"
            },
            "provider": {
              "$ref": "#/definitions/AIProvider"
            },
            "request_id": {
              "type": [
                "string",
                "null"
              ]
            },
            "usage": {
              "anyOf": [
                {
                  "$ref": "#/definitions/TokenUsage"
                },
                {
                  "type": "null"
                }
              ]
            }
          },
          "required": [
            "latency_ms",
            "model_id",
            "model_name",
            "provider"
          ],
          "title": "ResponseMetadata",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/ResponseMetadata.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "290d0e82d478e1efe15348d7204faf7a94f9e890135f714de70f05f17b1b61e8",
      "created_at": "2025-12-18T18:59:43.221831Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ContentPayload",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "properties": {
            "metadata": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "text": {
              "type": "string"
            }
          },
          "required": [
            "metadata",
            "text"
          ],
          "title": "ContentPayload",
          "type": "object"
        },
        "category": "components",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/components/ContentPayload.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "70ba80ed5109c286635cae94667eb34e7dd2dc3b25409d5efd5bf1fe7828ca31",
      "created_at": "2025-12-18T18:59:43.221952Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EventEnvelope",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "CourseEvent": {
              "description": "Course lifecycle events",
              "oneOf": [
                {
                  "description": "Course has started processing",
                  "properties": {
                    "type": {
                      "enum": [
                        "started"
                      ],
                      "type": "string"
                    },
                    "weave_id": {
                      "description": "The weave that started this course",
                      "format": "uuid",
                      "type": "string"
                    }
                  },
                  "required": [
                    "type",
                    "weave_id"
                  ],
                  "type": "object"
                },
                {
                  "description": "Segmentation phase completed",
                  "properties": {
                    "type": {
                      "enum": [
                        "segmented"
                      ],
                      "type": "string"
                    },
                    "unit_count": {
                      "description": "Number of segments/units identified",
                      "format": "uint",
                      "minimum": 0.0,
                      "type": "integer"
                    }
                  },
                  "required": [
                    "type",
                    "unit_count"
                  ],
                  "type": "object"
                },
                {
                  "description": "Classification phase completed",
                  "properties": {
                    "entity_types": {
                      "description": "Entity types identified",
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    },
                    "physics_summary": {
                      "description": "Physics hints computed (optional)",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "classified"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "entity_types",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Course completed successfully",
                  "properties": {
                    "duration_ms": {
                      "description": "Duration in milliseconds",
                      "format": "uint64",
                      "minimum": 0.0,
                      "type": "integer"
                    },
                    "response": {
                      "description": "The final response to send to user",
                      "type": "string"
                    },
                    "tokens_used": {
                      "description": "Token usage (if tracked)",
                      "format": "uint32",
                      "minimum": 0.0,
                      "type": [
                        "integer",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "completed"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "duration_ms",
                    "response",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Course failed",
                  "properties": {
                    "error": {
                      "description": "Error message (sanitized for storage)",
                      "type": "string"
                    },
                    "error_code": {
                      "description": "Error code for programmatic handling",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "retryable": {
                      "default": false,
                      "description": "Whether this is retryable",
                      "type": "boolean"
                    },
                    "type": {
                      "enum": [
                        "failed"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "error",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Course was cancelled",
                  "properties": {
                    "cancelled_by": {
                      "description": "Who cancelled (user, system, timeout)",
                      "type": "string"
                    },
                    "reason": {
                      "description": "Reason for cancellation",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "cancelled"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "cancelled_by",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Course is being retried",
                  "properties": {
                    "attempt": {
                      "description": "Retry attempt number",
                      "format": "uint32",
                      "minimum": 0.0,
                      "type": "integer"
                    },
                    "original_error": {
                      "description": "Original error that triggered retry",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "retrying"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "attempt",
                    "original_error",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            }
          },
          "description": "Event envelope wrapper with metadata\n\nNote: This is a legacy type. Prefer using EnvelopeV1 with Event payload for new code. EnvelopeV1 uses native Protobuf serialization for better performance.",
          "properties": {
            "course_id": {
              "description": "Course (interaction) this event belongs to",
              "format": "uuid",
              "type": "string"
            },
            "event_id": {
              "description": "Unique identifier for this event",
              "format": "uuid",
              "type": "string"
            },
            "occurred_at": {
              "description": "When the event occurred",
              "format": "date-time",
              "type": "string"
            },
            "payload": {
              "allOf": [
                {
                  "$ref": "#/definitions/CourseEvent"
                }
              ],
              "description": "The actual event payload"
            },
            "schema_version": {
              "description": "Schema version for evolution",
              "format": "uint32",
              "minimum": 0.0,
              "type": "integer"
            },
            "tenant_id": {
              "description": "Tenant (family) context",
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "course_id",
            "event_id",
            "occurred_at",
            "payload",
            "schema_version",
            "tenant_id"
          ],
          "title": "EventEnvelope",
          "type": "object"
        },
        "category": "kafka",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/kafka/EventEnvelope.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "8774265e9afea2f9295671576e2aa3512c3a21b50679bc36b59dc63914b6045c",
      "created_at": "2025-12-18T18:59:43.222073Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Command",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ConversationTurn": {
              "description": "A single turn in a conversation (for context tracking)",
              "properties": {
                "content": {
                  "description": "Content of the message",
                  "type": "string"
                },
                "role": {
                  "description": "Role of the speaker (user, assistant, system)",
                  "type": "string"
                },
                "speaker": {
                  "default": null,
                  "description": "Optional speaker identifier (for multi-agent)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "timestamp": {
                  "default": null,
                  "description": "Timestamp of the turn",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content",
                "role"
              ],
              "type": "object"
            },
            "RequestContext": {
              "description": "HTTP request context for audit/logging\n\nCaptures metadata about the HTTP request that triggered an action. Used for security auditing, rate limiting, and debugging.\n\n## Usage\n\nEmbed in types that need request tracking: ```rust,ignore pub struct AuditLogEntry { // ... other fields #[serde(flatten)] pub request_context: RequestContext, } ```\n\n## Fields Replaced\n\nThis component replaces the common pattern of: - `pub ip_address: Option<String>` - `pub user_agent: Option<String>`",
              "properties": {
                "ip_address": {
                  "description": "Client IP address (may be from X-Forwarded-For in proxied environments)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "user_agent": {
                  "description": "Client User-Agent header",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "SignupConsents": {
              "description": "Consent flags for signup",
              "properties": {
                "ai_processing": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                },
                "marketing": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                },
                "privacy": {
                  "type": "boolean"
                },
                "terms": {
                  "type": "boolean"
                }
              },
              "required": [
                "privacy",
                "terms"
              ],
              "type": "object"
            },
            "WeaveBlock": {
              "description": "Input block types for multimodal weave requests",
              "oneOf": [
                {
                  "properties": {
                    "content": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "content",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "alt_text": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "analyze": {
                      "default": true,
                      "description": "Request vision analysis",
                      "type": "boolean"
                    },
                    "source": {
                      "description": "base64 data URI or URL",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "source",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "duration_secs": {
                      "format": "double",
                      "type": [
                        "number",
                        "null"
                      ]
                    },
                    "source": {
                      "type": "string"
                    },
                    "transcript": {
                      "description": "Pre-transcribed (skip Whisper)",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "audio"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "source",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "filename": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "mime_type": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "source": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "document"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "source",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "extract_images": {
                      "default": false,
                      "description": "Whether to extract images from the page",
                      "type": "boolean"
                    },
                    "selector": {
                      "description": "Optional CSS selector to extract specific content",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "webpage"
                      ],
                      "type": "string"
                    },
                    "url": {
                      "description": "URL to scrape",
                      "type": "string"
                    }
                  },
                  "required": [
                    "type",
                    "url"
                  ],
                  "type": "object"
                }
              ]
            }
          },
          "description": "All commands in the system - unified enum across domains\n\nFollowing the single-envelope pattern, all command types are variants of this single enum. The worker routes based on variant type.",
          "oneOf": [
            {
              "description": "Start a new course from a weave",
              "properties": {
                "blocks": {
                  "description": "Multimodal blocks (images, audio, etc.)",
                  "items": {
                    "$ref": "#/definitions/WeaveBlock"
                  },
                  "type": [
                    "array",
                    "null"
                  ]
                },
                "content": {
                  "description": "Raw text content",
                  "type": "string"
                },
                "context": {
                  "description": "Optional context",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "conversation_history": {
                  "default": [],
                  "description": "Prior conversation for context",
                  "items": {
                    "$ref": "#/definitions/ConversationTurn"
                  },
                  "type": "array"
                },
                "type": {
                  "enum": [
                    "course_start"
                  ],
                  "type": "string"
                },
                "weave_id": {
                  "description": "The weave (user input) ID",
                  "format": "uuid",
                  "type": "string"
                }
              },
              "required": [
                "content",
                "type",
                "weave_id"
              ],
              "type": "object"
            },
            {
              "description": "Continue an existing course with additional user input",
              "properties": {
                "blocks": {
                  "description": "Optional multimodal blocks",
                  "items": {
                    "$ref": "#/definitions/WeaveBlock"
                  },
                  "type": [
                    "array",
                    "null"
                  ]
                },
                "type": {
                  "enum": [
                    "course_continue"
                  ],
                  "type": "string"
                },
                "user_message": {
                  "description": "The new user message",
                  "type": "string"
                }
              },
              "required": [
                "type",
                "user_message"
              ],
              "type": "object"
            },
            {
              "description": "Cancel a running course",
              "properties": {
                "reason": {
                  "description": "Reason for cancellation",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "type": {
                  "enum": [
                    "course_cancel"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Retry a failed course",
              "properties": {
                "original_command_id": {
                  "description": "Original command to retry",
                  "format": "uuid",
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "course_retry"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "original_command_id",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "User signup request",
              "properties": {
                "consents": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/SignupConsents"
                    }
                  ],
                  "description": "User consent flags"
                },
                "email": {
                  "description": "User's email address",
                  "type": "string"
                },
                "invite_code": {
                  "description": "Invite code if signing up via invitation",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "name": {
                  "description": "User's display name",
                  "type": "string"
                },
                "password": {
                  "description": "User's password (will be hashed by worker)",
                  "type": "string"
                },
                "request_context": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/RequestContext"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "description": "Request context for audit"
                },
                "type": {
                  "enum": [
                    "signup"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "consents",
                "email",
                "name",
                "password",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Create a new family/tenant",
              "properties": {
                "family_name": {
                  "description": "Name for the new family",
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "create_family"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "family_name",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Accept an invitation to join a family",
              "properties": {
                "invitation_code": {
                  "description": "The invitation code to accept",
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "accept_invitation"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "invitation_code",
                "type"
              ],
              "type": "object"
            }
          ],
          "title": "Command"
        },
        "category": "kafka",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/kafka/Command.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "71dea4cccbcb1901cad42f4d8fb1e2beb34e021cf2c3191d152c871f1dd975ad",
      "created_at": "2025-12-18T18:59:43.222339Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CommandEnvelope",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "Command": {
              "description": "All commands in the system - unified enum across domains\n\nFollowing the single-envelope pattern, all command types are variants of this single enum. The worker routes based on variant type.",
              "oneOf": [
                {
                  "description": "Start a new course from a weave",
                  "properties": {
                    "blocks": {
                      "description": "Multimodal blocks (images, audio, etc.)",
                      "items": {
                        "$ref": "#/definitions/WeaveBlock"
                      },
                      "type": [
                        "array",
                        "null"
                      ]
                    },
                    "content": {
                      "description": "Raw text content",
                      "type": "string"
                    },
                    "context": {
                      "description": "Optional context",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "conversation_history": {
                      "default": [],
                      "description": "Prior conversation for context",
                      "items": {
                        "$ref": "#/definitions/ConversationTurn"
                      },
                      "type": "array"
                    },
                    "type": {
                      "enum": [
                        "course_start"
                      ],
                      "type": "string"
                    },
                    "weave_id": {
                      "description": "The weave (user input) ID",
                      "format": "uuid",
                      "type": "string"
                    }
                  },
                  "required": [
                    "content",
                    "type",
                    "weave_id"
                  ],
                  "type": "object"
                },
                {
                  "description": "Continue an existing course with additional user input",
                  "properties": {
                    "blocks": {
                      "description": "Optional multimodal blocks",
                      "items": {
                        "$ref": "#/definitions/WeaveBlock"
                      },
                      "type": [
                        "array",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "course_continue"
                      ],
                      "type": "string"
                    },
                    "user_message": {
                      "description": "The new user message",
                      "type": "string"
                    }
                  },
                  "required": [
                    "type",
                    "user_message"
                  ],
                  "type": "object"
                },
                {
                  "description": "Cancel a running course",
                  "properties": {
                    "reason": {
                      "description": "Reason for cancellation",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "course_cancel"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Retry a failed course",
                  "properties": {
                    "original_command_id": {
                      "description": "Original command to retry",
                      "format": "uuid",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "course_retry"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "original_command_id",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "User signup request",
                  "properties": {
                    "consents": {
                      "allOf": [
                        {
                          "$ref": "#/definitions/SignupConsents"
                        }
                      ],
                      "description": "User consent flags"
                    },
                    "email": {
                      "description": "User's email address",
                      "type": "string"
                    },
                    "invite_code": {
                      "description": "Invite code if signing up via invitation",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "name": {
                      "description": "User's display name",
                      "type": "string"
                    },
                    "password": {
                      "description": "User's password (will be hashed by worker)",
                      "type": "string"
                    },
                    "request_context": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/RequestContext"
                        },
                        {
                          "type": "null"
                        }
                      ],
                      "description": "Request context for audit"
                    },
                    "type": {
                      "enum": [
                        "signup"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "consents",
                    "email",
                    "name",
                    "password",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Create a new family/tenant",
                  "properties": {
                    "family_name": {
                      "description": "Name for the new family",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "create_family"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "family_name",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Accept an invitation to join a family",
                  "properties": {
                    "invitation_code": {
                      "description": "The invitation code to accept",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "accept_invitation"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "invitation_code",
                    "type"
                  ],
                  "type": "object"
                }
              ]
            },
            "ConversationTurn": {
              "description": "A single turn in a conversation (for context tracking)",
              "properties": {
                "content": {
                  "description": "Content of the message",
                  "type": "string"
                },
                "role": {
                  "description": "Role of the speaker (user, assistant, system)",
                  "type": "string"
                },
                "speaker": {
                  "default": null,
                  "description": "Optional speaker identifier (for multi-agent)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "timestamp": {
                  "default": null,
                  "description": "Timestamp of the turn",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content",
                "role"
              ],
              "type": "object"
            },
            "RequestContext": {
              "description": "HTTP request context for audit/logging\n\nCaptures metadata about the HTTP request that triggered an action. Used for security auditing, rate limiting, and debugging.\n\n## Usage\n\nEmbed in types that need request tracking: ```rust,ignore pub struct AuditLogEntry { // ... other fields #[serde(flatten)] pub request_context: RequestContext, } ```\n\n## Fields Replaced\n\nThis component replaces the common pattern of: - `pub ip_address: Option<String>` - `pub user_agent: Option<String>`",
              "properties": {
                "ip_address": {
                  "description": "Client IP address (may be from X-Forwarded-For in proxied environments)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "user_agent": {
                  "description": "Client User-Agent header",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "type": "object"
            },
            "SignupConsents": {
              "description": "Consent flags for signup",
              "properties": {
                "ai_processing": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                },
                "marketing": {
                  "type": [
                    "boolean",
                    "null"
                  ]
                },
                "privacy": {
                  "type": "boolean"
                },
                "terms": {
                  "type": "boolean"
                }
              },
              "required": [
                "privacy",
                "terms"
              ],
              "type": "object"
            },
            "WeaveBlock": {
              "description": "Input block types for multimodal weave requests",
              "oneOf": [
                {
                  "properties": {
                    "content": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "content",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "alt_text": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "analyze": {
                      "default": true,
                      "description": "Request vision analysis",
                      "type": "boolean"
                    },
                    "source": {
                      "description": "base64 data URI or URL",
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "image"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "source",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "duration_secs": {
                      "format": "double",
                      "type": [
                        "number",
                        "null"
                      ]
                    },
                    "source": {
                      "type": "string"
                    },
                    "transcript": {
                      "description": "Pre-transcribed (skip Whisper)",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "audio"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "source",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "filename": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "mime_type": {
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "source": {
                      "type": "string"
                    },
                    "type": {
                      "enum": [
                        "document"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "source",
                    "type"
                  ],
                  "type": "object"
                },
                {
                  "properties": {
                    "extract_images": {
                      "default": false,
                      "description": "Whether to extract images from the page",
                      "type": "boolean"
                    },
                    "selector": {
                      "description": "Optional CSS selector to extract specific content",
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "type": {
                      "enum": [
                        "webpage"
                      ],
                      "type": "string"
                    },
                    "url": {
                      "description": "URL to scrape",
                      "type": "string"
                    }
                  },
                  "required": [
                    "type",
                    "url"
                  ],
                  "type": "object"
                }
              ]
            }
          },
          "description": "Command envelope wrapper with metadata\n\nThis is the SINGLE envelope type for all commands in the system. Different command domains are distinguished by the payload variant.\n\nNote: This is a legacy type. Prefer using EnvelopeV1 for new code. EnvelopeV1 uses native Protobuf serialization for better performance.",
          "properties": {
            "command_id": {
              "description": "Unique identifier for this command (for idempotency)",
              "format": "uuid",
              "type": "string"
            },
            "correlation_id": {
              "description": "Correlation ID for request tracing (can be course_id for courses, or task_id for onboarding)",
              "format": "uuid",
              "type": "string"
            },
            "created_at": {
              "description": "When the command was created",
              "format": "date-time",
              "type": "string"
            },
            "payload": {
              "allOf": [
                {
                  "$ref": "#/definitions/Command"
                }
              ],
              "description": "The actual command payload"
            },
            "schema_version": {
              "description": "Schema version for evolution",
              "format": "uint32",
              "minimum": 0.0,
              "type": "integer"
            },
            "tenant_id": {
              "description": "Tenant (family) context",
              "format": "uuid",
              "type": "string"
            },
            "user_id": {
              "description": "User who initiated the command",
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "command_id",
            "correlation_id",
            "created_at",
            "payload",
            "schema_version",
            "tenant_id",
            "user_id"
          ],
          "title": "CommandEnvelope",
          "type": "object"
        },
        "category": "kafka",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/kafka/CommandEnvelope.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2f80a695342b6430cd15aee16cc59e83daaa1576df03f30fa1dab6147bf72728",
      "created_at": "2025-12-18T18:59:43.222672Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TraceEnvelope",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "TraceKind": {
              "description": "Types of trace events",
              "oneOf": [
                {
                  "description": "Agent thinking/reasoning step",
                  "enum": [
                    "step"
                  ],
                  "type": "string"
                },
                {
                  "description": "Tool invocation",
                  "enum": [
                    "tool"
                  ],
                  "type": "string"
                },
                {
                  "description": "Routing decision between agents",
                  "enum": [
                    "route"
                  ],
                  "type": "string"
                },
                {
                  "description": "Safe log message",
                  "enum": [
                    "log"
                  ],
                  "type": "string"
                },
                {
                  "description": "Response token stream (for streaming responses)",
                  "enum": [
                    "token"
                  ],
                  "type": "string"
                },
                {
                  "description": "Final result",
                  "enum": [
                    "result"
                  ],
                  "type": "string"
                }
              ]
            },
            "TracePayload": {
              "description": "Trace payload - sanitized for UI consumption",
              "properties": {
                "agent": {
                  "description": "Agent that produced this trace (concierge, classifier, etc.)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "duration_ms": {
                  "description": "Duration in milliseconds (if status == Succeeded or Failed)",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "message": {
                  "description": "Human-readable message",
                  "type": "string"
                },
                "tokens": {
                  "description": "Response tokens (if kind == Token)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "tool_args": {
                  "description": "Tool arguments (redacted/summarized)"
                },
                "tool_name": {
                  "description": "Tool name (if kind == Tool)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "tool_result": {
                  "description": "Tool result (summary only, not full output)",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "message"
              ],
              "type": "object"
            },
            "TraceStatus": {
              "description": "Status of a trace span",
              "oneOf": [
                {
                  "description": "Span has started",
                  "enum": [
                    "started"
                  ],
                  "type": "string"
                },
                {
                  "description": "Span completed successfully",
                  "enum": [
                    "succeeded"
                  ],
                  "type": "string"
                },
                {
                  "description": "Span failed",
                  "enum": [
                    "failed"
                  ],
                  "type": "string"
                },
                {
                  "description": "Span was skipped",
                  "enum": [
                    "skipped"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Trace envelope for UI streaming\n\nNote: This is a legacy type. Prefer using EnvelopeV1 with Trace payload for new code. EnvelopeV1 uses native Protobuf serialization for better performance.",
          "properties": {
            "course_id": {
              "description": "Course (interaction) this trace belongs to",
              "format": "uuid",
              "type": "string"
            },
            "kind": {
              "allOf": [
                {
                  "$ref": "#/definitions/TraceKind"
                }
              ],
              "description": "Type of trace"
            },
            "occurred_at": {
              "description": "When this trace was emitted",
              "format": "date-time",
              "type": "string"
            },
            "parent_span_id": {
              "description": "Parent span (for hierarchy)",
              "type": [
                "string",
                "null"
              ]
            },
            "payload": {
              "allOf": [
                {
                  "$ref": "#/definitions/TracePayload"
                }
              ],
              "description": "The actual payload (sanitized for UI)"
            },
            "seq": {
              "description": "Monotonic sequence number per-course (for ordering and backfill)",
              "format": "uint64",
              "minimum": 0.0,
              "type": "integer"
            },
            "span_id": {
              "description": "Span identifier for this trace unit",
              "type": "string"
            },
            "status": {
              "allOf": [
                {
                  "$ref": "#/definitions/TraceStatus"
                }
              ],
              "description": "Status of this trace unit"
            }
          },
          "required": [
            "course_id",
            "kind",
            "occurred_at",
            "payload",
            "seq",
            "span_id",
            "status"
          ],
          "title": "TraceEnvelope",
          "type": "object"
        },
        "category": "kafka",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/kafka/TraceEnvelope.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "d766ab817a78c1948b3bafa691f1d096cce231c64c747d873c15365a275fd25f",
      "created_at": "2025-12-18T18:59:43.222984Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "TracePayload",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Trace payload - sanitized for UI consumption",
          "properties": {
            "agent": {
              "description": "Agent that produced this trace (concierge, classifier, etc.)",
              "type": [
                "string",
                "null"
              ]
            },
            "duration_ms": {
              "description": "Duration in milliseconds (if status == Succeeded or Failed)",
              "format": "uint64",
              "minimum": 0.0,
              "type": [
                "integer",
                "null"
              ]
            },
            "message": {
              "description": "Human-readable message",
              "type": "string"
            },
            "tokens": {
              "description": "Response tokens (if kind == Token)",
              "type": [
                "string",
                "null"
              ]
            },
            "tool_args": {
              "description": "Tool arguments (redacted/summarized)"
            },
            "tool_name": {
              "description": "Tool name (if kind == Tool)",
              "type": [
                "string",
                "null"
              ]
            },
            "tool_result": {
              "description": "Tool result (summary only, not full output)",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "required": [
            "message"
          ],
          "title": "TracePayload",
          "type": "object"
        },
        "category": "kafka",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/kafka/TracePayload.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "23530274cf3d77f3ce6642aac333d92f948698ee0ce9ae024f5f085ef281d1c4",
      "created_at": "2025-12-18T18:59:43.223137Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CourseEvent",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Course lifecycle events",
          "oneOf": [
            {
              "description": "Course has started processing",
              "properties": {
                "type": {
                  "enum": [
                    "started"
                  ],
                  "type": "string"
                },
                "weave_id": {
                  "description": "The weave that started this course",
                  "format": "uuid",
                  "type": "string"
                }
              },
              "required": [
                "type",
                "weave_id"
              ],
              "type": "object"
            },
            {
              "description": "Segmentation phase completed",
              "properties": {
                "type": {
                  "enum": [
                    "segmented"
                  ],
                  "type": "string"
                },
                "unit_count": {
                  "description": "Number of segments/units identified",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "required": [
                "type",
                "unit_count"
              ],
              "type": "object"
            },
            {
              "description": "Classification phase completed",
              "properties": {
                "entity_types": {
                  "description": "Entity types identified",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "physics_summary": {
                  "description": "Physics hints computed (optional)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "type": {
                  "enum": [
                    "classified"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "entity_types",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Course completed successfully",
              "properties": {
                "duration_ms": {
                  "description": "Duration in milliseconds",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "response": {
                  "description": "The final response to send to user",
                  "type": "string"
                },
                "tokens_used": {
                  "description": "Token usage (if tracked)",
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": [
                    "integer",
                    "null"
                  ]
                },
                "type": {
                  "enum": [
                    "completed"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "duration_ms",
                "response",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Course failed",
              "properties": {
                "error": {
                  "description": "Error message (sanitized for storage)",
                  "type": "string"
                },
                "error_code": {
                  "description": "Error code for programmatic handling",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "retryable": {
                  "default": false,
                  "description": "Whether this is retryable",
                  "type": "boolean"
                },
                "type": {
                  "enum": [
                    "failed"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "error",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Course was cancelled",
              "properties": {
                "cancelled_by": {
                  "description": "Who cancelled (user, system, timeout)",
                  "type": "string"
                },
                "reason": {
                  "description": "Reason for cancellation",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "type": {
                  "enum": [
                    "cancelled"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "cancelled_by",
                "type"
              ],
              "type": "object"
            },
            {
              "description": "Course is being retried",
              "properties": {
                "attempt": {
                  "description": "Retry attempt number",
                  "format": "uint32",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "original_error": {
                  "description": "Original error that triggered retry",
                  "type": "string"
                },
                "type": {
                  "enum": [
                    "retrying"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "attempt",
                "original_error",
                "type"
              ],
              "type": "object"
            }
          ],
          "title": "CourseEvent"
        },
        "category": "kafka",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/kafka/CourseEvent.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "45f0460aa8292061cb354712b1cbbb5fd10fe2d6a8a0f2dc9b9d970c0d9d5f19",
      "created_at": "2025-12-18T18:59:43.223257Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "SuccessResult",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Simple success response (no data)\n\nUsed for operations that succeed but don't return data: - DELETE operations - Fire-and-forget operations",
          "properties": {
            "message": {
              "type": [
                "string",
                "null"
              ]
            },
            "success": {
              "type": "boolean"
            }
          },
          "required": [
            "success"
          ],
          "title": "SuccessResult",
          "type": "object"
        },
        "category": "api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/api/SuccessResult.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "f356e1e2243c43ce1736e2832063acacaad1d8639325792f8ca2c352b4079c0d",
      "created_at": "2025-12-18T18:59:43.223415Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ApiError",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "API error details",
          "properties": {
            "code": {
              "description": "Error code (e.g., \"NOT_FOUND\", \"VALIDATION_FAILED\")",
              "type": "string"
            },
            "details": {
              "description": "Optional structured details"
            },
            "message": {
              "description": "Human-readable error message",
              "type": "string"
            }
          },
          "required": [
            "code",
            "message"
          ],
          "title": "ApiError",
          "type": "object"
        },
        "category": "api",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/api/ApiError.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "3ac77c9f8d09bf2302a7df80e8e3cbc82de8f09971306d14546ee3a4f5b362fb",
      "created_at": "2025-12-18T18:59:43.223540Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MessageRole",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "User",
            "Assistant",
            "System"
          ],
          "title": "MessageRole",
          "type": "string"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/MessageRole.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "034cb8e362ca45d593b359199a8b8106d90f03ef620931c15a80b6f99140441d",
      "created_at": "2025-12-18T18:59:43.223626Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ThreadSummary",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Summary of a thread for list views",
          "properties": {
            "id": {
              "description": "Thread ID",
              "format": "uuid",
              "type": "string"
            },
            "is_open": {
              "description": "Whether thread is open",
              "type": "boolean"
            },
            "message_count": {
              "description": "Number of messages",
              "format": "uint",
              "minimum": 0.0,
              "type": "integer"
            },
            "preview": {
              "description": "Preview text (truncated first message)",
              "type": "string"
            },
            "updated_at": {
              "description": "Last updated timestamp",
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "id",
            "is_open",
            "message_count",
            "preview",
            "updated_at"
          ],
          "title": "ThreadSummary",
          "type": "object"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/ThreadSummary.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "8b9a1a3ef2c05e9017c7a741812b20670ab85428067201ed11603fbae097ab5f",
      "created_at": "2025-12-18T18:59:43.223771Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Model",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ChannelType": {
              "enum": [
                "Personal",
                "Family",
                "Shared"
              ],
              "type": "string"
            }
          },
          "properties": {
            "channel_type": {
              "$ref": "#/definitions/ChannelType"
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "description": {
              "type": [
                "string",
                "null"
              ]
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "owner_id": {
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "settings": true,
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            },
            "updated_at": {
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "channel_type",
            "created_at",
            "id",
            "name",
            "settings",
            "tenant_id",
            "updated_at"
          ],
          "title": "Model",
          "type": "object"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/Model.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "13ae5c93a8dd6211b7f5c11e4fae2b153ba9c2ae53988627f8288fc522bc68eb",
      "created_at": "2025-12-18T18:59:43.223864Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MagicLinkPurpose",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "Login",
            "Signup",
            "VerifyEmail",
            "PasswordReset"
          ],
          "title": "MagicLinkPurpose",
          "type": "string"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/MagicLinkPurpose.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6c8069ccb3b8dd209c87500765a3c95104debad900643bad637826873325a1ad",
      "created_at": "2025-12-18T18:59:43.223963Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Focus",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            },
            "QuantizedCoord": {
              "description": "A quantized coordinate in the 3D VAE Manifold Uses i64 for precision in physics calculations",
              "format": "int64",
              "type": "integer"
            }
          },
          "description": "A user-declared thematic goal or life chapter. Acts as a \"Attractor Basin\" in the VAE manifold.",
          "properties": {
            "active_since": {
              "format": "date-time",
              "type": "string"
            },
            "amplitude": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Amplitude (Mass):** The strength of the field excitation. High Amplitude: Core Beliefs, Long-term Memories. Hard to annihilate. Low Amplitude: Fleeting thoughts. Easily absorbed back into the vacuum."
            },
            "amplitudes": {
              "description": "The \"Wavefunction\" or \"Hologram\" of the entity. Stored as a list of (Real, Imaginary) tuples. This represents Amplitude (Magnitude) and Phase (Angle).\n\nIn a Vector DB, this is flattened to [Re1, Im1, Re2, Im2...].",
              "items": {
                "items": [
                  {
                    "format": "double",
                    "type": "number"
                  },
                  {
                    "format": "double",
                    "type": "number"
                  }
                ],
                "maxItems": 2,
                "minItems": 2,
                "type": "array"
              },
              "type": "array"
            },
            "coherence": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "How \"sharp\" the wave is (0.0 = Cloud/Vague, 1.0 = Particle/Fact). Low coherence allows for \"Tunneling\" (associative leaps)."
            },
            "created_at": {
              "description": "When this entity was created",
              "format": "date-time",
              "type": "string"
            },
            "energy": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Energy (Activation):** The current potential/kinetic energy of the excitation."
            },
            "frequency": {
              "description": "The dominant frequency of the pattern (for Holonomic resonance).",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "id": {
              "description": "Unique identifier for this entity",
              "format": "uuid",
              "type": "string"
            },
            "metadata": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "position": {
              "description": "The location in the 3D VAE Manifold where the field is excited",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            },
            "temperature": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Temperature (Volatility):** Internal kinetic energy of the field at this point. High Temp: The field vibrates (High uncertainty/plasticity). Low Temp: The field is frozen (Crystallized/Immutable)."
            },
            "tenant_id": {
              "description": "Tenant (family/user) this entity belongs to",
              "format": "uuid",
              "type": "string"
            },
            "text": {
              "type": "string"
            },
            "velocity": {
              "description": "The rate of change of the field amplitude at this location (Cognitive Drift)",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            }
          },
          "required": [
            "active_since",
            "amplitude",
            "amplitudes",
            "coherence",
            "created_at",
            "energy",
            "id",
            "metadata",
            "position",
            "temperature",
            "tenant_id",
            "text",
            "velocity"
          ],
          "title": "Focus",
          "type": "object"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/Focus.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4937e37070f2fa5d3be6f9e2ea5a691ea3ce302e8470feb4b481445f06e05449",
      "created_at": "2025-12-18T18:59:43.224054Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ThreadMessage",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AgentMessageType": {
              "description": "Agent message types for different response formats\n\nThe agentic system can produce various types of responses depending on what the agent is doing. This enum captures all possible message types.",
              "oneOf": [
                {
                  "description": "A log message from the agent (debugging, status updates)",
                  "properties": {
                    "content": {
                      "type": "string"
                    },
                    "level": {
                      "$ref": "#/definitions/LogLevel"
                    },
                    "message_type": {
                      "enum": [
                        "log"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "content",
                    "level",
                    "message_type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A question the agent is asking the user",
                  "properties": {
                    "message_type": {
                      "enum": [
                        "question"
                      ],
                      "type": "string"
                    },
                    "options": {
                      "default": null,
                      "items": {
                        "type": "string"
                      },
                      "type": [
                        "array",
                        "null"
                      ]
                    },
                    "prompt": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message_type",
                    "prompt"
                  ],
                  "type": "object"
                },
                {
                  "description": "An insight derived by the agent",
                  "properties": {
                    "confidence": {
                      "format": "double",
                      "type": "number"
                    },
                    "domain": {
                      "default": null,
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "message_type": {
                      "enum": [
                        "insight"
                      ],
                      "type": "string"
                    },
                    "summary": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "confidence",
                    "message_type",
                    "summary"
                  ],
                  "type": "object"
                },
                {
                  "description": "A detailed analysis result",
                  "properties": {
                    "domain": {
                      "type": "string"
                    },
                    "findings": {
                      "items": {
                        "$ref": "#/definitions/Finding"
                      },
                      "type": "array"
                    },
                    "message_type": {
                      "enum": [
                        "analysis"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "domain",
                    "findings",
                    "message_type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A command/action the agent wants to execute",
                  "properties": {
                    "action": {
                      "type": "string"
                    },
                    "message_type": {
                      "enum": [
                        "command"
                      ],
                      "type": "string"
                    },
                    "parameters": true
                  },
                  "required": [
                    "action",
                    "message_type",
                    "parameters"
                  ],
                  "type": "object"
                },
                {
                  "description": "A simple text response",
                  "properties": {
                    "content": {
                      "type": "string"
                    },
                    "message_type": {
                      "enum": [
                        "text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "content",
                    "message_type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Progress update during long-running tasks",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "message_type": {
                      "enum": [
                        "progress"
                      ],
                      "type": "string"
                    },
                    "percent_complete": {
                      "default": null,
                      "format": "double",
                      "type": [
                        "number",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "message",
                    "message_type"
                  ],
                  "type": "object"
                }
              ]
            },
            "Finding": {
              "description": "A finding from an analysis agent",
              "properties": {
                "confidence": {
                  "default": null,
                  "description": "Confidence score (0.0 to 1.0)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "description": {
                  "description": "Detailed description",
                  "type": "string"
                },
                "related_entities": {
                  "default": [],
                  "description": "Related entity IDs",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "title": {
                  "description": "Title or label of the finding",
                  "type": "string"
                }
              },
              "required": [
                "description",
                "title"
              ],
              "type": "object"
            },
            "LogLevel": {
              "description": "Log level for agent log messages",
              "enum": [
                "debug",
                "info",
                "warning",
                "error"
              ],
              "type": "string"
            },
            "MessageRole": {
              "description": "Role in a chat conversation",
              "oneOf": [
                {
                  "description": "System instructions",
                  "enum": [
                    "system"
                  ],
                  "type": "string"
                },
                {
                  "description": "User input",
                  "enum": [
                    "user"
                  ],
                  "type": "string"
                },
                {
                  "description": "Assistant response",
                  "enum": [
                    "assistant"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "A single message within a conversation thread",
          "properties": {
            "agent_speaker": {
              "default": null,
              "description": "Which agent sent this message (if role is Assistant)",
              "type": [
                "string",
                "null"
              ]
            },
            "content": {
              "default": null,
              "description": "Text content of the message",
              "type": [
                "string",
                "null"
              ]
            },
            "id": {
              "description": "Unique message ID",
              "format": "uuid",
              "type": "string"
            },
            "message_type": {
              "anyOf": [
                {
                  "$ref": "#/definitions/AgentMessageType"
                },
                {
                  "type": "null"
                }
              ],
              "default": null,
              "description": "Structured message type (for agent messages)"
            },
            "metadata": {
              "default": null,
              "description": "Optional metadata"
            },
            "role": {
              "allOf": [
                {
                  "$ref": "#/definitions/MessageRole"
                }
              ],
              "description": "Role of the message sender"
            },
            "thread_id": {
              "description": "ID of the thread this message belongs to",
              "format": "uuid",
              "type": "string"
            },
            "timestamp": {
              "description": "When the message was created",
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "id",
            "role",
            "thread_id",
            "timestamp"
          ],
          "title": "ThreadMessage",
          "type": "object"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/ThreadMessage.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "89ea0743713e83db25847ad44e31959b2af0d8579496d5b030315db816b3289e",
      "created_at": "2025-12-18T18:59:43.224165Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Filament",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            },
            "QuantizedCoord": {
              "description": "A quantized coordinate in the 3D VAE Manifold Uses i64 for precision in physics calculations",
              "format": "int64",
              "type": "integer"
            }
          },
          "description": "A recurring internal pattern (Self/Identity). The continuous phase trajectory of the user through the manifold.",
          "properties": {
            "amplitude": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Amplitude (Mass):** The strength of the field excitation. High Amplitude: Core Beliefs, Long-term Memories. Hard to annihilate. Low Amplitude: Fleeting thoughts. Easily absorbed back into the vacuum."
            },
            "amplitudes": {
              "description": "The \"Wavefunction\" or \"Hologram\" of the entity. Stored as a list of (Real, Imaginary) tuples. This represents Amplitude (Magnitude) and Phase (Angle).\n\nIn a Vector DB, this is flattened to [Re1, Im1, Re2, Im2...].",
              "items": {
                "items": [
                  {
                    "format": "double",
                    "type": "number"
                  },
                  {
                    "format": "double",
                    "type": "number"
                  }
                ],
                "maxItems": 2,
                "minItems": 2,
                "type": "array"
              },
              "type": "array"
            },
            "coherence": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "How \"sharp\" the wave is (0.0 = Cloud/Vague, 1.0 = Particle/Fact). Low coherence allows for \"Tunneling\" (associative leaps)."
            },
            "created_at": {
              "description": "When this entity was created",
              "format": "date-time",
              "type": "string"
            },
            "energy": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Energy (Activation):** The current potential/kinetic energy of the excitation."
            },
            "frequency": {
              "description": "The dominant frequency of the pattern (for Holonomic resonance).",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "id": {
              "description": "Unique identifier for this entity",
              "format": "uuid",
              "type": "string"
            },
            "metadata": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "position": {
              "description": "The location in the 3D VAE Manifold where the field is excited",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            },
            "source_pulses": {
              "description": "The source pulses (internal states) that form this strand.",
              "items": {
                "format": "uuid",
                "type": "string"
              },
              "type": "array"
            },
            "temperature": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Temperature (Volatility):** Internal kinetic energy of the field at this point. High Temp: The field vibrates (High uncertainty/plasticity). Low Temp: The field is frozen (Crystallized/Immutable)."
            },
            "tenant_id": {
              "description": "Tenant (family/user) this entity belongs to",
              "format": "uuid",
              "type": "string"
            },
            "text": {
              "type": "string"
            },
            "velocity": {
              "description": "The rate of change of the field amplitude at this location (Cognitive Drift)",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            }
          },
          "required": [
            "amplitude",
            "amplitudes",
            "coherence",
            "created_at",
            "energy",
            "id",
            "metadata",
            "position",
            "source_pulses",
            "temperature",
            "tenant_id",
            "text",
            "velocity"
          ],
          "title": "Filament",
          "type": "object"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/Filament.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "7774edb37aa0c33cdf9328bcb644c97da9bb56b96cee412b37724c9442d4da5b",
      "created_at": "2025-12-18T18:59:43.224334Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Thread",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            },
            "QuantizedCoord": {
              "description": "A quantized coordinate in the 3D VAE Manifold Uses i64 for precision in physics calculations",
              "format": "int64",
              "type": "integer"
            },
            "ThreadType": {
              "enum": [
                "Person",
                "Place",
                "Concept",
                "GenericObject"
              ],
              "type": "string"
            }
          },
          "description": "Core identity component that all entities possess",
          "properties": {
            "amplitude": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Amplitude (Mass):** The strength of the field excitation. High Amplitude: Core Beliefs, Long-term Memories. Hard to annihilate. Low Amplitude: Fleeting thoughts. Easily absorbed back into the vacuum."
            },
            "amplitudes": {
              "description": "The \"Wavefunction\" or \"Hologram\" of the entity. Stored as a list of (Real, Imaginary) tuples. This represents Amplitude (Magnitude) and Phase (Angle).\n\nIn a Vector DB, this is flattened to [Re1, Im1, Re2, Im2...].",
              "items": {
                "items": [
                  {
                    "format": "double",
                    "type": "number"
                  },
                  {
                    "format": "double",
                    "type": "number"
                  }
                ],
                "maxItems": 2,
                "minItems": 2,
                "type": "array"
              },
              "type": "array"
            },
            "coherence": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "How \"sharp\" the wave is (0.0 = Cloud/Vague, 1.0 = Particle/Fact). Low coherence allows for \"Tunneling\" (associative leaps)."
            },
            "created_at": {
              "description": "When this entity was created",
              "format": "date-time",
              "type": "string"
            },
            "energy": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Energy (Activation):** The current potential/kinetic energy of the excitation."
            },
            "frequency": {
              "description": "The dominant frequency of the pattern (for Holonomic resonance).",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "id": {
              "description": "Unique identifier for this entity",
              "format": "uuid",
              "type": "string"
            },
            "metadata": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "position": {
              "description": "The location in the 3D VAE Manifold where the field is excited",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            },
            "temperature": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Temperature (Volatility):** Internal kinetic energy of the field at this point. High Temp: The field vibrates (High uncertainty/plasticity). Low Temp: The field is frozen (Crystallized/Immutable)."
            },
            "tenant_id": {
              "description": "Tenant (family/user) this entity belongs to",
              "format": "uuid",
              "type": "string"
            },
            "text": {
              "type": "string"
            },
            "thread_type": {
              "$ref": "#/definitions/ThreadType"
            },
            "velocity": {
              "description": "The rate of change of the field amplitude at this location (Cognitive Drift)",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            }
          },
          "required": [
            "amplitude",
            "amplitudes",
            "coherence",
            "created_at",
            "energy",
            "id",
            "metadata",
            "position",
            "temperature",
            "tenant_id",
            "text",
            "thread_type",
            "velocity"
          ],
          "title": "Thread",
          "type": "object"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/Thread.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "1f381593501987dda4162fcc73f3cbd20e5a7a2b7f477a10e05a3bd157aa830e",
      "created_at": "2025-12-18T18:59:43.224484Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Shuttle",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "HeddleEntityType": {
              "description": "The fundamental Entity Types recognized by The Heddle Classification Engine. These map to the Symmetric Seven ontology.",
              "oneOf": [
                {
                  "description": "A specific event that happened in the past (Narrative/External Particle)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A definition of a person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "A statement about the quality of a relationship (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "An internal state snapshot (Internal Particle)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                }
              ]
            },
            "MessageIntent": {
              "description": "The primary intent of the user's message",
              "oneOf": [
                {
                  "description": "Recording something - events, states, observations (current default)",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information back",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting system to make connections or derive insights",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities, threads, or past entries",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis, patterns, or reflection on data",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Giving a command/instruction to the system",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Conversational/social - greetings, acknowledgments",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                }
              ]
            },
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            },
            "ShuttleStatus": {
              "description": "Processing status for a Shuttle",
              "oneOf": [
                {
                  "description": "Segment received, not yet processed",
                  "enum": [
                    "pending"
                  ],
                  "type": "string"
                },
                {
                  "description": "Currently being classified by LLM",
                  "enum": [
                    "classifying"
                  ],
                  "type": "string"
                },
                {
                  "description": "Classification complete, spawning entities",
                  "enum": [
                    "spawning"
                  ],
                  "type": "string"
                },
                {
                  "description": "All processing complete",
                  "enum": [
                    "complete"
                  ],
                  "type": "string"
                },
                {
                  "description": "Processing failed",
                  "enum": [
                    "failed"
                  ],
                  "type": "string"
                }
              ]
            },
            "WeaveUnit": {
              "description": "A WeaveUnit is a single segment extracted from a Weave. It's a transient container used for classification routing. Physics are extracted by the LLM but passed directly to spawned entities, not stored on the WeaveUnit itself.",
              "properties": {
                "classifications": {
                  "default": [],
                  "description": "Classifications in superposition (determines which entity types to spawn)",
                  "items": {
                    "$ref": "#/definitions/WeaveUnitClassification"
                  },
                  "type": "array"
                },
                "content": {
                  "description": "The extracted/cleaned text content for this segment",
                  "type": "string"
                },
                "index": {
                  "description": "Index of this unit within the shuttle (0-based)",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "primary_thread": {
                  "description": "Primary thread: the main subject/actor of this unit Used for entity resolution (Stitch) downstream",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "purpose": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/MessageIntent"
                    }
                  ],
                  "default": "LOG",
                  "description": "Purpose of this specific unit (LOG, QUERY, COMMAND, INFER, REFERENCE) Determines how this unit is processed - only LOG units spawn entities"
                },
                "secondary_threads": {
                  "description": "Secondary threads: other people/places/things mentioned Allows capturing companions, locations, etc.",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "spawned_entity_ids": {
                  "default": [],
                  "description": "IDs of entities spawned from this unit (the actual simulation objects)",
                  "items": {
                    "format": "uuid",
                    "type": "string"
                  },
                  "type": "array"
                },
                "temporal_marker": {
                  "description": "Temporal marker: when this event/state occurred Can be absolute (\"6pm\"), relative (\"today\"), or frequency (\"once per hour\")",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content",
                "index"
              ],
              "type": "object"
            },
            "WeaveUnitClassification": {
              "description": "Classification result for a weave unit (determines which entity type to spawn)",
              "properties": {
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/HeddleEntityType"
                    }
                  ],
                  "description": "The entity type this unit may become"
                },
                "weight": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/NormalizedFloat"
                    }
                  ],
                  "description": "Confidence weight (0.0 to 1.0)"
                }
              },
              "required": [
                "entity_type",
                "weight"
              ],
              "type": "object"
            }
          },
          "description": "A Shuttle carries WeaveUnits (segments) for processing",
          "properties": {
            "completed_at": {
              "description": "When processing completed (or failed)",
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "course_id": {
              "description": "Reference to the parent Course (1:1)",
              "format": "uuid",
              "type": "string"
            },
            "created_at": {
              "description": "When this shuttle was created",
              "format": "date-time",
              "type": "string"
            },
            "error": {
              "description": "Error message if shuttle failed",
              "type": [
                "string",
                "null"
              ]
            },
            "id": {
              "description": "Unique identifier for this shuttle",
              "format": "uuid",
              "type": "string"
            },
            "status": {
              "allOf": [
                {
                  "$ref": "#/definitions/ShuttleStatus"
                }
              ],
              "description": "Processing status"
            },
            "weave_units": {
              "default": [],
              "description": "The weave units (segments) being carried",
              "items": {
                "$ref": "#/definitions/WeaveUnit"
              },
              "type": "array"
            }
          },
          "required": [
            "course_id",
            "created_at",
            "id",
            "status"
          ],
          "title": "Shuttle",
          "type": "object"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/Shuttle.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e064e124e00bc849da38d0db5ec0e064ea7f27f78064c4366fee746414da21d1",
      "created_at": "2025-12-18T18:59:43.224594Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "InviteRole",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "Admin",
            "Member",
            "Guest"
          ],
          "title": "InviteRole",
          "type": "string"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/InviteRole.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "4c8f7d9487ee86df9461f4b1645f910e569e989649d68166fba312d3340a1e0c",
      "created_at": "2025-12-18T18:59:43.224754Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Intent",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            },
            "QuantizedCoord": {
              "description": "A quantized coordinate in the 3D VAE Manifold Uses i64 for precision in physics calculations",
              "format": "int64",
              "type": "integer"
            }
          },
          "description": "A specific, bounded future action with potential energy.",
          "properties": {
            "activation_energy": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Activation Energy (Invested Work)** Thermodynamics: The cumulative work performed on the system. Used to calculate \"Sunk Cost\" gravity."
            },
            "amplitude": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Amplitude (Mass):** The strength of the field excitation. High Amplitude: Core Beliefs, Long-term Memories. Hard to annihilate. Low Amplitude: Fleeting thoughts. Easily absorbed back into the vacuum."
            },
            "completion": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Completion (Inverse Discrepancy)** Cybernetics: 1.0 - Error Signal. How close the system is to the Goal State."
            },
            "created_at": {
              "description": "When this entity was created",
              "format": "date-time",
              "type": "string"
            },
            "energy": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Energy (Activation):** The current potential/kinetic energy of the excitation."
            },
            "entropy": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Entropy (Disorder)** Information Theory: The uncertainty or \"noise\" in the process. High Entropy: Exploring, Brainstorming, Chaotic. Low Entropy: Executing, Refined, Linear."
            },
            "id": {
              "description": "Unique identifier for this entity",
              "format": "uuid",
              "type": "string"
            },
            "metadata": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "position": {
              "description": "The location in the 3D VAE Manifold where the field is excited",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            },
            "primary_status_label": {
              "type": [
                "string",
                "null"
              ]
            },
            "target_date": {
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "temperature": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Temperature (Volatility):** Internal kinetic energy of the field at this point. High Temp: The field vibrates (High uncertainty/plasticity). Low Temp: The field is frozen (Crystallized/Immutable)."
            },
            "tenant_id": {
              "description": "Tenant (family/user) this entity belongs to",
              "format": "uuid",
              "type": "string"
            },
            "text": {
              "type": "string"
            },
            "velocity": {
              "description": "The rate of change of the field amplitude at this location (Cognitive Drift)",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            }
          },
          "required": [
            "activation_energy",
            "amplitude",
            "completion",
            "created_at",
            "energy",
            "entropy",
            "id",
            "metadata",
            "position",
            "temperature",
            "tenant_id",
            "text",
            "velocity"
          ],
          "title": "Intent",
          "type": "object"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/Intent.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "1498be1ce05772e30772f2f5201357c0ed5a3c8e1a38b1b254a1b0df6cabbaca",
      "created_at": "2025-12-18T18:59:43.224848Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "MemberRole",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "Admin",
            "Member",
            "Guest"
          ],
          "title": "MemberRole",
          "type": "string"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/MemberRole.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "979b543971fbf7fba3cfb36660f97981a7b33c3e09ad12499ba7a498755b0315",
      "created_at": "2025-12-18T18:59:43.224929Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Course",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "CourseDetails": {
              "description": "Workflow metadata for a Course",
              "properties": {
                "latency_ms": {
                  "default": 0,
                  "description": "Total processing time in milliseconds",
                  "format": "uint64",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "model": {
                  "description": "Model used for classification",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "provider": {
                  "description": "AI provider used for classification",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "spawn_count": {
                  "default": 0,
                  "description": "Number of entities spawned into the simulation",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "unit_count": {
                  "default": 0,
                  "description": "Number of weave units (segments)",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                }
              },
              "type": "object"
            },
            "CourseStatus": {
              "description": "Processing status for a Course",
              "oneOf": [
                {
                  "description": "User input received, not yet segmented",
                  "enum": [
                    "received"
                  ],
                  "type": "string"
                },
                {
                  "description": "Segmenting the input via Heddle",
                  "enum": [
                    "segmenting"
                  ],
                  "type": "string"
                },
                {
                  "description": "All shuttles are processing segments",
                  "enum": [
                    "processing"
                  ],
                  "type": "string"
                },
                {
                  "description": "All shuttles complete, generating response",
                  "enum": [
                    "responding"
                  ],
                  "type": "string"
                },
                {
                  "description": "Course complete with response",
                  "enum": [
                    "complete"
                  ],
                  "type": "string"
                },
                {
                  "description": "Course failed",
                  "enum": [
                    "failed"
                  ],
                  "type": "string"
                }
              ]
            },
            "HeddleEntityType": {
              "description": "The fundamental Entity Types recognized by The Heddle Classification Engine. These map to the Symmetric Seven ontology.",
              "oneOf": [
                {
                  "description": "A specific event that happened in the past (Narrative/External Particle)",
                  "enum": [
                    "MOMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A task or goal for the future (Operational/Intentional Particle)",
                  "enum": [
                    "INTENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "A definition of a person, place, or concept (Definitional/Object)",
                  "enum": [
                    "THREAD"
                  ],
                  "type": "string"
                },
                {
                  "description": "A statement about the quality of a relationship (Relational/Connection)",
                  "enum": [
                    "BOND"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring external pattern (External Wave)",
                  "enum": [
                    "MOTIF"
                  ],
                  "type": "string"
                },
                {
                  "description": "A recurring internal pattern (Internal Wave)",
                  "enum": [
                    "FILAMENT"
                  ],
                  "type": "string"
                },
                {
                  "description": "An active thematic goal (Intentional Wave)",
                  "enum": [
                    "FOCUS"
                  ],
                  "type": "string"
                },
                {
                  "description": "An internal state snapshot (Internal Particle)",
                  "enum": [
                    "PULSE"
                  ],
                  "type": "string"
                }
              ]
            },
            "MessageIntent": {
              "description": "The primary intent of the user's message",
              "oneOf": [
                {
                  "description": "Recording something - events, states, observations (current default)",
                  "enum": [
                    "LOG"
                  ],
                  "type": "string"
                },
                {
                  "description": "Asking a question - wants information back",
                  "enum": [
                    "QUERY"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting system to make connections or derive insights",
                  "enum": [
                    "INFER"
                  ],
                  "type": "string"
                },
                {
                  "description": "Looking up specific entities, threads, or past entries",
                  "enum": [
                    "REFERENCE"
                  ],
                  "type": "string"
                },
                {
                  "description": "Requesting analysis, patterns, or reflection on data",
                  "enum": [
                    "REFLECT"
                  ],
                  "type": "string"
                },
                {
                  "description": "Giving a command/instruction to the system",
                  "enum": [
                    "COMMAND"
                  ],
                  "type": "string"
                },
                {
                  "description": "Conversational/social - greetings, acknowledgments",
                  "enum": [
                    "SOCIAL"
                  ],
                  "type": "string"
                }
              ]
            },
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            },
            "Shuttle": {
              "description": "A Shuttle carries WeaveUnits (segments) for processing",
              "properties": {
                "completed_at": {
                  "description": "When processing completed (or failed)",
                  "format": "date-time",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "course_id": {
                  "description": "Reference to the parent Course (1:1)",
                  "format": "uuid",
                  "type": "string"
                },
                "created_at": {
                  "description": "When this shuttle was created",
                  "format": "date-time",
                  "type": "string"
                },
                "error": {
                  "description": "Error message if shuttle failed",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "id": {
                  "description": "Unique identifier for this shuttle",
                  "format": "uuid",
                  "type": "string"
                },
                "status": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/ShuttleStatus"
                    }
                  ],
                  "description": "Processing status"
                },
                "weave_units": {
                  "default": [],
                  "description": "The weave units (segments) being carried",
                  "items": {
                    "$ref": "#/definitions/WeaveUnit"
                  },
                  "type": "array"
                }
              },
              "required": [
                "course_id",
                "created_at",
                "id",
                "status"
              ],
              "type": "object"
            },
            "ShuttleStatus": {
              "description": "Processing status for a Shuttle",
              "oneOf": [
                {
                  "description": "Segment received, not yet processed",
                  "enum": [
                    "pending"
                  ],
                  "type": "string"
                },
                {
                  "description": "Currently being classified by LLM",
                  "enum": [
                    "classifying"
                  ],
                  "type": "string"
                },
                {
                  "description": "Classification complete, spawning entities",
                  "enum": [
                    "spawning"
                  ],
                  "type": "string"
                },
                {
                  "description": "All processing complete",
                  "enum": [
                    "complete"
                  ],
                  "type": "string"
                },
                {
                  "description": "Processing failed",
                  "enum": [
                    "failed"
                  ],
                  "type": "string"
                }
              ]
            },
            "Weave": {
              "description": "A Weave is the raw user input - their message to Familiar",
              "properties": {
                "context": {
                  "description": "Optional context provided with the message",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "raw_content": {
                  "description": "The raw text content from the user",
                  "type": "string"
                }
              },
              "required": [
                "raw_content"
              ],
              "type": "object"
            },
            "WeaveUnit": {
              "description": "A WeaveUnit is a single segment extracted from a Weave. It's a transient container used for classification routing. Physics are extracted by the LLM but passed directly to spawned entities, not stored on the WeaveUnit itself.",
              "properties": {
                "classifications": {
                  "default": [],
                  "description": "Classifications in superposition (determines which entity types to spawn)",
                  "items": {
                    "$ref": "#/definitions/WeaveUnitClassification"
                  },
                  "type": "array"
                },
                "content": {
                  "description": "The extracted/cleaned text content for this segment",
                  "type": "string"
                },
                "index": {
                  "description": "Index of this unit within the shuttle (0-based)",
                  "format": "uint",
                  "minimum": 0.0,
                  "type": "integer"
                },
                "primary_thread": {
                  "description": "Primary thread: the main subject/actor of this unit Used for entity resolution (Stitch) downstream",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "purpose": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/MessageIntent"
                    }
                  ],
                  "default": "LOG",
                  "description": "Purpose of this specific unit (LOG, QUERY, COMMAND, INFER, REFERENCE) Determines how this unit is processed - only LOG units spawn entities"
                },
                "secondary_threads": {
                  "description": "Secondary threads: other people/places/things mentioned Allows capturing companions, locations, etc.",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "spawned_entity_ids": {
                  "default": [],
                  "description": "IDs of entities spawned from this unit (the actual simulation objects)",
                  "items": {
                    "format": "uuid",
                    "type": "string"
                  },
                  "type": "array"
                },
                "temporal_marker": {
                  "description": "Temporal marker: when this event/state occurred Can be absolute (\"6pm\"), relative (\"today\"), or frequency (\"once per hour\")",
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "content",
                "index"
              ],
              "type": "object"
            },
            "WeaveUnitClassification": {
              "description": "Classification result for a weave unit (determines which entity type to spawn)",
              "properties": {
                "entity_type": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/HeddleEntityType"
                    }
                  ],
                  "description": "The entity type this unit may become"
                },
                "weight": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/NormalizedFloat"
                    }
                  ],
                  "description": "Confidence weight (0.0 to 1.0)"
                }
              },
              "required": [
                "entity_type",
                "weight"
              ],
              "type": "object"
            }
          },
          "description": "A Course is a workflow container for a single user interaction",
          "properties": {
            "completed_at": {
              "description": "When workflow completed (or failed)",
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "created_at": {
              "description": "When this course was created",
              "format": "date-time",
              "type": "string"
            },
            "details": {
              "allOf": [
                {
                  "$ref": "#/definitions/CourseDetails"
                }
              ],
              "description": "Workflow metadata"
            },
            "id": {
              "description": "Unique identifier for this course",
              "format": "uuid",
              "type": "string"
            },
            "response": {
              "description": "The final user-facing response",
              "type": [
                "string",
                "null"
              ]
            },
            "shuttle": {
              "allOf": [
                {
                  "$ref": "#/definitions/Shuttle"
                }
              ],
              "description": "The carrier of work (Shuttle) - 1:1 with Course"
            },
            "status": {
              "allOf": [
                {
                  "$ref": "#/definitions/CourseStatus"
                }
              ],
              "description": "Workflow status"
            },
            "tenant_id": {
              "description": "Tenant (family/user) this course belongs to",
              "format": "uuid",
              "type": "string"
            },
            "weave": {
              "allOf": [
                {
                  "$ref": "#/definitions/Weave"
                }
              ],
              "description": "The user's input (Weave)"
            }
          },
          "required": [
            "created_at",
            "details",
            "id",
            "shuttle",
            "status",
            "tenant_id",
            "weave"
          ],
          "title": "Course",
          "type": "object"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/Course.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "8bde4578da768baf0b51ccbf215a875de9c30c8c60d3952ce26ae49d1994e7cd",
      "created_at": "2025-12-18T18:59:43.225052Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Bond",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            },
            "QuantizedCoord": {
              "description": "A quantized coordinate in the 3D VAE Manifold Uses i64 for precision in physics calculations",
              "format": "int64",
              "type": "integer"
            },
            "SignedNormalizedFloat": {
              "description": "A floating-point value normalized between -1.0 and 1.0. Used for polarity (Valence), alignment (Phase), and gradients.",
              "format": "double",
              "type": "number"
            }
          },
          "description": "Core identity component that all entities possess",
          "properties": {
            "amplitude": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Amplitude (Mass):** The strength of the field excitation. High Amplitude: Core Beliefs, Long-term Memories. Hard to annihilate. Low Amplitude: Fleeting thoughts. Easily absorbed back into the vacuum."
            },
            "bond_strength": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "The overall strength or health of the bond. 0.0 = Broken/Weak, 1.0 = Strong/Healthy"
            },
            "created_at": {
              "description": "When this entity was created",
              "format": "date-time",
              "type": "string"
            },
            "damping_coefficient": {
              "description": "The 'inertia' of the bond, representing how quickly it returns to equilibrium. Higher values = slower return to rest (lingering effects). Lower values = quick recovery (resilient).",
              "format": "double",
              "type": "number"
            },
            "energy": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Energy (Activation):** The current potential/kinetic energy of the excitation."
            },
            "formalism": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Formalism (Transactionalism / Spring Stiffness):** 1.0 = Rigid/Brittle (High k). Hard to move, snaps if stretched. 0.0 = Fluid/Elastic (Low k). Easy to stretch, adapts to change."
            },
            "head_thread_id": {
              "format": "uuid",
              "type": "string"
            },
            "id": {
              "description": "Unique identifier for this entity",
              "format": "uuid",
              "type": "string"
            },
            "intimacy": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Intimacy (Communal Strength / Rest Length):** 1.0 = Fusion (Rest Length 0). The entities want to occupy the same space. 0.0 = Estrangement (Max Rest Length)."
            },
            "metadata": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "position": {
              "description": "The location in the 3D VAE Manifold where the field is excited",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            },
            "power_dynamic": {
              "allOf": [
                {
                  "$ref": "#/definitions/SignedNormalizedFloat"
                }
              ],
              "description": "**Power Dynamic (Authority Gradient / Mass Bias):** -1.0 = Target is the Anchor (Infinite Mass relative to Source). 0.0 = Equal Mass (Both move equally). +1.0 = Source is the Anchor."
            },
            "primary_label": {
              "type": [
                "string",
                "null"
              ]
            },
            "spectral_signature": {
              "description": "**Color Filter (Spectral Gating):** If set, this bond only \"lights up\" under specific emotional light. e.g., A \"Work Friend\" bond might only reflect \"Professional\" (Blue) light. Stored as a hex code or vector for the shader.",
              "items": {
                "format": "float",
                "type": "number"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": [
                "array",
                "null"
              ]
            },
            "spring_constant": {
              "description": "The 'stiffness' of the bond, representing its resistance to change. Higher values = more rigid relationship (breaks under stress). Lower values = more flexible relationship (stretches without breaking).",
              "format": "double",
              "type": "number"
            },
            "tail_thread_id": {
              "format": "uuid",
              "type": "string"
            },
            "temperature": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Temperature (Volatility):** Internal kinetic energy of the field at this point. High Temp: The field vibrates (High uncertainty/plasticity). Low Temp: The field is frozen (Crystallized/Immutable)."
            },
            "tenant_id": {
              "description": "Tenant (family/user) this entity belongs to",
              "format": "uuid",
              "type": "string"
            },
            "text": {
              "type": "string"
            },
            "transparency": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Transparency (Refractive Index):** 1.0 = Clear. Looking at the Source reveals the Target (e.g., \"Honest\"). 0.0 = Opaque. The relationship hides the Target (e.g., \"Secretive\")."
            },
            "velocity": {
              "description": "The rate of change of the field amplitude at this location (Cognitive Drift)",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            }
          },
          "required": [
            "amplitude",
            "bond_strength",
            "created_at",
            "damping_coefficient",
            "energy",
            "formalism",
            "head_thread_id",
            "id",
            "intimacy",
            "metadata",
            "position",
            "power_dynamic",
            "spring_constant",
            "tail_thread_id",
            "temperature",
            "tenant_id",
            "text",
            "transparency",
            "velocity"
          ],
          "title": "Bond",
          "type": "object"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/Bond.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "64dbaa0ce4efbd873ea2f7ebcb3dbfe00f819850fba7afa989354db1be594fe2",
      "created_at": "2025-12-18T18:59:43.225268Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "JoinRequestStatus",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "Pending",
            "Approved",
            "Rejected"
          ],
          "title": "JoinRequestStatus",
          "type": "string"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/JoinRequestStatus.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "5d9c0415ea0c03ce93ee4a232f99c966de00755cf1f5ef1dd764c52aed6b098c",
      "created_at": "2025-12-18T18:59:43.225410Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ConversationThread",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "AgentMessageType": {
              "description": "Agent message types for different response formats\n\nThe agentic system can produce various types of responses depending on what the agent is doing. This enum captures all possible message types.",
              "oneOf": [
                {
                  "description": "A log message from the agent (debugging, status updates)",
                  "properties": {
                    "content": {
                      "type": "string"
                    },
                    "level": {
                      "$ref": "#/definitions/LogLevel"
                    },
                    "message_type": {
                      "enum": [
                        "log"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "content",
                    "level",
                    "message_type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A question the agent is asking the user",
                  "properties": {
                    "message_type": {
                      "enum": [
                        "question"
                      ],
                      "type": "string"
                    },
                    "options": {
                      "default": null,
                      "items": {
                        "type": "string"
                      },
                      "type": [
                        "array",
                        "null"
                      ]
                    },
                    "prompt": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "message_type",
                    "prompt"
                  ],
                  "type": "object"
                },
                {
                  "description": "An insight derived by the agent",
                  "properties": {
                    "confidence": {
                      "format": "double",
                      "type": "number"
                    },
                    "domain": {
                      "default": null,
                      "type": [
                        "string",
                        "null"
                      ]
                    },
                    "message_type": {
                      "enum": [
                        "insight"
                      ],
                      "type": "string"
                    },
                    "summary": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "confidence",
                    "message_type",
                    "summary"
                  ],
                  "type": "object"
                },
                {
                  "description": "A detailed analysis result",
                  "properties": {
                    "domain": {
                      "type": "string"
                    },
                    "findings": {
                      "items": {
                        "$ref": "#/definitions/Finding"
                      },
                      "type": "array"
                    },
                    "message_type": {
                      "enum": [
                        "analysis"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "domain",
                    "findings",
                    "message_type"
                  ],
                  "type": "object"
                },
                {
                  "description": "A command/action the agent wants to execute",
                  "properties": {
                    "action": {
                      "type": "string"
                    },
                    "message_type": {
                      "enum": [
                        "command"
                      ],
                      "type": "string"
                    },
                    "parameters": true
                  },
                  "required": [
                    "action",
                    "message_type",
                    "parameters"
                  ],
                  "type": "object"
                },
                {
                  "description": "A simple text response",
                  "properties": {
                    "content": {
                      "type": "string"
                    },
                    "message_type": {
                      "enum": [
                        "text"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "content",
                    "message_type"
                  ],
                  "type": "object"
                },
                {
                  "description": "Progress update during long-running tasks",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "message_type": {
                      "enum": [
                        "progress"
                      ],
                      "type": "string"
                    },
                    "percent_complete": {
                      "default": null,
                      "format": "double",
                      "type": [
                        "number",
                        "null"
                      ]
                    }
                  },
                  "required": [
                    "message",
                    "message_type"
                  ],
                  "type": "object"
                }
              ]
            },
            "Finding": {
              "description": "A finding from an analysis agent",
              "properties": {
                "confidence": {
                  "default": null,
                  "description": "Confidence score (0.0 to 1.0)",
                  "format": "double",
                  "type": [
                    "number",
                    "null"
                  ]
                },
                "description": {
                  "description": "Detailed description",
                  "type": "string"
                },
                "related_entities": {
                  "default": [],
                  "description": "Related entity IDs",
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                "title": {
                  "description": "Title or label of the finding",
                  "type": "string"
                }
              },
              "required": [
                "description",
                "title"
              ],
              "type": "object"
            },
            "LogLevel": {
              "description": "Log level for agent log messages",
              "enum": [
                "debug",
                "info",
                "warning",
                "error"
              ],
              "type": "string"
            },
            "MessageRole": {
              "description": "Role in a chat conversation",
              "oneOf": [
                {
                  "description": "System instructions",
                  "enum": [
                    "system"
                  ],
                  "type": "string"
                },
                {
                  "description": "User input",
                  "enum": [
                    "user"
                  ],
                  "type": "string"
                },
                {
                  "description": "Assistant response",
                  "enum": [
                    "assistant"
                  ],
                  "type": "string"
                }
              ]
            },
            "ThreadMessage": {
              "description": "A single message within a conversation thread",
              "properties": {
                "agent_speaker": {
                  "default": null,
                  "description": "Which agent sent this message (if role is Assistant)",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "content": {
                  "default": null,
                  "description": "Text content of the message",
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "id": {
                  "description": "Unique message ID",
                  "format": "uuid",
                  "type": "string"
                },
                "message_type": {
                  "anyOf": [
                    {
                      "$ref": "#/definitions/AgentMessageType"
                    },
                    {
                      "type": "null"
                    }
                  ],
                  "default": null,
                  "description": "Structured message type (for agent messages)"
                },
                "metadata": {
                  "default": null,
                  "description": "Optional metadata"
                },
                "role": {
                  "allOf": [
                    {
                      "$ref": "#/definitions/MessageRole"
                    }
                  ],
                  "description": "Role of the message sender"
                },
                "thread_id": {
                  "description": "ID of the thread this message belongs to",
                  "format": "uuid",
                  "type": "string"
                },
                "timestamp": {
                  "description": "When the message was created",
                  "format": "date-time",
                  "type": "string"
                }
              },
              "required": [
                "id",
                "role",
                "thread_id",
                "timestamp"
              ],
              "type": "object"
            }
          },
          "description": "A conversation thread (Slack-like linear threading)\n\nEach thread starts with a user message and contains all responses and follow-up messages in a linear sequence.",
          "properties": {
            "created_at": {
              "description": "When the thread was created",
              "format": "date-time",
              "type": "string"
            },
            "id": {
              "description": "Unique thread ID",
              "format": "uuid",
              "type": "string"
            },
            "is_open": {
              "description": "Whether the thread is still active/open",
              "type": "boolean"
            },
            "messages": {
              "description": "All messages in the thread (in chronological order)",
              "items": {
                "$ref": "#/definitions/ThreadMessage"
              },
              "type": "array"
            },
            "metadata": {
              "default": null,
              "description": "Optional metadata"
            },
            "parent_message_id": {
              "description": "ID of the original user message that started the thread",
              "format": "uuid",
              "type": "string"
            },
            "summary": {
              "default": null,
              "description": "Summary of the thread (for display in lists)",
              "type": [
                "string",
                "null"
              ]
            },
            "tenant_id": {
              "description": "Tenant ID for multi-tenancy",
              "format": "uuid",
              "type": "string"
            },
            "updated_at": {
              "description": "When the thread was last updated",
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "created_at",
            "id",
            "is_open",
            "messages",
            "parent_message_id",
            "tenant_id",
            "updated_at"
          ],
          "title": "ConversationThread",
          "type": "object"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/ConversationThread.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6e65d70cfe3852b7aa71a716866448543825ebc69b394fae0a326318bd7231d8",
      "created_at": "2025-12-18T18:59:43.225515Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "InviteType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "Email",
            "Code"
          ],
          "title": "InviteType",
          "type": "string"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/InviteType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "c5c7d99abb9365c8007449d7af5aac75416d941a7b2e893bfd7d456d241ef031",
      "created_at": "2025-12-18T18:59:43.225677Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Moment",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "MomentType": {
              "enum": [
                "Event",
                "Realization",
                "Interaction",
                "Observation"
              ],
              "type": "string"
            },
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            },
            "QuantizedCoord": {
              "description": "A quantized coordinate in the 3D VAE Manifold Uses i64 for precision in physics calculations",
              "format": "int64",
              "type": "integer"
            }
          },
          "description": "A classical entity representing a specific, objective event in the past. This is the atomic unit of episodic memory (The Particle).",
          "properties": {
            "amplitude": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Amplitude (Mass):** The strength of the field excitation. High Amplitude: Core Beliefs, Long-term Memories. Hard to annihilate. Low Amplitude: Fleeting thoughts. Easily absorbed back into the vacuum."
            },
            "amplitudes": {
              "description": "The \"Wavefunction\" or \"Hologram\" of the entity. Stored as a list of (Real, Imaginary) tuples. This represents Amplitude (Magnitude) and Phase (Angle).\n\nIn a Vector DB, this is flattened to [Re1, Im1, Re2, Im2...].",
              "items": {
                "items": [
                  {
                    "format": "double",
                    "type": "number"
                  },
                  {
                    "format": "double",
                    "type": "number"
                  }
                ],
                "maxItems": 2,
                "minItems": 2,
                "type": "array"
              },
              "type": "array"
            },
            "coherence": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "How \"sharp\" the wave is (0.0 = Cloud/Vague, 1.0 = Particle/Fact). Low coherence allows for \"Tunneling\" (associative leaps)."
            },
            "created_at": {
              "description": "When this entity was created",
              "format": "date-time",
              "type": "string"
            },
            "energy": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Energy (Activation):** The current potential/kinetic energy of the excitation."
            },
            "frequency": {
              "description": "The dominant frequency of the pattern (for Holonomic resonance).",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "id": {
              "description": "Unique identifier for this entity",
              "format": "uuid",
              "type": "string"
            },
            "metadata": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "moment_type": {
              "$ref": "#/definitions/MomentType"
            },
            "position": {
              "description": "The location in the 3D VAE Manifold where the field is excited",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            },
            "temperature": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Temperature (Volatility):** Internal kinetic energy of the field at this point. High Temp: The field vibrates (High uncertainty/plasticity). Low Temp: The field is frozen (Crystallized/Immutable)."
            },
            "tenant_id": {
              "description": "Tenant (family/user) this entity belongs to",
              "format": "uuid",
              "type": "string"
            },
            "text": {
              "type": "string"
            },
            "velocity": {
              "description": "The rate of change of the field amplitude at this location (Cognitive Drift)",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            }
          },
          "required": [
            "amplitude",
            "amplitudes",
            "coherence",
            "created_at",
            "energy",
            "id",
            "metadata",
            "moment_type",
            "position",
            "temperature",
            "tenant_id",
            "text",
            "velocity"
          ],
          "title": "Moment",
          "type": "object"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/Moment.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "39a2c72507b9a06d475c1751b416c60362a5c85ad2587e28642e387663fe55f9",
      "created_at": "2025-12-18T18:59:43.225777Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityStatus",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "Pending",
            "Approved",
            "Rejected",
            "AutoSpawned"
          ],
          "title": "EntityStatus",
          "type": "string"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/EntityStatus.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6ff989d3ed7ace5403faf27e4f48bf476696b6a1b05b904827077c3d582bb251",
      "created_at": "2025-12-18T18:59:43.225929Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ChannelType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "Personal",
            "Family",
            "Shared"
          ],
          "title": "ChannelType",
          "type": "string"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/ChannelType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e8e707e6268ffbee0d5ca3b52d96b1fcae1c5aa1224ef56045095a75ba2c9c91",
      "created_at": "2025-12-18T18:59:43.226006Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Motif",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            },
            "QuantizedCoord": {
              "description": "A quantized coordinate in the 3D VAE Manifold Uses i64 for precision in physics calculations",
              "format": "int64",
              "type": "integer"
            }
          },
          "description": "A recurring pattern of subjective experiences (External Wave). Formed by the constructive interference of many Moments.",
          "properties": {
            "amplitude": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Amplitude (Mass):** The strength of the field excitation. High Amplitude: Core Beliefs, Long-term Memories. Hard to annihilate. Low Amplitude: Fleeting thoughts. Easily absorbed back into the vacuum."
            },
            "amplitudes": {
              "description": "The \"Wavefunction\" or \"Hologram\" of the entity. Stored as a list of (Real, Imaginary) tuples. This represents Amplitude (Magnitude) and Phase (Angle).\n\nIn a Vector DB, this is flattened to [Re1, Im1, Re2, Im2...].",
              "items": {
                "items": [
                  {
                    "format": "double",
                    "type": "number"
                  },
                  {
                    "format": "double",
                    "type": "number"
                  }
                ],
                "maxItems": 2,
                "minItems": 2,
                "type": "array"
              },
              "type": "array"
            },
            "coherence": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "How \"sharp\" the wave is (0.0 = Cloud/Vague, 1.0 = Particle/Fact). Low coherence allows for \"Tunneling\" (associative leaps)."
            },
            "created_at": {
              "description": "When this entity was created",
              "format": "date-time",
              "type": "string"
            },
            "energy": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Energy (Activation):** The current potential/kinetic energy of the excitation."
            },
            "frequency": {
              "description": "The dominant frequency of the pattern (for Holonomic resonance).",
              "format": "double",
              "type": [
                "number",
                "null"
              ]
            },
            "id": {
              "description": "Unique identifier for this entity",
              "format": "uuid",
              "type": "string"
            },
            "metadata": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "position": {
              "description": "The location in the 3D VAE Manifold where the field is excited",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            },
            "source_moments": {
              "description": "The source moments that collapsed into this pattern.",
              "items": {
                "format": "uuid",
                "type": "string"
              },
              "type": "array"
            },
            "temperature": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Temperature (Volatility):** Internal kinetic energy of the field at this point. High Temp: The field vibrates (High uncertainty/plasticity). Low Temp: The field is frozen (Crystallized/Immutable)."
            },
            "tenant_id": {
              "description": "Tenant (family/user) this entity belongs to",
              "format": "uuid",
              "type": "string"
            },
            "text": {
              "type": "string"
            },
            "velocity": {
              "description": "The rate of change of the field amplitude at this location (Cognitive Drift)",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            }
          },
          "required": [
            "amplitude",
            "amplitudes",
            "coherence",
            "created_at",
            "energy",
            "id",
            "metadata",
            "position",
            "source_moments",
            "temperature",
            "tenant_id",
            "text",
            "velocity"
          ],
          "title": "Motif",
          "type": "object"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/Motif.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b3adf4153c95740f6f39cfb8fb19903a3ea1b4f52891f09d4ecbef4e59fb0066",
      "created_at": "2025-12-18T18:59:43.226207Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "FamiliarEntityType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "Moment",
            "Pulse",
            "Intent",
            "Thread",
            "Bond",
            "Motif",
            "Filament",
            "Focus"
          ],
          "title": "FamiliarEntityType",
          "type": "string"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/FamiliarEntityType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "cb2c2822e6092d6c62ca0c6665c8471e4876681c05f1d1ae4a59f0cecfc1612a",
      "created_at": "2025-12-18T18:59:43.226378Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Pulse",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "InternalStateType": {
              "enum": [
                "emotional_shift",
                "realization",
                "reflection",
                "observation",
                "reaction"
              ],
              "type": "string"
            },
            "NormalizedFloat": {
              "description": "A float value normalized to [0.0, 1.0]",
              "format": "double",
              "type": "number"
            },
            "QuantizedCoord": {
              "description": "A quantized coordinate in the 3D VAE Manifold Uses i64 for precision in physics calculations",
              "format": "int64",
              "type": "integer"
            }
          },
          "description": "Core identity component that all entities possess",
          "properties": {
            "amplitude": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Amplitude (Mass):** The strength of the field excitation. High Amplitude: Core Beliefs, Long-term Memories. Hard to annihilate. Low Amplitude: Fleeting thoughts. Easily absorbed back into the vacuum."
            },
            "created_at": {
              "description": "When this entity was created",
              "format": "date-time",
              "type": "string"
            },
            "energy": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Energy (Activation):** The current potential/kinetic energy of the excitation."
            },
            "id": {
              "description": "Unique identifier for this entity",
              "format": "uuid",
              "type": "string"
            },
            "metadata": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "position": {
              "description": "The location in the 3D VAE Manifold where the field is excited",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            },
            "state_type": {
              "$ref": "#/definitions/InternalStateType"
            },
            "temperature": {
              "allOf": [
                {
                  "$ref": "#/definitions/NormalizedFloat"
                }
              ],
              "description": "**Temperature (Volatility):** Internal kinetic energy of the field at this point. High Temp: The field vibrates (High uncertainty/plasticity). Low Temp: The field is frozen (Crystallized/Immutable)."
            },
            "tenant_id": {
              "description": "Tenant (family/user) this entity belongs to",
              "format": "uuid",
              "type": "string"
            },
            "text": {
              "type": "string"
            },
            "velocity": {
              "description": "The rate of change of the field amplitude at this location (Cognitive Drift)",
              "items": {
                "$ref": "#/definitions/QuantizedCoord"
              },
              "maxItems": 3,
              "minItems": 3,
              "type": "array"
            }
          },
          "required": [
            "amplitude",
            "created_at",
            "energy",
            "id",
            "metadata",
            "position",
            "state_type",
            "temperature",
            "tenant_id",
            "text",
            "velocity"
          ],
          "title": "Pulse",
          "type": "object"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/Pulse.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ba20df7fdd6f9616e049b5321762b941d6e8a45941136e15a98e4339fc4fc1e5",
      "created_at": "2025-12-18T18:59:43.226486Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ConsentType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "enum": [
            "TermsOfService",
            "PrivacyPolicy",
            "MarketingEmails",
            "AiProcessing",
            "DataSharing",
            "Analytics"
          ],
          "title": "ConsentType",
          "type": "string"
        },
        "category": "entities",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/entities/ConsentType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "8d082046e551f7a132b6fe9125c04bfd78e0c649e9006d30ac93f3464180e55c",
      "created_at": "2025-12-18T18:59:43.226622Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ListEntitiesOptions",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EntityStatus": {
              "description": "HILT (Human in the Loop) status for entity approval",
              "enum": [
                "pending",
                "approved",
                "rejected",
                "auto_spawned"
              ],
              "type": "string"
            },
            "FamiliarEntityType": {
              "description": "Type of familiar entity",
              "enum": [
                "MOMENT",
                "PULSE",
                "INTENT",
                "THREAD",
                "BOND",
                "MOTIF",
                "FILAMENT",
                "FOCUS"
              ],
              "type": "string"
            }
          },
          "description": "Options for listing entities",
          "properties": {
            "entity_type": {
              "anyOf": [
                {
                  "$ref": "#/definitions/FamiliarEntityType"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "limit": {
              "default": null,
              "format": "int64",
              "type": [
                "integer",
                "null"
              ]
            },
            "status": {
              "anyOf": [
                {
                  "$ref": "#/definitions/EntityStatus"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            }
          },
          "title": "ListEntitiesOptions",
          "type": "object"
        },
        "category": "conversation",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/conversation/ListEntitiesOptions.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ce5ffbd14eff056d00ce9a91af9a907bbd6185db70f8b0ea9b0c543d8bbcfd4e",
      "created_at": "2025-12-18T18:59:43.226715Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityPhysics",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Physics state for an entity",
          "properties": {
            "arousal": {
              "format": "double",
              "type": "number"
            },
            "epistemic": {
              "format": "double",
              "type": "number"
            },
            "significance": {
              "format": "double",
              "type": "number"
            },
            "valence": {
              "format": "double",
              "type": "number"
            }
          },
          "required": [
            "arousal",
            "epistemic",
            "significance",
            "valence"
          ],
          "title": "EntityPhysics",
          "type": "object"
        },
        "category": "conversation",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/conversation/EntityPhysics.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "6c71282a880d74d861bfae73239176dd3a2cf2979f1f580087d34532f683636d",
      "created_at": "2025-12-18T18:59:43.226839Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "FamiliarEntity",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EntityPhysics": {
              "description": "Physics state for an entity",
              "properties": {
                "arousal": {
                  "format": "double",
                  "type": "number"
                },
                "epistemic": {
                  "format": "double",
                  "type": "number"
                },
                "significance": {
                  "format": "double",
                  "type": "number"
                },
                "valence": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "epistemic",
                "significance",
                "valence"
              ],
              "type": "object"
            },
            "EntityStatus": {
              "description": "HILT (Human in the Loop) status for entity approval",
              "enum": [
                "pending",
                "approved",
                "rejected",
                "auto_spawned"
              ],
              "type": "string"
            },
            "FamiliarEntityType": {
              "description": "Type of familiar entity",
              "enum": [
                "MOMENT",
                "PULSE",
                "INTENT",
                "THREAD",
                "BOND",
                "MOTIF",
                "FILAMENT",
                "FOCUS"
              ],
              "type": "string"
            }
          },
          "description": "A familiar entity spawned from conversation",
          "properties": {
            "content": {
              "type": "string"
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "entity_type": {
              "$ref": "#/definitions/FamiliarEntityType"
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "metadata": {
              "default": null
            },
            "physics": {
              "anyOf": [
                {
                  "$ref": "#/definitions/EntityPhysics"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "qdrant_collection": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "qdrant_point_id": {
              "default": null,
              "description": "Reference to Qdrant vector",
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "reviewed_at": {
              "default": null,
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "reviewed_by": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "source_channel_id": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "source_message_id": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "status": {
              "$ref": "#/definitions/EntityStatus"
            },
            "subject": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            },
            "updated_at": {
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "content",
            "created_at",
            "entity_type",
            "id",
            "status",
            "tenant_id",
            "updated_at"
          ],
          "title": "FamiliarEntity",
          "type": "object"
        },
        "category": "conversation",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/conversation/FamiliarEntity.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "a0aaf66859176485b54e1ed68205704da3c04044e65872fb4fede56c15504f30",
      "created_at": "2025-12-18T18:59:43.227057Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ListChannelsOptions",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ChannelType": {
              "description": "Type of channel",
              "oneOf": [
                {
                  "description": "Personal channel for a single user",
                  "enum": [
                    "personal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Family channel shared by all tenant members",
                  "enum": [
                    "family"
                  ],
                  "type": "string"
                },
                {
                  "description": "Shared channel for specific members",
                  "enum": [
                    "shared"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Options for listing channels",
          "properties": {
            "channel_type": {
              "anyOf": [
                {
                  "$ref": "#/definitions/ChannelType"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "owner_id": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            }
          },
          "title": "ListChannelsOptions",
          "type": "object"
        },
        "category": "conversation",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/conversation/ListChannelsOptions.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ce4ac8dc5ee84b0628c51044fd64db66fb1bcce22bf9c2d3d3aa5ea17193921e",
      "created_at": "2025-12-18T18:59:43.227192Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ConversationMessage",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Simplified message for conversation history (LLM context)",
          "properties": {
            "content": {
              "type": "string"
            },
            "role": {
              "type": "string"
            }
          },
          "required": [
            "content",
            "role"
          ],
          "title": "ConversationMessage",
          "type": "object"
        },
        "category": "conversation",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/conversation/ConversationMessage.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b18b92aa1adbce154e55182556de14c5651dcf4609a373b5da53d0ddb3215d35",
      "created_at": "2025-12-18T18:59:43.227286Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ListMessagesOptions",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Options for listing messages",
          "properties": {
            "after": {
              "default": null,
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "before": {
              "default": null,
              "format": "date-time",
              "type": [
                "string",
                "null"
              ]
            },
            "limit": {
              "default": null,
              "format": "int64",
              "type": [
                "integer",
                "null"
              ]
            }
          },
          "title": "ListMessagesOptions",
          "type": "object"
        },
        "category": "conversation",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/conversation/ListMessagesOptions.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "cb055fe3f5a110e0dc134d39a4098f714395e27148d61569b34045415ab457bf",
      "created_at": "2025-12-18T18:59:43.227378Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Channel",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ChannelType": {
              "description": "Type of channel",
              "oneOf": [
                {
                  "description": "Personal channel for a single user",
                  "enum": [
                    "personal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Family channel shared by all tenant members",
                  "enum": [
                    "family"
                  ],
                  "type": "string"
                },
                {
                  "description": "Shared channel for specific members",
                  "enum": [
                    "shared"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "A channel (conversation space)",
          "properties": {
            "channel_type": {
              "$ref": "#/definitions/ChannelType"
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "description": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "id": {
              "description": "Unique identifier for this entity",
              "format": "uuid",
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "owner_id": {
              "default": null,
              "description": "Owner of the channel (None for family channels)",
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "settings": {
              "default": null
            },
            "tenant_id": {
              "description": "Tenant (family) this entity belongs to",
              "format": "uuid",
              "type": "string"
            },
            "updated_at": {
              "format": "date-time",
              "type": "string"
            }
          },
          "required": [
            "channel_type",
            "created_at",
            "id",
            "name",
            "tenant_id",
            "updated_at"
          ],
          "title": "Channel",
          "type": "object"
        },
        "category": "conversation",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/conversation/Channel.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "e2c24aab413a4871474b39cc3fa516382901fbb187690c356f49cea4e6d0e093",
      "created_at": "2025-12-18T18:59:43.227475Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CreateEntityInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EntityPhysics": {
              "description": "Physics state for an entity",
              "properties": {
                "arousal": {
                  "format": "double",
                  "type": "number"
                },
                "epistemic": {
                  "format": "double",
                  "type": "number"
                },
                "significance": {
                  "format": "double",
                  "type": "number"
                },
                "valence": {
                  "format": "double",
                  "type": "number"
                }
              },
              "required": [
                "arousal",
                "epistemic",
                "significance",
                "valence"
              ],
              "type": "object"
            },
            "EntityStatus": {
              "description": "HILT (Human in the Loop) status for entity approval",
              "enum": [
                "pending",
                "approved",
                "rejected",
                "auto_spawned"
              ],
              "type": "string"
            },
            "FamiliarEntityType": {
              "description": "Type of familiar entity",
              "enum": [
                "MOMENT",
                "PULSE",
                "INTENT",
                "THREAD",
                "BOND",
                "MOTIF",
                "FILAMENT",
                "FOCUS"
              ],
              "type": "string"
            }
          },
          "description": "Input for creating a new familiar entity",
          "properties": {
            "content": {
              "type": "string"
            },
            "entity_type": {
              "$ref": "#/definitions/FamiliarEntityType"
            },
            "metadata": {
              "default": null
            },
            "physics": {
              "anyOf": [
                {
                  "$ref": "#/definitions/EntityPhysics"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "source_channel_id": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "source_message_id": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "status": {
              "anyOf": [
                {
                  "$ref": "#/definitions/EntityStatus"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "subject": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "content",
            "entity_type",
            "tenant_id"
          ],
          "title": "CreateEntityInput",
          "type": "object"
        },
        "category": "conversation",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/conversation/CreateEntityInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "487818346534527728cf7844806dba86063fa44a111d43ba7782b4825edbba03",
      "created_at": "2025-12-18T18:59:43.227573Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "UpdateEntityStatusInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "EntityStatus": {
              "description": "HILT (Human in the Loop) status for entity approval",
              "enum": [
                "pending",
                "approved",
                "rejected",
                "auto_spawned"
              ],
              "type": "string"
            }
          },
          "description": "Input for updating entity status (HILT)",
          "properties": {
            "reviewed_by": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "status": {
              "$ref": "#/definitions/EntityStatus"
            }
          },
          "required": [
            "status"
          ],
          "title": "UpdateEntityStatusInput",
          "type": "object"
        },
        "category": "conversation",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/conversation/UpdateEntityStatusInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "135a0f010cadff01caae4bad3e19a62f1e93a5021e40c797190ff4a6cc9f8dea",
      "created_at": "2025-12-18T18:59:43.227662Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CreateMessageInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "MessageRole": {
              "description": "Role in a chat conversation",
              "oneOf": [
                {
                  "description": "System instructions",
                  "enum": [
                    "system"
                  ],
                  "type": "string"
                },
                {
                  "description": "User input",
                  "enum": [
                    "user"
                  ],
                  "type": "string"
                },
                {
                  "description": "Assistant response",
                  "enum": [
                    "assistant"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Input for creating a new message",
          "properties": {
            "agent_speaker": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "channel_id": {
              "format": "uuid",
              "type": "string"
            },
            "content": {
              "type": "string"
            },
            "metadata": {
              "default": null
            },
            "parent_id": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "role": {
              "$ref": "#/definitions/MessageRole"
            },
            "sender_id": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "thinking_steps": {
              "default": null
            },
            "tool_calls": {
              "default": null
            },
            "weave_result": {
              "default": null
            }
          },
          "required": [
            "channel_id",
            "content",
            "role"
          ],
          "title": "CreateMessageInput",
          "type": "object"
        },
        "category": "conversation",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/conversation/CreateMessageInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "1795ef91a85e142f7d9abf26c5c52b63072147872fff7e73987b6c3bc9a566f2",
      "created_at": "2025-12-18T18:59:43.228023Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "EntityStatus",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "HILT (Human in the Loop) status for entity approval",
          "enum": [
            "pending",
            "approved",
            "rejected",
            "auto_spawned"
          ],
          "title": "EntityStatus",
          "type": "string"
        },
        "category": "conversation",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/conversation/EntityStatus.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "b499979e8b81dddcd4eb1eaa340271ca2ca6e2753513db7b37fabba1c979001a",
      "created_at": "2025-12-18T18:59:43.228944Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "ChannelType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Type of channel",
          "oneOf": [
            {
              "description": "Personal channel for a single user",
              "enum": [
                "personal"
              ],
              "type": "string"
            },
            {
              "description": "Family channel shared by all tenant members",
              "enum": [
                "family"
              ],
              "type": "string"
            },
            {
              "description": "Shared channel for specific members",
              "enum": [
                "shared"
              ],
              "type": "string"
            }
          ],
          "title": "ChannelType"
        },
        "category": "conversation",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/conversation/ChannelType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "353a0d4feb99d5f013d2c6b057b0747d56c4d690ec1d61f82b320bf0b1d5f4fb",
      "created_at": "2025-12-18T18:59:43.229183Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "FamiliarEntityType",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "description": "Type of familiar entity",
          "enum": [
            "MOMENT",
            "PULSE",
            "INTENT",
            "THREAD",
            "BOND",
            "MOTIF",
            "FILAMENT",
            "FOCUS"
          ],
          "title": "FamiliarEntityType",
          "type": "string"
        },
        "category": "conversation",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/conversation/FamiliarEntityType.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "2362c747658a7b84daa274c259a2ea802c52b6c6ad5a3dfb71f1cae39af8bb88",
      "created_at": "2025-12-18T18:59:43.229404Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "Message",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "MessageRole": {
              "description": "Role in a chat conversation",
              "oneOf": [
                {
                  "description": "System instructions",
                  "enum": [
                    "system"
                  ],
                  "type": "string"
                },
                {
                  "description": "User input",
                  "enum": [
                    "user"
                  ],
                  "type": "string"
                },
                {
                  "description": "Assistant response",
                  "enum": [
                    "assistant"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "A message in a channel",
          "properties": {
            "agent_speaker": {
              "default": null,
              "description": "Which agent generated this (for assistant messages)",
              "type": [
                "string",
                "null"
              ]
            },
            "channel_id": {
              "format": "uuid",
              "type": "string"
            },
            "content": {
              "type": "string"
            },
            "created_at": {
              "format": "date-time",
              "type": "string"
            },
            "id": {
              "format": "uuid",
              "type": "string"
            },
            "metadata": {
              "default": null
            },
            "parent_id": {
              "default": null,
              "description": "Parent message for threading",
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "role": {
              "$ref": "#/definitions/MessageRole"
            },
            "sender_id": {
              "default": null,
              "description": "Sender (None for AI/system messages)",
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "thinking_steps": {
              "default": null,
              "description": "Chain of thought steps"
            },
            "tool_calls": {
              "default": null,
              "description": "Tool calls made"
            },
            "weave_result": {
              "default": null,
              "description": "Full weave_result from Fates pipeline"
            }
          },
          "required": [
            "channel_id",
            "content",
            "created_at",
            "id",
            "role"
          ],
          "title": "Message",
          "type": "object"
        },
        "category": "conversation",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/conversation/Message.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "ab5d5cdc829320a52f602a0debc5bb9739371cfc2844bd069725f8fc3082a732",
      "created_at": "2025-12-18T18:59:43.229573Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "CreateChannelInput",
        "schema_type": "json_schema",
        "content": {
          "$schema": "http://json-schema.org/draft-07/schema#",
          "definitions": {
            "ChannelType": {
              "description": "Type of channel",
              "oneOf": [
                {
                  "description": "Personal channel for a single user",
                  "enum": [
                    "personal"
                  ],
                  "type": "string"
                },
                {
                  "description": "Family channel shared by all tenant members",
                  "enum": [
                    "family"
                  ],
                  "type": "string"
                },
                {
                  "description": "Shared channel for specific members",
                  "enum": [
                    "shared"
                  ],
                  "type": "string"
                }
              ]
            }
          },
          "description": "Input for creating a new channel",
          "properties": {
            "channel_type": {
              "anyOf": [
                {
                  "$ref": "#/definitions/ChannelType"
                },
                {
                  "type": "null"
                }
              ],
              "default": null
            },
            "description": {
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "name": {
              "type": "string"
            },
            "owner_id": {
              "default": null,
              "format": "uuid",
              "type": [
                "string",
                "null"
              ]
            },
            "tenant_id": {
              "format": "uuid",
              "type": "string"
            }
          },
          "required": [
            "name",
            "tenant_id"
          ],
          "title": "CreateChannelInput",
          "type": "object"
        },
        "category": "conversation",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/generated/schemas/conversation/CreateChannelInput.schema.json"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "90f4f97f456f0b9f74b4ae01ceb1e7abd22b5aadb4861ce5c35ffd3fcd8bc438",
      "created_at": "2025-12-18T18:59:43.229673Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "payload",
        "schema_type": "protobuf",
        "content": "// Payload types for Familiar Kafka messages\n// All payload variants are represented as a protobuf oneof\nsyntax = \"proto3\";\n\npackage familiar.kafka;\n\n// =============================================================================\n// Payload - Discriminated Union of All Message Types\n// =============================================================================\n\n// Universal payload message containing all possible payload variants\nmessage Payload {\n  oneof payload {\n    // Course Commands\n    CourseStart course_start = 1;\n    CourseContinue course_continue = 2;\n    CourseCancel course_cancel = 3;\n    CourseRetry course_retry = 4;\n\n    // Course Events\n    CourseStarted course_started = 10;\n    CourseSegmented course_segmented = 11;\n    CourseClassified course_classified = 12;\n    CourseCompleted course_completed = 13;\n    CourseFailed course_failed = 14;\n    CourseCancelled course_cancelled = 15;\n    CourseRetrying course_retrying = 16;\n\n    // Onboarding Commands\n    Signup signup = 20;\n    CreateFamily create_family = 21;\n    AcceptInvitation accept_invitation = 22;\n\n    // Onboarding Events\n    SignupCompleted signup_completed = 30;\n    FamilyCreated family_created = 31;\n    InvitationAccepted invitation_accepted = 32;\n    OnboardingFailed onboarding_failed = 33;\n\n    // Traces\n    Trace trace = 40;\n  }\n}\n\n// =============================================================================\n// Course Domain - Commands\n// =============================================================================\n\n// Start a new course from a weave\nmessage CourseStart {\n  // The weave (user input) ID\n  string weave_id = 1;\n  // Raw text content\n  string content = 2;\n  // Optional context\n  optional string context = 3;\n  // Multimodal blocks (images, audio, etc.) - stored as JSON string\n  optional string blocks_json = 4;\n  // Prior conversation for context - stored as JSON string\n  optional string conversation_history_json = 5;\n}\n\n// Continue an existing course with additional user input\nmessage CourseContinue {\n  // The new user message\n  string user_message = 1;\n  // Optional multimodal blocks - stored as JSON string\n  optional string blocks_json = 2;\n}\n\n// Cancel a running course\nmessage CourseCancel {\n  // Reason for cancellation\n  optional string reason = 1;\n}\n\n// Retry a failed course\nmessage CourseRetry {\n  // Original command to retry\n  string original_command_id = 1;\n}\n\n// =============================================================================\n// Course Domain - Events\n// =============================================================================\n\n// Course has started processing\nmessage CourseStarted {\n  // The weave that started this course\n  string weave_id = 1;\n}\n\n// Segmentation phase completed\nmessage CourseSegmented {\n  // Number of segments/units identified\n  uint32 unit_count = 1;\n}\n\n// Classification phase completed\nmessage CourseClassified {\n  // Entity types identified\n  repeated string entity_types = 1;\n  // Physics hints computed (optional)\n  optional string physics_summary = 2;\n}\n\n// Course completed successfully\nmessage CourseCompleted {\n  // The final response to send to user\n  string response = 1;\n  // Duration in milliseconds\n  uint64 duration_ms = 2;\n  // Token usage (if tracked)\n  optional uint32 tokens_used = 3;\n}\n\n// Course failed\nmessage CourseFailed {\n  // Error message (sanitized for storage)\n  string error = 1;\n  // Error code for programmatic handling\n  optional string error_code = 2;\n  // Whether this is retryable\n  bool retryable = 3;\n}\n\n// Course was cancelled\nmessage CourseCancelled {\n  // Who cancelled (user, system, timeout)\n  string cancelled_by = 1;\n  // Reason for cancellation\n  optional string reason = 2;\n}\n\n// Course is being retried\nmessage CourseRetrying {\n  // Retry attempt number\n  uint32 attempt = 1;\n  // Original error that triggered retry\n  string original_error = 2;\n}\n\n// =============================================================================\n// Onboarding Domain - Commands\n// =============================================================================\n\n// User signup request\nmessage Signup {\n  // User's email address\n  string email = 1;\n  // User's password (will be hashed by worker)\n  string password = 2;\n  // User's display name\n  string name = 3;\n  // User consent flags\n  SignupConsents consents = 4;\n  // Request context for audit\n  optional RequestContext request_context = 5;\n  // Invite code if signing up via invitation\n  optional string invite_code = 6;\n}\n\n// User consent flags for signup\nmessage SignupConsents {\n  bool terms = 1;\n  bool privacy = 2;\n}\n\n// Request context for audit\nmessage RequestContext {\n  optional string ip_address = 1;\n  optional string user_agent = 2;\n  optional string referrer = 3;\n}\n\n// Create a new family/tenant\nmessage CreateFamily {\n  // Name for the new family\n  string family_name = 1;\n}\n\n// Accept an invitation to join a family\nmessage AcceptInvitation {\n  // The invitation code to accept\n  string invitation_code = 1;\n}\n\n// =============================================================================\n// Onboarding Domain - Events\n// =============================================================================\n\n// Signup completed successfully\nmessage SignupCompleted {\n  // Session token for the new user\n  string session_token = 1;\n  // Whether the user needs to create/join a family\n  bool needs_family = 2;\n}\n\n// Family creation completed\nmessage FamilyCreated {\n  // Name of the created tenant\n  string tenant_name = 1;\n}\n\n// Invitation accepted\nmessage InvitationAccepted {\n  // Name of the family joined\n  string family_name = 1;\n}\n\n// Onboarding failed\nmessage OnboardingFailed {\n  // Error code for programmatic handling\n  string error_code = 1;\n  // Human-readable error message\n  string message = 2;\n}\n\n// =============================================================================\n// Trace - UI-Safe Progress Messages\n// =============================================================================\n\n// Trace event for UI streaming\nmessage Trace {\n  // Monotonic sequence number per-course\n  uint64 seq = 1;\n  // Span identifier\n  string span_id = 2;\n  // Parent span (for hierarchy)\n  optional string parent_span_id = 3;\n  // Type of trace\n  TraceKind kind = 4;\n  // Status of this trace unit\n  TraceStatus status = 5;\n  // Agent that produced this trace\n  optional string agent = 6;\n  // Human-readable message\n  string message = 7;\n  // Tool name (if kind == TOOL)\n  optional string tool_name = 8;\n  // Tool arguments (redacted/summarized) - stored as JSON string\n  optional string tool_args_json = 9;\n  // Tool result (summary only)\n  optional string tool_result = 10;\n  // Response tokens (if kind == TOKEN)\n  optional string tokens = 11;\n  // Duration in milliseconds\n  optional uint64 duration_ms = 12;\n}\n\n// Type of trace\nenum TraceKind {\n  TRACE_KIND_UNSPECIFIED = 0;\n  TRACE_KIND_STEP = 1;\n  TRACE_KIND_TOOL = 2;\n  TRACE_KIND_ROUTE = 3;\n  TRACE_KIND_LOG = 4;\n  TRACE_KIND_TOKEN = 5;\n  TRACE_KIND_RESULT = 6;\n}\n\n// Status of trace unit\nenum TraceStatus {\n  TRACE_STATUS_UNSPECIFIED = 0;\n  TRACE_STATUS_STARTED = 1;\n  TRACE_STATUS_SUCCEEDED = 2;\n  TRACE_STATUS_FAILED = 3;\n  TRACE_STATUS_SKIPPED = 4;\n}\n\n",
        "category": "kafka",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/proto/payload.proto"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "608977ffa1cd0ab5e4bdc89ae072e805d5d2b1ef427492a0d4eeca8eaf1e5cca",
      "created_at": "2025-12-18T18:59:43.229796Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    },
    {
      "schema": {
        "name": "envelope_v1",
        "schema_type": "protobuf",
        "content": "// Universal Message Envelope (EnvelopeV1) for Familiar Kafka communication\n//\n// A single envelope type for ALL Kafka communication in the Familiar system.\n// This follows the \"message envelope\" design pattern where:\n//\n// - **Standardized Metadata**: Common fields are present across all messages\n// - **Decoupling**: System metadata is separated from domain-specific payloads\n// - **Cross-Cutting Concerns**: Routing, filtering, security operate on envelope\n// - **Schema Evolution**: Envelope evolves independently from payloads\n//\n// Kafka Headers (duplicated for routing WITHOUT deserializing):\n// | Header | Purpose | Example |\n// |--------|---------|---------|\n// | `message_type` | Routing | `familiar.course.command.start` |\n// | `schema_id` | Schema Registry | `1832` |\n// | `correlation_id` | Trace correlation | `crs_01JF...` |\n// | `content_type` | Format hint | `application/x-protobuf` |\n\nsyntax = \"proto3\";\n\npackage familiar.kafka;\n\nimport \"payload.proto\";\n\n// Schema version for envelope evolution\n// const ENVELOPE_VERSION = 1;\n\n// =============================================================================\n// EnvelopeV1 - Universal Message Envelope\n// =============================================================================\n\n// Universal message envelope for all Kafka communication\n//\n// This is the SINGLE envelope type used for commands, events, and traces.\n// Payload type is distinguished by the discriminated union.\n//\n// Key Design Decisions:\n// - `message_id`: ULID for natural time-ordering and uniqueness\n// - `message_type`: Dot-notation for routing (e.g., `familiar.course.command.start`)\n// - `correlation_id`: Often equals `course_id` for course workflows\n// - `causation_id`: Points to upstream message that caused this one\n//\n// Kafka Record Mapping:\n// - Key: `{tenant_id}:{correlation_id}` for partition affinity\n// - Value: Serialized EnvelopeV1 (Protobuf)\n// - Headers: `message_type`, `correlation_id`, `schema_id`, `content_type`\nmessage EnvelopeV1 {\n  // === Identity ===\n  // Unique message ID (ULID for natural ordering)\n  string message_id = 1;\n  // Message type for routing (e.g., \"familiar.course.command.start\")\n  string message_type = 2;\n  // When this message was created (RFC3339 string for serde compatibility)\n  string occurred_at = 3;\n\n  // === Context ===\n  // Tenant (family) context - UUID as string\n  string tenant_id = 4;\n  // Thread context (conversation) - optional\n  optional string thread_id = 5;\n  // Course context (correlation_id for course workflows) - optional\n  optional string course_id = 6;\n  // User who initiated this message - UUID as string\n  string user_id = 7;\n\n  // === Tracing ===\n  // Correlation ID (ties together workflow, often == course_id)\n  string correlation_id = 8;\n  // Causation ID (upstream message that caused this)\n  optional string causation_id = 9;\n\n  // === Producer ===\n  // Information about the message producer\n  ProducerInfo producer = 10;\n\n  // === Schema ===\n  // Schema information for validation\n  SchemaInfo schema = 11;\n\n  // === Payload ===\n  // The actual message payload (discriminated union)\n  Payload payload = 12;\n}\n\n// Producer metadata for tracing and debugging\nmessage ProducerInfo {\n  // Service name (e.g., \"familiar-api\", \"familiar-worker\")\n  string service = 1;\n  // Instance identifier (e.g., pod name, hostname)\n  string instance = 2;\n  // Build version (git hash, version tag)\n  optional string build = 3;\n}\n\n// Schema metadata for validation and evolution\nmessage SchemaInfo {\n  // Serialization format (\"json\", \"protobuf\", \"avro\")\n  string format = 1;\n  // Schema subject in Schema Registry\n  string subject = 2;\n  // Schema version\n  uint32 version = 3;\n}\n\n",
        "category": "kafka",
        "source_crate": "familiar-core",
        "source_path": "/Users/erictheiss/familiar/docs/v4/familiar-core/proto/envelope_v1.proto"
      },
      "version": {
        "version": "0.7.0",
        "commit_hash": null,
        "tag": null,
        "created_at": "2025-12-18T18:59:43.158928Z",
        "created_by": null,
        "notes": null,
        "previous_version": null
      },
      "checksum": "60d5d5943bbc897044e08aa0c35dfb04b0cea0e38ea344d1007b199379577a24",
      "created_at": "2025-12-18T18:59:43.230067Z",
      "created_by": "schema-migration",
      "compatible_with": [],
      "breaking_change": false,
      "change_notes": null
    }
  ],
  "created_at": "2025-12-18T18:59:43.230387Z",
  "manifest_checksum": "2c772a41abf6704d36d42897af4610fcded964936659fd6d904e01019fb22068",
  "stats": {
    "total_schemas": 434,
    "json_schemas": 432,
    "protobuf_schemas": 2,
    "avro_schemas": 0,
    "database_schemas": 0,
    "typescript_schemas": 0,
    "python_schemas": 0,
    "by_category": {
      "conversation": 15,
      "contracts": 8,
      "auth": 36,
      "tools": 137,
      "windmill": 14,
      "database": 16,
      "tenant": 2,
      "ui": 22,
      "components": 34,
      "entities": 24,
      "primitives": 33,
      "entities_api": 19,
      "agentic": 10,
      "api": 2,
      "types": 49,
      "kafka": 8,
      "config": 5
    },
    "by_source_crate": {
      "familiar-core": 409,
      "familiar-primitives": 17,
      "familiar-contracts": 8
    }
  }
}