{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ThreadRelation",
  "description": "Thread relationship in the graph",
  "type": "object",
  "required": [
    "relation_type",
    "source_id",
    "strength",
    "target_id"
  ],
  "properties": {
    "relation_type": {
      "description": "Type of relation",
      "allOf": [
        {
          "$ref": "#/definitions/ThreadRelationType"
        }
      ]
    },
    "source_id": {
      "description": "Source thread",
      "type": "string"
    },
    "strength": {
      "description": "Strength (0.0 to 1.0)",
      "type": "number",
      "format": "double"
    },
    "target_id": {
      "description": "Target thread",
      "type": "string"
    }
  },
  "definitions": {
    "ThreadRelationType": {
      "description": "Types of thread relations",
      "oneOf": [
        {
          "description": "Part of (belongs to)",
          "type": "string",
          "enum": [
            "part_of"
          ]
        },
        {
          "description": "Contains (has parts)",
          "type": "string",
          "enum": [
            "contains"
          ]
        },
        {
          "description": "Related to (general association)",
          "type": "string",
          "enum": [
            "related_to"
          ]
        },
        {
          "description": "Causes / leads to",
          "type": "string",
          "enum": [
            "causes_of"
          ]
        },
        {
          "description": "Opposite of",
          "type": "string",
          "enum": [
            "opposite_of"
          ]
        },
        {
          "description": "Same as (alias)",
          "type": "string",
          "enum": [
            "same_as"
          ]
        }
      ]
    }
  }
}