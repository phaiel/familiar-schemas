{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ToolError",
  "description": "Error types for tool failures",
  "type": "object",
  "required": [
    "code",
    "message",
    "retryable"
  ],
  "properties": {
    "code": {
      "description": "Error code for programmatic handling",
      "allOf": [
        {
          "$ref": "#/definitions/ToolErrorCode"
        }
      ]
    },
    "details": {
      "description": "Additional error details",
      "default": null
    },
    "message": {
      "description": "Human-readable error message",
      "type": "string"
    },
    "retryable": {
      "description": "Whether this error is retryable",
      "type": "boolean"
    }
  },
  "definitions": {
    "ToolErrorCode": {
      "description": "Error codes for tool failures",
      "oneOf": [
        {
          "description": "Invalid input parameters",
          "type": "string",
          "enum": [
            "INVALID_INPUT"
          ]
        },
        {
          "description": "Missing required parameter",
          "type": "string",
          "enum": [
            "MISSING_PARAMETER"
          ]
        },
        {
          "description": "Parameter validation failed",
          "type": "string",
          "enum": [
            "VALIDATION_FAILED"
          ]
        },
        {
          "description": "Tool execution timed out",
          "type": "string",
          "enum": [
            "TIMEOUT"
          ]
        },
        {
          "description": "Rate limit exceeded",
          "type": "string",
          "enum": [
            "RATE_LIMITED"
          ]
        },
        {
          "description": "External service unavailable",
          "type": "string",
          "enum": [
            "SERVICE_UNAVAILABLE"
          ]
        },
        {
          "description": "LLM API error",
          "type": "string",
          "enum": [
            "LLM_ERROR"
          ]
        },
        {
          "description": "Internal tool error",
          "type": "string",
          "enum": [
            "INTERNAL_ERROR"
          ]
        },
        {
          "description": "Resource not found",
          "type": "string",
          "enum": [
            "NOT_FOUND"
          ]
        },
        {
          "description": "Permission denied",
          "type": "string",
          "enum": [
            "PERMISSION_DENIED"
          ]
        }
      ]
    }
  }
}