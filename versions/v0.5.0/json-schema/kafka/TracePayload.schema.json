{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "TracePayload",
  "description": "Trace payload - sanitized for UI consumption",
  "type": "object",
  "required": [
    "message"
  ],
  "properties": {
    "agent": {
      "description": "Agent that produced this trace (concierge, classifier, etc.)",
      "type": [
        "string",
        "null"
      ]
    },
    "duration_ms": {
      "description": "Duration in milliseconds (if status == Succeeded or Failed)",
      "type": [
        "integer",
        "null"
      ],
      "format": "uint64",
      "minimum": 0.0
    },
    "message": {
      "description": "Human-readable message",
      "type": "string"
    },
    "tokens": {
      "description": "Response tokens (if kind == Token)",
      "type": [
        "string",
        "null"
      ]
    },
    "tool_args": {
      "description": "Tool arguments (redacted/summarized)"
    },
    "tool_name": {
      "description": "Tool name (if kind == Tool)",
      "type": [
        "string",
        "null"
      ]
    },
    "tool_result": {
      "description": "Tool result (summary only, not full output)",
      "type": [
        "string",
        "null"
      ]
    }
  }
}