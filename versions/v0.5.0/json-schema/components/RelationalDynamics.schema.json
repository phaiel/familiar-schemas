{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "RelationalDynamics",
  "type": "object",
  "required": [
    "formalism",
    "intimacy",
    "power_dynamic",
    "transparency"
  ],
  "properties": {
    "formalism": {
      "description": "**Formalism (Transactionalism / Spring Stiffness):** 1.0 = Rigid/Brittle (High k). Hard to move, snaps if stretched. 0.0 = Fluid/Elastic (Low k). Easy to stretch, adapts to change.",
      "allOf": [
        {
          "$ref": "#/definitions/NormalizedFloat"
        }
      ]
    },
    "intimacy": {
      "description": "**Intimacy (Communal Strength / Rest Length):** 1.0 = Fusion (Rest Length 0). The entities want to occupy the same space. 0.0 = Estrangement (Max Rest Length).",
      "allOf": [
        {
          "$ref": "#/definitions/NormalizedFloat"
        }
      ]
    },
    "power_dynamic": {
      "description": "**Power Dynamic (Authority Gradient / Mass Bias):** -1.0 = Target is the Anchor (Infinite Mass relative to Source). 0.0 = Equal Mass (Both move equally). +1.0 = Source is the Anchor.",
      "allOf": [
        {
          "$ref": "#/definitions/SignedNormalizedFloat"
        }
      ]
    },
    "primary_label": {
      "type": [
        "string",
        "null"
      ]
    },
    "spectral_signature": {
      "description": "**Color Filter (Spectral Gating):** If set, this bond only \"lights up\" under specific emotional light. e.g., A \"Work Friend\" bond might only reflect \"Professional\" (Blue) light. Stored as a hex code or vector for the shader.",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "type": "number",
        "format": "float"
      },
      "maxItems": 3,
      "minItems": 3
    },
    "transparency": {
      "description": "**Transparency (Refractive Index):** 1.0 = Clear. Looking at the Source reveals the Target (e.g., \"Honest\"). 0.0 = Opaque. The relationship hides the Target (e.g., \"Secretive\").",
      "allOf": [
        {
          "$ref": "#/definitions/NormalizedFloat"
        }
      ]
    }
  },
  "definitions": {
    "NormalizedFloat": {
      "description": "A float value normalized to [0.0, 1.0]",
      "type": "number",
      "format": "double"
    },
    "SignedNormalizedFloat": {
      "description": "A floating-point value normalized between -1.0 and 1.0. Used for polarity (Valence), alignment (Phase), and gradients.",
      "type": "number",
      "format": "double"
    }
  }
}