{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://familiar.dev/schemas/resources/postgres-main.resource.json",
  "description": "Primary PostgreSQL database for core application data including auth, users, and configuration.",
  "title": "PostgresMain",
  "x-familiar-config": {
    "$ref": "../components/DbPoolConfig.schema.json"
  },
  "x-familiar-connection-pool": {
    "max": 20,
    "min": 5
  },
  "x-familiar-health-check": {
    "endpoint": "/health/db",
    "interval": "30s"
  },
  "x-familiar-kind": "resource",
  "x-familiar-meta-schema": {
    "$ref": "../architecture/meta/Resource.meta.schema.json"
  },
  "x-familiar-resource-type": "database",
  "x-familiar-tables": [
    "users",
    "tenants",
    "sessions",
    "invitations",
    "join_requests",
    "magic_links",
    "consent_records",
    "audit_logs"
  ],
  "x-familiar-virtual": false
}