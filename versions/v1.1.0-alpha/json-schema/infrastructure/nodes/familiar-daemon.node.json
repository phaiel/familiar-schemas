{
  "$schema": "../../architecture/meta/Node.meta.schema.json",
  "$id": "infrastructure/nodes/familiar-daemon.node.json",
  "id": "familiar-daemon",
  "title": "Familiar Daemon",
  "description": "High-performance service node for LLM-connected operations with intelligent load balancing",
  "x-familiar-kind": "node",

  "constraints": {
    "memory": "node.available_memory > config:nodes.familiar_daemon.constraints.memory_threshold",
    "cpu": "node.cpu_usage < config:nodes.familiar_daemon.constraints.cpu_threshold",
    "version": "node.schema_version >= '1.2.0'",
    "health": "node.queue_depth < config:nodes.familiar_daemon.constraints.queue_depth_threshold && node.error_rate < config:nodes.familiar_daemon.constraints.error_rate_threshold",
    "llm_capacity": "node.active_llm_jobs < 8"
  },

  "resources": {
    "cpu": "config:nodes.familiar_daemon.resources.cpu",
    "memory": "config:nodes.familiar_daemon.resources.memory",
    "storage": "config:nodes.familiar_daemon.resources.storage"
  },

  "systems": [
    { "$ref": "../systems/FatesGate.system.json" },
    { "$ref": "../systems/FatesMorta.system.json" },
    { "$ref": "../systems/FatesDecima.system.json" },
    { "$ref": "../systems/FatesNona.system.json" },
    { "$ref": "../systems/ClassifierSystem.system.json" }
  ]
}