{
  "$schema": "../../architecture/meta/Node.meta.schema.json",
  "$id": "infrastructure/nodes/familiar-worker.node.json",
  "id": "familiar-worker",
  "title": "Familiar Worker",
  "description": "Batch processing node for IO-bound operations with high concurrency",
  "x-familiar-kind": "node",

  "constraints": {
    "memory": "node.available_memory > config:nodes.familiar_worker.constraints.memory_threshold",
    "cpu": "node.cpu_usage < config:nodes.familiar_worker.constraints.cpu_threshold",
    "io_capacity": "node.active_db_connections < 50"
  },

  "resources": {
    "cpu": "config:nodes.familiar_worker.resources.cpu",
    "memory": "config:nodes.familiar_worker.resources.memory",
    "storage": "config:nodes.familiar_worker.resources.storage"
  },

  "systems": [
    { "$ref": "../systems/FeatureExtractionSystem.system.json" }
  ]
}