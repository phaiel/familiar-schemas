{
  "$schema": "meta/Environment.meta.schema.json",
  "name": "staging",
  
  "nodes": {
    "familiar-daemon": {
      "min_replicas": 2,
      "max_replicas": 5,
      "scaling": {
        "metric": "queue_depth",
        "target": 25,
        "cooldown": "2m"
      }
    },
    "familiar-worker": {
      "min_replicas": 1,
      "max_replicas": 3,
      "scaling": {
        "metric": "cpu",
        "target": 70,
        "cooldown": "2m"
      }
    },
    "classifier": {
      "min_replicas": 1,
      "max_replicas": 2,
      "scaling": {
        "metric": "active_jobs",
        "target": 4,
        "cooldown": "1m"
      }
    }
  },
  
  "global": {
    "version_compatibility": "compatible",
    "default_timeout": "60s"
  }
}
