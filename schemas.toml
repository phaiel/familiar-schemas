# Schema Registry Configuration
# This file configures familiar-schemas for the local development environment

[registry]
path = "."
default_author = "Eric Theiss"
immutable = true
# git_remote = "git@github.com:familiar/familiar-schemas.git"

[export]
output_format = "pretty"
include_checksums = true
include_manifest = true
create_latest_symlink = true

[workspace]
root = "../docs/v4"

[[workspace.crates]]
name = "familiar-primitives"
schemas_dir = "generated/schemas"
default_category = "primitives"

[[workspace.crates]]
name = "familiar-contracts"
schemas_dir = "generated/schemas"
default_category = "contracts"

[[workspace.crates]]
name = "familiar-core"
schemas_dir = "generated/schemas"
default_category = "core"

[validation]
strict_json_schema = true
validate_avro = true
fail_on_breaking = false
ignore_paths = [
    "src/analysis/",
    "src/bin/",
    "tests/",
    "examples/",
]

# Category to source mapping (for documentation/reference)
[categories]
auth = "familiar-core/src/auth"
tools = "familiar-core/src/tools"
agentic = "familiar-core/src/agentic"
windmill = "familiar-core/src/windmill"
entities = "familiar-core/src/entities"
components = "familiar-core/src/components"
kafka = "familiar-core/src/kafka"
ui = "familiar-core/src/ui"
